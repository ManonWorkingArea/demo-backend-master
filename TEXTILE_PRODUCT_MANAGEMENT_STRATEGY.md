# ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ú‡πâ‡∏≤: ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°

## ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå

### 1Ô∏è‚É£ ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: ‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏ô Lot ID
```
‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: 402-177-152-08883
‡∏Ç‡πâ‡∏≠‡∏î‡∏µ: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡πÉ‡∏ô‡∏ï‡∏±‡∏ß, ‡∏™‡πÅ‡∏Å‡∏ô‡∏á‡πà‡∏≤‡∏¢
‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢: ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô, ‡∏¢‡∏≤‡∏Å‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°
```

### 2Ô∏è‚É£ ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏¢‡∏Å‡∏ä‡∏±‡πâ‡∏ô: Product + Lot (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‚≠ê)
```
Product Master: PRD-402-177-152
Lot ID: LOT-08883
Full Reference: PRD-402-177-152/LOT-08883

‡∏Ç‡πâ‡∏≠‡∏î‡∏µ:
‚úÖ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡πà‡∏≤‡∏¢
‚úÖ ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏∞‡∏î‡∏ß‡∏Å
‚úÖ ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
‚úÖ ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï
‚úÖ ‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏™‡∏∞‡∏™‡∏°‡∏ï‡πà‡∏≠ product
```

### 3Ô∏è‚É£ ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏¢‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ‡∏£‡∏´‡∏±‡∏™/‡∏™‡∏µ/‡∏Å‡∏ß‡πâ‡∏≤‡∏á/Lot ‡πÅ‡∏¢‡∏Å‡∏Å‡∏±‡∏ô
```
Model: 402
Color: 177  
Width: 152
Lot: 08883

‡∏Ç‡πâ‡∏≠‡∏î‡∏µ: ‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô‡∏°‡∏≤‡∏Å
‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢: ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ, ‡∏ä‡πâ‡∏≤
```

## üéØ ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: Product Master + Lot

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Product Master
```javascript
{
  product_code: "PRD-402-177-152",
  model_code: "402",
  color_code: "177", 
  fabric_width_cm: 152,
  product_name: "‡∏ú‡πâ‡∏≤‡∏ù‡πâ‡∏≤‡∏¢ ‡∏™‡∏µ‡∏Å‡∏£‡∏° 152cm",
  sku: "FAB-402-177-152",
  
  // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡πâ‡∏≤
  fabric_type: "cotton",
  weight_per_meter: 0.3,
  fabric_composition: "Cotton 100%",
  gsm: 180,
  
  // ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
  enable_lot_tracking: true,
  category: "textile"
}
```

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Lot Registry
```javascript
{
  lot_id: "LOT-08883",
  product_code: "PRD-402-177-152",
  full_lot_reference: "PRD-402-177-152/LOT-08883",
  
  // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û
  original_weight_kg: 25.5,
  current_weight_kg: 25.5,
  calculated_meters: 85.0,
  current_meters: 85.0,
  
  // ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
  lot_status: "active",
  created_date: "2024-01-15"
}
```

## üöÄ ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏ô‡∏µ‡πâ

### 1. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏ï‡πá‡∏≠‡∏Å
- ‡∏î‡∏π‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏£‡∏ß‡∏°‡∏ï‡πà‡∏≠ product ‡πÑ‡∏î‡πâ
- ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏ï‡πà‡∏•‡∏∞ lot ‡πÑ‡∏î‡πâ
- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏™‡∏∞‡∏î‡∏ß‡∏Å

### 2. ‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
```sql
-- ‡∏´‡∏≤ product ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡∏£‡∏∏‡πà‡∏ô 402
SELECT * FROM products WHERE model_code = '402'

-- ‡∏´‡∏≤ lot ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á product
SELECT * FROM lots WHERE product_code = 'PRD-402-177-152'

-- ‡∏´‡∏≤‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏£‡∏ß‡∏°
SELECT SUM(current_meters) FROM lots 
WHERE product_code = 'PRD-402-177-152' AND lot_status = 'active'
```

### 3. ‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏£‡∏∏‡πà‡∏ô
- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏™‡∏µ  
- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á
- ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠ lot

## üîß Implementation ‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥

### 1. ‡∏õ‡∏£‡∏±‡∏ö Product Schema
```javascript
// ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏¥‡∏•‡∏î‡πå‡πÉ‡∏ô product schema
product_code: {
  type: String,
  required: true,
  unique: true,
  // ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: PRD-XXX-XXX-XXX
},
composite_key: {
  model_code: String,
  color_code: String, 
  fabric_width_cm: Number
}
```

### 2. ‡∏õ‡∏£‡∏±‡∏ö Lot Schema  
```javascript
// ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á lot_id
lot_id: {
  type: String,
  required: true,
  // ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö: LOT-XXXXX
},
product_code: {
  type: String,
  required: true,
  ref: 'Product'
}
```

### 3. UI/UX ‡πÉ‡∏´‡∏°‡πà
- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Product ‡∏Å‡πà‡∏≠‡∏ô
- ‡∏™‡∏£‡πâ‡∏≤‡∏á Lot ‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ Product
- ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ï‡πá‡∏≠‡∏Å‡∏£‡∏ß‡∏°‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î lot

## ‚ö° Migration Plan

### Phase 1: ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà
1. ‡∏™‡∏£‡πâ‡∏≤‡∏á product master ‡πÉ‡∏´‡∏°‡πà
2. ‡πÄ‡∏û‡∏¥‡πà‡∏° product_code ‡πÉ‡∏ô lot registry
3. ‡∏™‡∏£‡πâ‡∏≤‡∏á mapping ‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡πà‡∏≤

### Phase 2: ‡∏¢‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
1. ‡πÅ‡∏õ‡∏•‡∏á lot ID ‡πÄ‡∏Å‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô product + lot ‡πÉ‡∏´‡∏°‡πà
2. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï references ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

### Phase 3: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI
1. ‡πÅ‡∏Å‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
2. ‡πÅ‡∏Å‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ lot
3. ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô

‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡πÑ‡∏´‡∏°? ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°?