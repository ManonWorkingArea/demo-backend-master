{"version":3,"file":"js/1074.aadca6ab.js","mappings":"4LAESA,MAAM,0B,GACJA,MAAM,qD,GACJA,MAAM,6B,GACFC,IAAI,eAAeC,SAAA,GAASC,YAAA,GAAYH,MAAM,8B,EAL/D,Q,GAUSA,MAAM,qF,EAVf,a,EAAA,a,GAAAI,IAAA,G,GAAAA,IAAA,G,GAAAA,IAAA,EA2BSJ,MAAM,oC,GA3BfI,IAAA,EAgCSJ,MAAM,gE,GAhCfI,IAAA,EAiCSJ,MAAM,oH,0CAhCbK,EAAAA,EAAAA,IAiCM,OAjCDL,OADPM,EAAAA,EAAAA,IAAA,CACa,WAAU,CAAwEC,EAAAC,YAAW,yBAAjF,eAAc,8C,EACnCC,EAAAA,EAAAA,IAOM,MAPNC,EAOM,EANJD,EAAAA,EAAAA,IAKM,MALNE,EAKM,EAJJF,EAAAA,EAAAA,IAGM,MAHNG,EAGM,EAFJH,EAAAA,EAAAA,IAA0F,QAA1FI,EAA0F,UAC7EN,EAAAO,WAAQ,WAArBT,EAAAA,EAAAA,IAAgJ,SAN1JD,IAAA,EAMkCW,IAAKR,EAAAO,SAAUE,SAAA,GAAS,wBAAmBb,YAAA,GAAYH,MAAM,oD,OAN/FiB,KAAAC,EAAAA,EAAAA,IAAA,cAUIT,EAAAA,EAAAA,IAYM,MAZNU,EAYM,EAXJV,EAAAA,EAAAA,IAAkK,UAAzJW,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,gBAAAD,EAAAC,kBAAAF,IAAiBG,SAAUlB,EAAAmB,WAAanB,EAAAoB,aAAc3B,MAAM,mEAAkE,cAAW,EAX/J4B,IAYMnB,EAAAA,EAAAA,IAKS,UALAW,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAM,gBAAAN,EAAAM,kBAAAP,IAAiBG,SAAUlB,EAAAmB,YAAcnB,EAAAoB,aAAc3B,MAAM,iE,CAC9DO,EAAAmB,YAAyB,WACtCrB,EAAAA,EAAAA,IAEO,OAhBfyB,EAcqB,uBADS,WAAtBzB,EAAAA,EAAAA,IAA6C,OAbrD0B,EAagC,oBAGxB,EAhBRC,IAoBMvB,EAAAA,EAAAA,IAA8H,UAArHW,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAU,qBAAAV,EAAAU,uBAAAX,IAAqBtB,MAAM,gEAA+D,iBAOxDO,EAAAmB,YAAS,WAA7DrB,EAAAA,EAAAA,IAIM,MAJN6B,EAIMb,EAAA,KAAAA,EAAA,KAHJZ,EAAAA,EAAAA,IAEM,OAFDT,MAAM,2FAAyF,EAClGS,EAAAA,EAAAA,IAA2C,KAAxCT,MAAM,iCA7BjBmC,EAAAA,EAAAA,IA6BmD,oBAC7C,QA9BNjB,EAAAA,EAAAA,IAAA,OAgCoFX,EAAAmB,YAAS,WAAzFrB,EAAAA,EAAAA,IAAsH,MAAtH+B,GAAsHC,EAAAA,EAAAA,IAAxB9B,EAAA+B,iBAAe,KAhCjHpB,EAAAA,EAAAA,IAAA,OAiCwIX,EAAAgC,WAAQ,WAA5IlC,EAAAA,EAAAA,IAA8J,MAA9JmC,GAA8JH,EAAAA,EAAAA,IAAb9B,EAAAkC,MAAI,KAjCzJvB,EAAAA,EAAAA,IAAA,U,0EAyCA,GACEwB,IAAAA,GACE,MAAMC,EAAUC,EAAAA,EAAeC,IAAI,WAC7BC,EAAgBH,EAChBI,EAAW,IAAIC,EAAAA,GAAG,CACtBC,gBAAgB,EAChBC,SAAUJ,EAAcK,kBACxBC,OAAQN,EAAcO,SACtBC,wBAAyB,QACzBC,YAAa,CACXC,YAAaV,EAAcW,MAC3BC,gBAAiBZ,EAAca,YAInC,MAAO,CAELnD,aAAa,EAEboD,cAAe,GACfZ,GAAID,EACJD,cAAeA,EACfe,WAAY,GACZC,UAAW,GACXC,YAAa,GACbC,cAAe,GACfC,gBAAiB,GAGjBC,aAAc,KACdxC,WAAW,EACXyC,YAAa,KACbC,cAAe,KACfC,eAAgB,GAChB1C,cAAc,EACdb,SAAU,KACVwD,YAAa,KACbhC,gBAAiB,GACjBC,UAAU,EACVE,KAAM,KACN8B,SAAS,EAEb,EACAC,OAAAA,GACEC,KAAKP,aAAeO,KAAKC,MAAMR,aAC/BS,YAAYF,KAAKG,eAAgB,IACnC,EACAC,QAAS,CACP,kBAAMC,GACJ,MAAMC,EAAQN,KAAKC,MAAMR,aACnBc,EAASC,SAASC,cAAc,UACtCF,EAAOG,MAAQJ,EAAMK,WACrBJ,EAAOK,OAASN,EAAMO,YACtB,MAAMC,EAAUP,EAAOQ,WAAW,MAClCD,EAAQE,UAAUV,EAAO,EAAG,EAAGC,EAAOG,MAAOH,EAAOK,QAGpDL,EAAOU,QAAOC,UACZ,IACElB,KAAKjE,aAAc,EACnB,MAAMoF,EAAWC,KAAKC,MAAQ,IAAMC,KAAKC,MAAsB,KAAhBD,KAAKE,UAC9CC,EAAiB,MACjBC,EAAc,kBAAkBP,KAAYM,IAE5CE,EAAe,CACnBC,OAAQ5B,KAAK3B,cAAcwD,SAC3BC,IAAKJ,EACLK,KAAMC,EACNC,IAAK,qBAIDjC,KAAKzB,GAAG2D,KAAK,IAAIC,EAAAA,EAAiBR,IAGxC,MAAMS,EAAmB,GAAGpC,KAAK3B,cAAcgE,aAAaX,IAC5DY,QAAQC,IAAI,+BAAgCH,GAG5CpC,KAAKwC,MAAM,gBAAiBJ,GAE5BpC,KAAKjE,aAAc,CACrB,CAAE,MAAO0G,GACPH,QAAQG,MAAM,yBAA0BA,GACxCzC,KAAKjE,aAAc,CACrB,IACC,YACL,EACA,yBAAMyB,GACJ,GAAKwC,KAAK0C,WAAqC,IAAxB1C,KAAK0C,UAAUC,KAKtC,UACQ3C,KAAK4C,YAAY5C,KAAK0C,WAC5BJ,QAAQC,IAAI,qBACZvC,KAAKV,YAAc,6BACrB,CAAE,MAAOmD,GACPH,QAAQG,MAAM,iBAAkBA,GAChCzC,KAAKX,UAAY,uBACnB,MAXEiD,QAAQG,MAAM,wCAYlB,EACA,iBAAMG,CAAYZ,GAChB,IACEhC,KAAKjE,aAAc,EACnB,MAAMoF,EAAWC,KAAKC,MAAQ,IAAMC,KAAKC,MAAsB,KAAhBD,KAAKE,UAC9CC,EAAiB,MACjBC,EAAc,GAAGP,KAAYM,IAE7BE,EAAe,CACnBC,OAAQ5B,KAAK3B,cAAcwD,SAC3BC,IAAK,YAAcJ,EACnBK,KAAMC,EACNC,IAAK,eAGDhE,QAAa+B,KAAKzB,GAAG2D,KAAK,IAAIC,EAAAA,EAAiBR,IAErD3B,KAAKR,gBAAkB,GAAGQ,KAAK3B,cAAcgE,sBAAsBX,IAEnEY,QAAQC,IAAI,+BAAgCtE,GAC5C+B,KAAKV,YAAc,8BACnBU,KAAKjE,aAAc,EACnBiE,KAAKwC,MAAM,kBAAmBxC,KAAKR,gBAErC,CAAE,MAAOiD,GACPH,QAAQG,MAAM,yBAA0BA,GACxCzC,KAAKX,UAAY,uBACnB,CACF,EACAwD,UAAAA,GACE7C,KAAK8C,iBACP,EACA,oBAAM/F,GACJ,IACE,MAAMgG,QAAeC,UAAUC,aAAaC,aAAa,CAAE5C,OAAO,EAAM6C,OAAO,IAC/EnD,KAAKP,aAAa2D,UAAYL,EAC9B/C,KAAKH,YAAckD,EACnB/C,KAAK9C,cAAe,EACpBoF,QAAQC,IAAI,mBACd,CAAE,MAAOE,GACPH,QAAQG,MAAM,0BAA2BA,EAC3C,CACF,EACArF,cAAAA,GACE,GAAK4C,KAAK9C,aAAV,CAKA8C,KAAKJ,eAAiB,GACtBI,KAAK3D,SAAW,KAChB,IACE2D,KAAKL,cAAgB,IAAI0D,cAAcrD,KAAKH,aAC5CG,KAAKL,cAAc2D,gBAAkBtD,KAAKuD,oBAC1CvD,KAAKL,cAAc6D,QACnBxD,KAAK/C,WAAY,EACjB+C,KAAKlC,UAAW,EAChBkC,KAAKF,SAAU,EACfE,KAAKyD,qBACLnB,QAAQC,IAAI,qBACZmB,WAAW1D,KAAK2D,cAAe,IACjC,CAAE,MAAOlB,GACPH,QAAQG,MAAM,4BAA6BA,EAC7C,CAhBA,MAFEH,QAAQG,MAAM,wBAmBlB,EACAkB,aAAAA,GACM3D,KAAKL,eAAiBK,KAAK/C,YAC7B+C,KAAKL,cAAciE,OACnB5D,KAAK/C,WAAY,EACjB+C,KAAKlC,UAAW,EAChBwE,QAAQC,IAAI,qBAGZvC,KAAKL,cAAckE,OAAS,KAC1B,MAAMnB,EAAY,IAAIoB,KAAK9D,KAAKJ,eAAgB,CAAEmE,KAAM,cACxDzB,QAAQC,IAAI,aAAcG,EAAUC,MAEhCD,EAAUC,KAAO,GACnB3C,KAAK0C,UAAYA,EACjB1C,KAAKgE,oBAEL1B,QAAQG,MAAM,qCAChB,EAGN,EAEAc,mBAAAA,CAAoBU,GACdA,EAAMhG,KAAK0E,KAAO,IACpB3C,KAAKJ,eAAesE,KAAKD,EAAMhG,MAC/B+B,KAAKgE,mBAET,EACA,sBAAMA,GACJ,MAAMhC,EAAO,IAAI8B,KAAK9D,KAAKJ,eAAgB,CAAEmE,KAAM,cACnD/D,KAAK3D,SAAW8H,IAAIC,gBAAgBpC,GACpCM,QAAQC,IAAI,kBACd,EACA,qBAAMO,GACJ,GAAmC,IAA/B9C,KAAKJ,eAAeyE,OAEtB,YADA/B,QAAQG,MAAM,4BAIhB,MAAMT,EAAO,IAAI8B,KAAK9D,KAAKJ,eAAgB,CAAEmE,KAAM,cAC7CO,QAAqBtE,KAAKuE,aAAavC,GAC7ChC,KAAKN,YAAc4E,EACnBtE,KAAKwC,MAAM,kBAAmBxC,KAAKN,aACnC4C,QAAQC,IAAI,4BACd,EACAgC,YAAAA,CAAavC,GACX,OAAO,IAAIwC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAc7C,GACrB2C,EAAOG,UAAY,IAAML,EAAQE,EAAOI,QACxCJ,EAAOK,QAAUvC,GAASiC,EAAOjC,EAAM,GAE3C,EACAtC,cAAAA,GACE,MAAMkB,EAAM,IAAID,KAChBpB,KAAKnC,gBAAkBwD,EAAI4D,gBAC7B,EACAxB,kBAAAA,GACE,MAAMyB,EAAa5D,KAAKC,MAAM,IAAuB,IAAhBD,KAAKE,UAC1CxB,KAAKhC,KAAOkH,EAAWC,UACzB,I,WCrQJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,+HCRIC,EAAAA,EAAAA,KAAiCC,EAAAA,EAAAA,IAAjBzI,EAAA0I,e,0DCDpB7J,IAAA,EA2/BoBJ,MAAM,e,GAEnBA,MAAM,4H,GACFA,MAAM,8C,GACFA,MAAM,kB,GACFA,MAAM,OAAO,aAAW,c,GACrBkK,KAAK,OAAOlK,MAAM,+B,GAabA,MAAM,qB,GASNA,MAAM,qB,GAQNA,MAAM,qB,GAIHA,MAAM,uF,GAniCpCI,IAAA,EA8jCWJ,MAAM,e,GACJA,MAAM,+D,GACA,kBAAgB,kBAAkBA,MAAM,Q,GAC1CA,MAAM,0C,GACHmK,GAAG,kBAAkBnK,MAAM,4D,GAC5BA,MAAM,qC,GAnkCzBI,IAAA,EA6kCuB,kBAAgB,kBAAkBJ,MAAM,qB,GA7kC/DI,IAAA,EA6lCuB,kBAAgB,kBAAkBJ,MAAM,qB,GAE3CA,MAAM,qB,GA/lC1BI,IAAA,G,GA8mCqBJ,MAAM,e,GA9mC3BI,IAAA,EA0nCqB,kBAAgB,kBAAkBJ,MAAM,qB,GAE3CA,MAAM,qB,GA5nCxBI,IAAA,G,GA2oCmBJ,MAAM,e,GAedA,MAAM,e,GAEJA,MAAM,4E,GACE,kBAAgB,kBAAkBA,MAAM,Q,GAC1CA,MAAM,0C,GACLmK,GAAG,kBAAkBnK,MAAM,4D,GAC5BA,MAAM,qC,GAIRA,MAAM,0B,GAKFA,MAAM,+C,GACLA,MAAM,sB,EA1qC5B,c,GA8qCqBA,MAAM,sB,GAEFA,MAAM,I,EAhrC/B,qC,GAmrC8BA,MAAM,Q,GAnrCpCI,IAAA,G,GA4rCqBJ,MAAM,4F,GACFA,MAAM,uD,GAQZA,MAAM,sC,EArsCzB,a,EAAA,Y,GAAA,a,IAowCWA,MAAM,oB,IAEJA,MAAM,2E,IAEFA,MAAM,mD,IACE,kBAAgB,mB,IAChBA,MAAM,0C,IACJA,MAAM,oB,IAGPmK,GAAG,kBAAkBnK,MAAM,+D,IAepCA,MAAM,mD,IACE,kBAAgB,mB,IAChBA,MAAM,0C,IACLmK,GAAG,kBAAkBnK,MAAM,+D,IAI5BA,MAAM,kG,IApyC/BI,IAAA,EAmzCWJ,MAAM,e,IACJA,MAAM,+D,IAEA,kBAAgB,kBAAkBA,MAAM,Q,IAC1CA,MAAM,0C,IACLmK,GAAG,kBAAkBnK,MAAM,4D,IAC5BA,MAAM,qC,IAIJ,kBAAgB,kBAAkBA,MAAM,qB,IASpCA,MAAM,I,IAENA,MAAM,Y,IAx0C7BI,IAAA,G,IA40CuBJ,MAAM,W,IA50C7BI,IAAA,G,IA+1CuBJ,MAAM,W,IA/1C7BI,IAAA,EAq2C+CJ,MAAM,8B,IAEpCA,MAAM,oB,6KAv2CvBK,EAAAA,EAAAA,IAAA+J,EAAAA,GAAA,MA2/BY7J,EAAA8J,QA3/BZnJ,EAAAA,EAAAA,IAAA,SA2/BkB,WAAlBb,EAAAA,EAAAA,IAAuD,MAAvDK,EAAuD,EAAf4J,EAAAA,EAAAA,IAASC,MACAhK,EAAA8J,SAAM,WAAvDhK,EAAAA,EAAAA,IAyXM,OAr3CND,IAAA,EA4/BKJ,OA5/BLM,EAAAA,EAAAA,IAAA,CA4/BW,gCAA+B,CAAoFC,EAAAC,YAAW,yBAA/E,eAAc,4C,EACtEC,EAAAA,EAAAA,IA6CM,MA7CNE,EA6CM,EA5CFF,EAAAA,EAAAA,IA2CM,MA3CNG,EA2CM,EA1CFH,EAAAA,EAAAA,IAyCM,MAzCNI,EAyCM,EAxCFJ,EAAAA,EAAAA,IAuCM,MAvCNQ,EAuCM,EAtCFR,EAAAA,EAAAA,IAqCK,KArCLU,EAqCK,EApCHV,EAAAA,EAAAA,IASK,YARHA,EAAAA,EAAAA,IAOM,aANJ6J,EAAAA,EAAAA,IAKcE,GAAA,CALAC,GAAI,IAAKzK,MAAM,qC,CApgCrD0K,SAAAC,EAAAA,EAAAA,KAqgC0B,IAEQtJ,EAAA,KAAAA,EAAA,KAFRZ,EAAAA,EAAAA,IAEQ,OAFHT,MAAM,wBAAwB4K,QAAQ,YAAYC,KAAK,eAAe,cAAY,Q,EACnFpK,EAAAA,EAAAA,IAAgO,QAA1N,YAAU,UAAUqK,EAAE,8KAA8K,YAAU,c,IAEtNrK,EAAAA,EAAAA,IAAiC,QAA3BT,MAAM,WAAU,QAAI,OAxgCtD+K,EAAA,SA6gCoBtK,EAAAA,EAAAA,IAOK,YANHA,EAAAA,EAAAA,IAKM,MALNmB,EAKM,cAJJnB,EAAAA,EAAAA,IAEM,OAFDT,MAAM,sCAAsC6K,KAAK,eAAeD,QAAQ,YAAY,cAAY,Q,EACnGnK,EAAAA,EAAAA,IAAwD,QAAlDqK,EAAE,kDAA6C,KAEvDR,EAAAA,EAAAA,IAA0KE,GAAA,CAA5JC,GAAqB,WAAjBlK,EAAAoC,QAAQqI,KAAoB,iBAAmB,eAAgBhL,MAAM,8D,CAlhC/G0K,SAAAC,EAAAA,EAAAA,KAkhC4K,IAAQtJ,EAAA,KAAAA,EAAA,KAlhCpLc,EAAAA,EAAAA,IAkhC4K,gBAlhC5K4I,EAAA,G,eAshCoBtK,EAAAA,EAAAA,IAOK,YANHA,EAAAA,EAAAA,IAKM,MALNuB,EAKM,gBAJJvB,EAAAA,EAAAA,IAEM,OAFDT,MAAM,sCAAsC6K,KAAK,eAAeD,QAAQ,YAAY,cAAY,Q,EACnGnK,EAAAA,EAAAA,IAAwD,QAAlDqK,EAAE,kDAA6C,KAEvDR,EAAAA,EAAAA,IAAkLE,GAAA,CAApKC,GAAE,kBAAsBlK,EAAA0K,OAAOC,IAAKlL,MAAM,yF,CA3hChF0K,SAAAC,EAAAA,EAAAA,KA2hCwK,IAAoB,EA3hC5LxI,EAAAA,EAAAA,KAAAE,EAAAA,EAAAA,IAAA,KA2hC+K4I,OAAOE,MAAI,MA3hC1LJ,EAAA,G,eA8hCoBtK,EAAAA,EAAAA,IAOK,YANHA,EAAAA,EAAAA,IAKM,MALNsB,EAKM,gBAJJtB,EAAAA,EAAAA,IAEM,OAFDT,MAAM,sCAAsC6K,KAAK,eAAeD,QAAQ,YAAY,cAAY,Q,EACnGnK,EAAAA,EAAAA,IAAwD,QAAlDqK,EAAE,kDAA6C,KAEvDrK,EAAAA,EAAAA,IAA4H,OAA5HqB,GAA4HO,EAAAA,EAAAA,IAAA,KAAlB+I,KAAKD,MAAI,kBASzI1K,EAAAA,EAAAA,IAuUM,aAtUJ6J,EAAAA,EAAAA,IAKgCe,GAAA,CALzBpL,IAAI,iBACV+K,KAAM,QACNM,MAAO,GACPC,cAAchK,EAAAiK,kBACdC,cAAclK,EAAAmK,aACdC,gBAAgBpK,EAAAqK,c,6DAEjBnL,EAAAA,EAAAA,IAMU,WAND,kBAAgB,kBAAkBT,MAAM,oBAAqB6L,OApjC1EC,EAAAA,EAAAA,IAAA,CAAAC,QAojC4FxL,EAAAyL,cAAgB,QAAU,U,EAChH1B,EAAAA,EAAAA,IAIE2B,GAAA,CAJMhM,IAAI,kBACXiM,iBAAiB3K,EAAA4K,qBACjBC,gBAAe7K,EAAA8K,oBACfC,gBAAe/K,EAAAgL,qB,qEAIiB,Y,KAAdC,YAAS,WAE5BnM,EAAAA,EAAAA,IAsFM,MAtFN6B,EAsFM,EArFJzB,EAAAA,EAAAA,IAoFM,MApFN2B,EAoFM,EAnFJ3B,EAAAA,EAAAA,IAKU,UALV+B,EAKU,EAJR/B,EAAAA,EAAAA,IAGM,MAHNgM,EAGM,EAFFhM,EAAAA,EAAAA,IAAmH,KAAnHiM,GAAmHrK,EAAAA,EAAAA,IAAA,KAAlB4I,OAAOE,MAAI,IAC5G1K,EAAAA,EAAAA,IAAmE,IAAnEkM,GAAmEtK,EAAAA,EAAAA,IAAA,KAAf+I,KAAKD,MAAI,OAIjC,QAAlB5K,EAAA6K,KAAKwB,WAAQ,WAA7BvM,EAAAA,EAAAA,IA+CW+J,EAAAA,GAAA,CAtnCrBhK,IAAA,IA2kC6BG,EAAAsM,eA3kC7B3L,EAAAA,EAAAA,IAAA,SA2kC0C,WAE5Bb,EAAAA,EAAAA,IAUU,UAVVyM,EAUUzL,EAAA,MAAAA,EAAA,MATRZ,EAAAA,EAAAA,IAA2D,MAAvDT,MAAM,0BAAyB,uBAAmB,IACtDS,EAAAA,EAAAA,IAMK,MANDT,MAAM,0BAAwB,EAChCS,EAAAA,EAAAA,IAAgE,UAA5D,4DACJA,EAAAA,EAAAA,IAA0D,UAAtD,sDACJA,EAAAA,EAAAA,IAA+B,UAA3B,2BACJA,EAAAA,EAAAA,IAA4D,UAAxD,wDACJA,EAAAA,EAAAA,IAA0C,UAAtC,uCAAiC,OAO3BF,EAAAsM,gBAAa,WAE3BxM,EAAAA,EAAAA,IAqBU,UArBV0M,EAqBU,gBApBRtM,EAAAA,EAAAA,IAAoD,MAAhDT,MAAM,0BAAyB,gBAAY,KAC/CS,EAAAA,EAAAA,IAOK,KAPLuM,EAOK,EANHvM,EAAAA,EAAAA,IAAuI,0BAhmCzJ0B,EAAAA,EAAAA,IAgmCsB,sCAAgC1B,EAAAA,EAAAA,IAAoC,eAAA4B,EAAAA,EAAAA,IAAA,KAArB+I,KAAK6B,OAAK,kBAhmC/E9K,EAAAA,EAAAA,IAgmC0F,uBAAiB1B,EAAAA,EAAAA,IAAoC,eAAA4B,EAAAA,EAAAA,IAAA,KAArB+I,KAAKE,OAAK,kBAhmCpInJ,EAAAA,EAAAA,IAgmC+I,YAC5F,OADiG,KACnHiJ,KAAK8B,WAAQ,WAA5B7M,EAAAA,EAAAA,IAAiH,KAjmCnI8M,EAAA,gBAAAhL,EAAAA,EAAAA,IAimCyD,+BAAyB1B,EAAAA,EAAAA,IAAsC,eAAA4B,EAAAA,EAAAA,IAAA,KAAvB+I,KAAKgC,SAAO,kBAjmC7GjL,EAAAA,EAAAA,IAimCwH,eAjmCxHjB,EAAAA,EAAAA,IAAA,sBAkmCkBT,EAAAA,EAAAA,IAAsD,UAAlD,iDAA6C,mBACjDA,EAAAA,EAAAA,IAA0E,UAAtE,qEAAiE,mBACrEA,EAAAA,EAAAA,IAAoD,UAAhD,+CAA2C,mBAC/CA,EAAAA,EAAAA,IAAiF,UAA7E,4EAAwE,qBAE9EA,EAAAA,EAAAA,IAAkD,MAA9CT,MAAM,+BAA8B,SAAK,mBAC7CS,EAAAA,EAAAA,IAKK,MALDT,MAAM,kBAAgB,EACxBS,EAAAA,EAAAA,IAA4E,UAAxE,wEACJA,EAAAA,EAAAA,IAAgE,UAA5D,4DACJA,EAAAA,EAAAA,IAA2D,UAAvD,uDACJA,EAAAA,EAAAA,IAA6F,UAAzF,0FAAoF,KAE1FA,EAAAA,EAAAA,IAGM,MAHN4M,EAGM,EAFJ/C,EAAAA,EAAAA,IAAoKE,GAAA,CAAtJC,GAAE,kBAAsBlK,EAAA0K,OAAOC,IAAKlL,MAAM,kF,CA/mC1E0K,SAAAC,EAAAA,EAAAA,KA+mC2J,IAAatJ,EAAA,MAAAA,EAAA,MA/mCxKc,EAAAA,EAAAA,IA+mC2J,qBA/mC3J4I,EAAA,G,WAgnCkBtK,EAAAA,EAAAA,IAAiI,UAAzHT,MAAM,4EAA6EoB,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAA+L,WAAA/L,EAAA+L,aAAAhM,KAAW,qBAhnC/HJ,EAAAA,EAAAA,IAAA,0BA0nCYb,EAAAA,EAAAA,IAqBU,UArBVkN,EAqBU,gBApBR9M,EAAAA,EAAAA,IAAoD,MAAhDT,MAAM,0BAAyB,gBAAY,KAC/CS,EAAAA,EAAAA,IAOK,KAPL+M,EAOK,EANH/M,EAAAA,EAAAA,IAAuI,0BA7nCvJ0B,EAAAA,EAAAA,IA6nCoB,sCAAgC1B,EAAAA,EAAAA,IAAoC,eAAA4B,EAAAA,EAAAA,IAAA,KAArB+I,KAAK6B,OAAK,kBA7nC7E9K,EAAAA,EAAAA,IA6nCwF,uBAAiB1B,EAAAA,EAAAA,IAAoC,eAAA4B,EAAAA,EAAAA,IAAA,KAArB+I,KAAKE,OAAK,kBA7nClInJ,EAAAA,EAAAA,IA6nC6I,YAC5F,OADiG,KACnHiJ,KAAK8B,WAAQ,WAA5B7M,EAAAA,EAAAA,IAAiH,KA9nCjIoN,EAAA,gBAAAtL,EAAAA,EAAAA,IA8nCuD,+BAAyB1B,EAAAA,EAAAA,IAAsC,eAAA4B,EAAAA,EAAAA,IAAA,KAAvB+I,KAAKgC,SAAO,kBA9nC3GjL,EAAAA,EAAAA,IA8nCsH,eA9nCtHjB,EAAAA,EAAAA,IAAA,sBA+nCgBT,EAAAA,EAAAA,IAAsD,UAAlD,iDAA6C,mBACjDA,EAAAA,EAAAA,IAA0E,UAAtE,qEAAiE,mBACrEA,EAAAA,EAAAA,IAAoD,UAAhD,+CAA2C,mBAC/CA,EAAAA,EAAAA,IAAiF,UAA7E,4EAAwE,qBAE9EA,EAAAA,EAAAA,IAAkD,MAA9CT,MAAM,+BAA8B,SAAK,mBAC7CS,EAAAA,EAAAA,IAKK,MALDT,MAAM,kBAAgB,EACxBS,EAAAA,EAAAA,IAA4E,UAAxE,wEACJA,EAAAA,EAAAA,IAAgE,UAA5D,4DACJA,EAAAA,EAAAA,IAA2D,UAAvD,uDACJA,EAAAA,EAAAA,IAA6F,UAAzF,0FAAoF,KAE1FA,EAAAA,EAAAA,IAGM,MAHNiN,EAGM,EAFJpD,EAAAA,EAAAA,IAAoKE,GAAA,CAAtJC,GAAE,kBAAsBlK,EAAA0K,OAAOC,IAAKlL,MAAM,kF,CA5oCxE0K,SAAAC,EAAAA,EAAAA,KA4oCyJ,IAAatJ,EAAA,MAAAA,EAAA,MA5oCtKc,EAAAA,EAAAA,IA4oCyJ,qBA5oCzJ4I,EAAA,G,WA6oCgBtK,EAAAA,EAAAA,IAAiI,UAAzHT,MAAM,4EAA6EoB,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAA+L,WAAA/L,EAAA+L,aAAAhM,KAAW,0BA7oC7HJ,EAAAA,EAAAA,IAAA,OAwpCuC,SAxpCvC,KAwpCyBsL,YAAS,WAA9BnM,EAAAA,EAAAA,IAuJW+J,EAAAA,GAAA,CA/yCfhK,IAAA,KA0pCMK,EAAAA,EAAAA,IAwGM,MAxGNkN,EAwGM,EAtGJlN,EAAAA,EAAAA,IAqGM,MArGNmN,EAqGM,EApGFnN,EAAAA,EAAAA,IAKU,UALVoN,EAKU,EAJRpN,EAAAA,EAAAA,IAGM,MAHNqN,EAGM,EAFJrN,EAAAA,EAAAA,IAAmH,KAAnHsN,GAAmH1L,EAAAA,EAAAA,IAAA,KAAlB4I,OAAOE,MAAI,IAC5G1K,EAAAA,EAAAA,IAAmE,IAAnEuN,GAAmE3L,EAAAA,EAAAA,IAAA,KAAf+I,KAAKD,MAAI,QAIjE1K,EAAAA,EAAAA,IA2FM,MA3FNwN,EA2FM,gBAxFJ5N,EAAAA,EAAAA,IA2BM+J,EAAAA,GAAA,MAlsCpB8D,EAAAA,EAAAA,IAuqC+C3M,EAAA4M,oBAvqC/C,CAuqC2BC,EAAUC,M,WAAvBhO,EAAAA,EAAAA,IA2BM,OA3BgDD,IAAKgO,EAASE,OACnEtO,OAxqCfM,EAAAA,EAAAA,IAAA,sBAwqC6CC,EAAAgO,oBAAoBC,SAASJ,EAASE,SAAiB,iC,EACpF7N,EAAAA,EAAAA,IAGM,MAHNgO,EAGM,EAFJhO,EAAAA,EAAAA,IAAyG,KAAzGiO,GAAyGrM,EAAAA,EAAAA,IAAA,WAAzD9B,EAAAoO,YAAc,GAAKpO,EAAAqO,iBAAoBP,EAAQ,IAAH,IAC5F5N,EAAAA,EAAAA,IAAkC,OAA7BoO,UAAQT,EAASU,M,OA3qCxCC,MA8qCgBtO,EAAAA,EAAAA,IAYM,MAZNuO,EAYM,EAXJvO,EAAAA,EAAAA,IAUO,cATLA,EAAAA,EAAAA,IAQM,MARNwO,EAQM,gBAPJ5O,EAAAA,EAAAA,IAMQ+J,EAAAA,GAAA,MAvrC9B8D,EAAAA,EAAAA,IAirC8CE,EAASc,SAAnBC,K,WAAd9O,EAAAA,EAAAA,IAMQ,SANmCD,IAAK+O,EAAOC,MAAOpP,MAAM,uE,EAClES,EAAAA,EAAAA,IAAiL,SAA1K+H,KAAK,QAAS2C,KAAMiD,EAASE,OAASc,MAAOD,EAAOC,MAAQhO,QAAKiO,GAAE9N,EAAA+N,YAAYlB,EAASE,OAAQa,EAAOC,OAASG,QAAShO,EAAAiO,iBAAiBpB,EAASE,OAAQa,EAAOC,Q,OAlrCjMK,IAmrCwBhP,EAAAA,EAAAA,IAA4C,OAA5CiP,GAA4CrN,EAAAA,EAAAA,IAAtB8M,EAAOQ,OAAK,GACE,QADF,KACjBvE,KAAKwE,WAAuBxB,EAASyB,UAAUV,EAAOC,QAAK,WAA5E/O,EAAAA,EAAAA,IAEO,OAtrC/ByP,EAAA,EAqrC0BxF,EAAAA,EAAAA,IAAqEyF,GAAA,CAAlDC,KAAK,eAAehQ,MAAM,4BArrCvEkB,EAAAA,EAAAA,IAAA,Y,aA4rCgBT,EAAAA,EAAAA,IAKM,MALNwP,EAKM,EAJFxP,EAAAA,EAAAA,IAGM,MAHNyP,EAGM,gBAFFzP,EAAAA,EAAAA,IAA6C,QAAvCT,MAAM,aAAY,kBAAc,mBA9rC9DmC,EAAAA,EAAAA,OAAA,eA8rCsE1B,EAAAA,EAAAA,IAAK,qBA9rC3E0B,EAAAA,EAAAA,IA8rC2E,KACnDE,EAAAA,EAAAA,IAAG9B,EAAAoC,QAAQwN,KAAKC,UAAY,IAAM7P,EAAAoC,QAAQwN,KAAKE,UAAU,MAAEhO,EAAAA,EAAAA,IAAG9B,EAAA+P,QAAS,KAAE,kBAAA7P,EAAAA,EAAAA,IAAK,qBA/rCtG0B,EAAAA,EAAAA,IA+rCsG,KAACE,EAAAA,EAAAA,IAAGkO,EAAAjO,iBAAe,c,OAM3G7B,EAAAA,EAAAA,IAyBM,MAzBN+P,EAyBM,EAxBJ/P,EAAAA,EAAAA,IAMS,UALNW,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAkP,kBAAAlP,EAAAkP,oBAAAnP,IACPG,SAA0B,IAAhBlB,EAAAoO,YACX3O,MAAM,cACP,aAED,EA5sChB0Q,KAAA,aA8sCgBrQ,EAAAA,EAAAA,IAQS+J,EAAAA,GAAA,MAttCzB8D,EAAAA,EAAAA,IA+sCiCnI,KAAK4K,KAAKpQ,EAAAqQ,UAAU9H,OAASvI,EAAAqO,mBAArCiC,K,WADTxQ,EAAAA,EAAAA,IAQS,UANND,IAAKyQ,EACLzP,QAAKiO,GAAE9N,EAAAuP,QAAQD,GACf7Q,OAltCnBM,EAAAA,EAAAA,IAAA,CAktC0BuQ,IAAStQ,EAAAoO,YAAc,sBAAwB,aACjD,4D,QAEHkC,GAAI,GArtCzBE,M,OAutCgBtQ,EAAAA,EAAAA,IAMS,UALNW,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAyP,cAAAzP,EAAAyP,gBAAA1P,IACPG,SAAUlB,EAAAoO,cAAgB5I,KAAK4K,KAAKpQ,EAAAqQ,UAAU9H,OAASvI,EAAAqO,kBACxD5O,MAAM,cACP,UAED,EA7tChBiR,aAowCMxQ,EAAAA,EAAAA,IAyCM,MAzCNyQ,GAyCM,EAvCJzQ,EAAAA,EAAAA,IAsCQ,MAtCR0Q,GAsCQ,EApCJ1Q,EAAAA,EAAAA,IAmBM,MAnBN2Q,GAmBM,EAlBF3Q,EAAAA,EAAAA,IAiBU,UAjBV4Q,GAiBU,EAhBN5Q,EAAAA,EAAAA,IAeM,MAfN6Q,GAeM,EAdJ7Q,EAAAA,EAAAA,IAEM,MAFN8Q,GAEM,EADJ9Q,EAAAA,EAAAA,IAAmG,YAA7F,gBAAY4B,EAAAA,EAAAA,IAAGd,EAAAiQ,uBAAuBC,UAAW,OAAGpP,EAAAA,EAAAA,IAAGd,EAAAiQ,uBAAuBvE,OAAK,MAE3FxM,EAAAA,EAAAA,IAQK,KARLiR,GAQK,EAPHpH,EAAAA,EAAAA,IAMgCe,GAAA,CALhCpL,IAAI,iBACH+K,KAAM,UACNM,MAAO/K,EAAAoR,aACPpG,cAAchK,EAAAiK,kBACdC,cAAclK,EAAAmK,aACdC,gBAAgBpK,EAAAqK,c,qFAEnBnL,EAAAA,EAAAA,IAAuE,KAApET,MAAM,wCAAuC,uBAAmB,WAM7ES,EAAAA,EAAAA,IAaM,MAbNmR,GAaM,EAZFnR,EAAAA,EAAAA,IAWU,UAXVoR,GAWU,EAVNpR,EAAAA,EAAAA,IAGM,MAHNqR,GAGM,EAFJrR,EAAAA,EAAAA,IAAoH,KAApHsR,IAAoH1P,EAAAA,EAAAA,IAAA,KAAhB+I,KAAKD,MAAI,kBAC7G1K,EAAAA,EAAAA,IAA6F,KAA1FT,MAAM,wCAAuC,6CAAyC,OAG3FS,EAAAA,EAAAA,IAGM,MAHNuR,GAGM,EAFJvR,EAAAA,EAAAA,IAAiJ,UAAzI+H,KAAK,SAASxI,MAAM,gFAAiFoB,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAA0Q,YAAA1Q,EAAA0Q,cAAA3Q,KAAY,aAChIb,EAAAA,EAAAA,IAAiJ,UAAzI+H,KAAK,SAASxI,MAAM,4EAA6EoB,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAA2Q,YAAA3Q,EAAA2Q,cAAA5Q,KAAY,2BAAY,MAtyC9JJ,EAAAA,EAAAA,IAAA,OAizCuC,WAjzCvC,KAizCyBsL,YAAS,WAE5BnM,EAAAA,EAAAA,IA4DM,MA5DN8R,GA4DM,EA3DJ1R,EAAAA,EAAAA,IA0DM,MA1DN2R,GA0DM,EAxDJ3R,EAAAA,EAAAA,IAKU,UALV4R,GAKU,EAJR5R,EAAAA,EAAAA,IAGM,MAHN6R,GAGM,EAFJ7R,EAAAA,EAAAA,IAAqH,KAArH8R,IAAqHlQ,EAAAA,EAAAA,IAAA,KAAnB4I,OAAOE,MAAI,IAC7G1K,EAAAA,EAAAA,IAAqE,IAArE+R,IAAqEnQ,EAAAA,EAAAA,IAAA,KAAhB+I,KAAKD,MAAI,QAIlE1K,EAAAA,EAAAA,IA+CU,UA/CVgS,GA+CU,gBA9CRhS,EAAAA,EAAAA,IAGM,OAHDT,MAAM,oBAAkB,EAC3BS,EAAAA,EAAAA,IAA2F,MAAvF0J,GAAG,kBAAkBnK,MAAM,yCAAwC,oBACvES,EAAAA,EAAAA,IAAuG,KAApGT,MAAM,yBAAwB,wEAAkE,IAGlFuB,EAAAmR,mBAAmBjO,KAAK2G,KAAKuH,iBAAwC,QAArBlO,KAAK2G,KAAK5B,SAn0CzF,WAw1CgBnJ,EAAAA,EAAAA,IASM,OAj2CtBD,IAAA,EAw1CsBJ,OAx1CtBM,EAAAA,EAAAA,IAw1CoD,OAx1CpD,KAw1CkC8K,KAAK8B,SAAoB,iGAAmG,uF,gBAC5IzM,EAAAA,EAAAA,IAGM,OAHDT,MAAM,IAAE,EACXS,EAAAA,EAAAA,IAA6D,MAAzDT,MAAM,qBAAoB,+BAC9BS,EAAAA,EAAAA,IAAsC,KAAnCT,MAAM,YAAW,oBAAc,IAEP,QAFO,KAEpBoL,KAAK8B,WAAQ,WAA7B7M,EAAAA,EAAAA,IAGM,MAh2CxBuS,GAAA,gBA81CoBnS,EAAAA,EAAAA,IAAmC,MAA/BT,MAAM,qBAAmB,WAC7BS,EAAAA,EAAAA,IAAmE,IAAnEoS,IAAmExQ,EAAAA,EAAAA,IAA9Cd,EAAAuR,eAAerO,KAAK2G,KAAKuH,iBAAc,OA/1ChFzR,EAAAA,EAAAA,IAAA,cAm0C+F,WAE/Eb,EAAAA,EAAAA,IAaM,OAl1CtBD,IAAA,EAq0CsBJ,OAr0CtBM,EAAAA,EAAAA,IAq0CoD,OAr0CpD,KAq0CkC8K,KAAK8B,SAAoB,iGAAmG,uF,EAC5IzM,EAAAA,EAAAA,IAGM,MAHNsS,GAGM,gBAFJtS,EAAAA,EAAAA,IAAyC,MAArCT,MAAM,qBAAoB,UAAM,KACpCS,EAAAA,EAAAA,IAAoE,IAApEuS,IAAoE3Q,EAAAA,EAAAA,IAAA,KAAxC4Q,MAAMA,OAAQ,KAAC5Q,EAAAA,EAAAA,IAAA,KAAQ+I,KAAK6B,OAAK,KAElC,QAFkC,KAE/C7B,KAAK8B,WAAQ,WAA7B7M,EAAAA,EAAAA,IAOM,MAj1CxB6S,GAAA,gBA20CoBzS,EAAAA,EAAAA,IAA2C,MAAvCT,MAAM,qBAAoB,YAAQ,KACtCS,EAAAA,EAAAA,IAII,IAJJ0S,GAII,MAH4BF,MAAMA,OAAS,KAAM7H,KAAKgC,UAAO,WAA/DrD,EAAAA,EAAAA,IAA8GgG,GAAA,CA70CpI3P,IAAA,EA60CuF4P,KAAK,eAAehQ,MAAM,sB,WAC3F+J,EAAAA,EAAAA,IAAqEgG,GAAA,CA90C3F3P,IAAA,EA80CgD4P,KAAK,eAAehQ,MAAM,mBA90C1EmC,EAAAA,EAAAA,IA80C2F,KACrEE,EAAAA,EAAAA,IAAA,KAAQ4Q,MAAMA,OAAS,KAAM7H,KAAKgC,QAAU,gBAAkB,oBAArB,SA/0C/DlM,EAAAA,EAAAA,IAAA,YAq2CqC,QAr2CrC,KAq2C4BkK,KAAK5C,OAAI,WAAvBnI,EAAAA,EAAAA,IAAmI,IAAnI+S,GAAoE,iEAr2ClFlS,EAAAA,EAAAA,IAAA,QAu2CYT,EAAAA,EAAAA,IAGM,MAHN4S,GAGM,EAFJ/I,EAAAA,EAAAA,IAA2JE,GAAA,CAA7IC,GAAE,kBAAsBlK,EAAA0K,OAAOC,IAAKlL,MAAM,wE,CAx2CtE0K,SAAAC,EAAAA,EAAAA,KAw2C6I,IAActJ,EAAA,MAAAA,EAAA,MAx2C3Jc,EAAAA,EAAAA,IAw2C6I,sBAx2C7I4I,EAAA,G,UAy2CoD,Q,KAAnBK,KAAKkI,WAAuB7O,KAAKwO,MAAMA,MAAQxO,KAAK2G,KAAKgC,UAAO,WAAnF/M,EAAAA,EAAAA,IAA0M,UAz2CxND,IAAA,EAy2CmGJ,MAAM,0EAA2EoB,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAgS,WAAAhS,EAAAgS,aAAAjS,KAAW,eAz2CtMJ,EAAAA,EAAAA,IAAA,iBAAAA,EAAAA,EAAAA,IAAA,eAAAA,EAAAA,EAAAA,IAAA,W,4HCAAd,IAAA,G,IAAAA,IAAA,G,IAAAA,IAAA,G,+BACe,YAAJoT,EAAAxI,OAAI,WAAf3K,EAAAA,EAAAA,IAOM,MARNK,GAAA,CAEeH,EAAAkT,UAAY,IAAMlT,EAAAmT,eAAY,WAAzCrT,EAAAA,EAAAA,IAEM,MAJVM,GAAA,EAGQF,EAAAA,EAAAA,IAA0B,UAAA4B,EAAAA,EAAAA,IAApBd,EAAAoS,eAAa,mBAEvBtT,EAAAA,EAAAA,IAEM,MAPVO,GAAAS,EAAA,KAAAA,EAAA,KAMQZ,EAAAA,EAAAA,IAAe,SAAZ,YAAQ,WANnBS,EAAAA,EAAAA,IAAA,M,uBAYA,IACI0S,MAAO,CACHtI,MAAO,CACH9C,KAAMqL,OACNnJ,QAAS,GAEbM,KAAM,CACFxC,KAAMsL,OACNpJ,QAAS,YAGjBhI,IAAAA,GACI,MAAO,CACHqR,QAAS,KACTN,SAAU,KACVO,SAAU,KACVN,cAAc,EAEtB,EACAO,SAAU,CACNN,aAAAA,GACI,IAAIO,EAAkC,OAAlBzP,KAAKgP,SAAoBhP,KAAKgP,SAAwB,GAAbhP,KAAK6G,MAClE,MAAM6I,EAAUpO,KAAKC,MAAMkO,EAAgB,IACrCE,EAAUF,EAAgB,GAChC,MAAO,GAAGC,KAAWC,EAAQxK,WAAWyK,SAAS,EAAG,MACxD,GAEJxP,QAAS,CACLyP,kBAAAA,GACI,MAAMC,EAASC,KAAKC,MAAMC,eAAeC,QAAQ,YAAc,GACzD7O,GAAM,IAAID,MAAO+O,UACjBC,EAAiBN,EAAOO,MAAKxJ,GAASxF,EAAMwF,EAAMyI,UAExDtP,KAAKwC,MAAM,eAAgB4N,EAAiB,SAAW,QAC3D,EACAE,eAAAA,GACI,MAAMjP,GAAM,IAAID,MAAO+O,UACvBnQ,KAAKgP,SAAW1N,KAAKC,OAAOvB,KAAKsP,QAAUjO,GAAO,KAE9CrB,KAAKgP,SAAW,IAChBuB,cAAcvQ,KAAKuP,UACnBvP,KAAKgP,SAAW,EAChBhP,KAAKwQ,gBAEb,EACAC,UAAAA,GACI,GAAIzQ,KAAKiP,aAAc,OAEvB,MAAM5N,GAAM,IAAID,MAAO+O,UACjBO,EAAwB,GAAb1Q,KAAK6G,MAAa,IACnC7G,KAAKsP,QAAUjO,EAAMqP,EACrB1Q,KAAKgP,SAAW0B,EAAW,IAC3B1Q,KAAKiP,cAAe,EAEpBjP,KAAK2Q,WAAW,CACZC,UAAWvP,EACXiO,QAAStP,KAAKsP,UAElBtP,KAAK6Q,qBACT,EACAF,UAAAA,CAAWG,GACP,IAAIhB,EAASC,KAAKC,MAAMC,eAAeC,QAAQ,YAAc,GAC7DJ,EAAO5L,KAAK4M,GACZb,eAAec,QAAQ,SAAUhB,KAAKiB,UAAUlB,IAChD9P,KAAKwC,MAAM,eAAgBsO,EAC/B,EACAG,UAAAA,GACIV,cAAcvQ,KAAKuP,UACnBvP,KAAKsP,QAAU,KACftP,KAAKgP,SAAW,KAChBhP,KAAKiP,cAAe,EACpBgB,eAAeiB,WAAW,SAC9B,EACAV,aAAAA,GACIxQ,KAAKwC,MAAM,iBAAkB,CACzB8M,QAAStP,KAAKsP,UAElBtP,KAAKmR,mBAAmBnR,KAAKsP,SAC7BtP,KAAKiP,cAAe,CACxB,EACAkC,kBAAAA,CAAmB7B,GACf,IAAIQ,EAASC,KAAKC,MAAMC,eAAeC,QAAQ,YAAc,GAC7DJ,EAASA,EAAOsB,QAAOvK,GAASA,EAAMyI,UAAYA,IAC9CQ,EAAOzL,OAAS,EAChB4L,eAAec,QAAQ,SAAUhB,KAAKiB,UAAUlB,IAEhDG,eAAeiB,WAAW,SAElC,EACAL,mBAAAA,GACI7Q,KAAKsQ,kBACLtQ,KAAKuP,SAAWrP,YAAYF,KAAKsQ,gBAAiB,IACtD,EACAe,wBAAAA,GACI,MAAMvB,EAASC,KAAKC,MAAMC,eAAeC,QAAQ,YAAc,GACzD7O,GAAM,IAAID,MAAO+O,UACjBmB,EAAcxB,EAAOyB,MAAK1K,GAASxF,EAAMwF,EAAMyI,UAEjDgC,IACAtR,KAAKsP,QAAUgC,EAAYhC,QAC3BtP,KAAKiP,cAAe,EACpBjP,KAAK6Q,sBAEb,GAEJ9Q,OAAAA,GACIC,KAAKqR,2BACLrR,KAAKwR,WAAU,KACXxR,KAAK6P,oBAAoB,GAEjC,EACA4B,aAAAA,GACIlB,cAAcvQ,KAAKuP,SACvB,G,YCxHJ,MAAMnK,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,wBFMA,IACCsB,KAAM,oBACNgL,WAAY,CACTC,OAAM,KAACC,OAAM,KAACC,MAAKA,IAEtB5T,IAAAA,GACC,MAAO,CACD6T,UAAU,GACVC,aAAc,CAAC,EAAE,EAAE,GAAI,GAAI,IAAK,IAAK,IAAI,IAAI,IAAI,IAAI,IAAM,IAAM,KACjE7H,YAAa,EACb8H,WAAY,EACZC,WAAY,EAEZ9H,iBAAkB,GAGlB5C,eAAc,EACdxL,aAAa,EACb6J,QAAO,EACPmC,UAAU,GACVmK,kBAAkB,EAClBC,gBAAgB,EAChBC,aAAa,EACblF,aAAc,EACdmF,SAAU,CACR5H,QAAS,CAAC,GAEZrC,mBAAckK,EACdC,cAAc,EACd/D,MAAM,GACNgE,OAAO,GACP1I,oBAAqB,GACrB+B,OAAQ,UACRM,UAAW,GACXsG,eAAgB,GAChBC,WAAW,OACXC,MAAOxU,EAAAA,EAAeC,IAAI,UAAU,SACpCwU,QAASzU,EAAAA,EAAeC,IAAI,WAC5BF,QAASC,EAAAA,EAAeC,IAAI,WAC5ByU,SAAU7S,KAAK8S,OAAOC,OAAOC,IAC7BC,SAAUjT,KAAK8S,OAAOC,OAAOG,IAC7BC,SAAUnT,KAAK8S,OAAOC,OAAOhP,KAC7BqP,UAAWpT,KAAK8S,OAAOC,OAAOM,MAC9BC,WAAYC,GAAAA,EAAYC,eACxBhN,OAAO,GACPG,KAAK,GACL8M,OAAO,GACPC,SAAS,GACTC,cAAc,GACdC,SAAS,GACTC,SAAS,GACTC,iBAAiB,EACjBC,SAAQ,EACRC,WAAW,GACXC,aAAa,GACbC,aAAa,GACbC,aAAY,EACZC,cAAa,EACbC,cAAe,CACf9X,SAAU,CACR,aACA,eACA,OACA,OACA,SACA,WACA,WACA,cAEF+X,SAAU,CAAC,UAAW,QAAS,QAC/BC,YAAY,KACZC,aAAa,MAGpB,EACApU,QAAS,CACN,iBAAMqU,GACJ,IACE,MAAMC,QAAiBC,MAAM,qCAC7B,IAAKD,EAASE,GAAI,MAAM,IAAIC,MAAM,8BAClC,MAAM5W,QAAayW,EAASI,OAC5B9U,KAAK6L,OAAS5N,EAAK8W,GACnBzS,QAAQC,IAAI,2BAA4BvC,KAAK6L,OAC/C,CAAE,MAAOpJ,GACPH,QAAQG,MAAM,0BAA2BA,EAE3C,CACF,EACAwL,kBAAAA,CAAmB+G,GACjB,MAAMC,EAAiB,IAEjBC,EAAU,IAAI9T,KAAK4T,GACnBG,EAAoB,IAAI/T,KAAK8T,EAAQE,iBAAkBF,EAAQG,cAAeH,EAAQI,aAAcJ,EAAQK,cAAeL,EAAQM,gBAAkBP,GAGrJ5T,EAAM,IAAID,KACVqU,EAAgB,IAAIrU,KAAKC,EAAI+T,iBAAkB/T,EAAIgU,cAAehU,EAAIiU,aAAcjU,EAAIkU,cAAelU,EAAImU,gBAAkBP,GAEnI,OAAOQ,EAAgBN,CACzB,EAEAO,oCAAAA,GACE,MAAMC,GAAc3V,KAAKkK,YAAc,GAAKlK,KAAKmK,iBAC3CyL,EAAWD,EAAa3V,KAAKmK,iBAC7B0L,EAAuB7V,KAAKmM,UAAU2J,MAAMH,EAAYC,GAE9D,OAAOC,EAAqBE,OAAMpM,GACzB3J,KAAKqS,SAAS5H,QAAQd,EAASE,SAE1C,EACAjC,mBAAAA,CAAoBoO,GAClBhW,KAAKyS,eAAevO,KAAK8R,EAC3B,EACAlO,mBAAAA,CAAoBmO,GAClBjW,KAAKyS,eAAevO,KAAK+R,GACzBjW,KAAKkW,qBACP,EACA,yBAAMA,GACJ,IAEE,GAAmC,IAA/BlW,KAAKyS,eAAepO,OAEtB,YADA/B,QAAQG,MAAM,uBAMhB,IAAI0T,EAAUnW,KAAKwS,QAAUxS,KAAKwS,OAAO2D,QAAU,IAAKnW,KAAKwS,OAAO2D,SAAY,CAAC,EAG1D,SAAnBnW,KAAK2G,KAAK5C,KAEN/D,KAAKwU,aACP2B,EAAQC,OAAS,CACfC,KAAM,IAAIrW,KAAKyS,iBAGjB0D,EAAQG,KAAO,CACbD,KAAM,IAAIrW,KAAKyS,iBAIO,QAAnBzS,KAAK2G,KAAK5C,OAEjBoS,EAAQI,IAAM,CACVF,KAAM,IAAIrW,KAAKyS,kBAKvBzS,KAAKwS,OAAO2D,QAAUA,EAGtB,MAAMK,EAAc,CAChBvY,KAAM,CACFkY,QAASnW,KAAKwS,OAAO2D,WAKvB,KAAElY,EAAI,OAAEwY,SAAiBzW,KAAK0W,SAASC,IAAI,UAAU3W,KAAKwS,OAAO/L,MAAO+P,EAAaxW,KAAK4S,QAAQjX,KACxG2G,QAAQC,IAAItE,EAAMwY,EAEpB,CAAE,MAAOhU,GACPH,QAAQG,MAAMA,EAChB,CACF,EACA8J,YAAAA,GACE,IAAKvM,KAAK0V,uCAQR,YANAkB,GAAAA,EAAOC,OAAO,CACZC,MAAO,iBACPC,QAAS,0CACTC,QAAS9V,YACT+V,OAAQA,SAKZjX,KAAKC,MAAMiX,gBAAgB7W,eAE3B,MAAM2R,EAAa1Q,KAAK4K,KAAKlM,KAAKmM,UAAU9H,OAASrE,KAAKmK,kBACtDnK,KAAKkK,YAAc8H,IACrBhS,KAAKkK,cACLiN,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,WAExC,EAEAtL,gBAAAA,GACOhM,KAAK0V,wCAWV1V,KAAKC,MAAMiX,gBAAgB7W,eAEvBL,KAAKkK,YAAc,IACrBlK,KAAKkK,cACLiN,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,aAbpCV,GAAAA,EAAOC,OAAO,CACZC,MAAO,iBACPC,QAAS,0CACTC,QAAS9V,YACT+V,OAAQA,QAWd,EACA5K,OAAAA,CAAQD,GACDpM,KAAK0V,wCAUV1V,KAAKkK,YAAckC,EACnBpM,KAAKC,MAAMiX,gBAAgB7W,gBATzBuW,GAAAA,EAAOC,OAAO,CACZC,MAAO,iBACPC,QAAS,0CACTC,QAAS9V,YACT+V,OAAQA,QAMd,EACAM,qBAAAA,GACE,MAAMlF,EAAWmF,aAAatH,QAAQ,YAClCmC,IACFrS,KAAKqS,SAAWtC,KAAKC,MAAMqC,IAE7B,MAAMvC,EAASC,KAAKC,MAAMC,eAAeC,QAAQ,YAAc,GACzD7O,GAAM,IAAID,MAAO+O,UACjBC,EAAiBN,EAAOO,MAAKxJ,GAASxF,EAAMwF,EAAMyI,UACpDtP,KAAKwO,OAASiJ,OAAOC,KAAK1X,KAAKwO,OAAOnK,OAAS,EAE9CrE,KAAKwU,cACNmD,GAAAA,EAAMpV,IAAI,WAAYvC,KAAKwO,OAC3BxO,KAAK+H,UAAYqI,EAAiB,OAAS,YAE3CuH,GAAAA,EAAMpV,IAAI,YAAavC,KAAKwO,OAC5BxO,KAAK+H,UAAY,SACjB/H,KAAKuH,eAAgB,IAGvBoQ,GAAAA,EAAMpV,IAAI,WAAYvC,KAAKwO,OAC3BxO,KAAK+H,UAAYqI,EAAiB,OAAS,UAE/C,EACAK,UAAAA,GACEzQ,KAAKC,MAAM2X,eAAenH,YAC5B,EACAQ,UAAAA,GACEjR,KAAKC,MAAM2X,eAAe3G,YAC5B,EACAhK,YAAAA,CAAaJ,GACX8Q,GAAAA,EAAMpV,IAAI,iBAAkBsE,EAC9B,EACAM,YAAAA,CAAaN,GACX7G,KAAK+T,SAAU,EACf/T,KAAKwN,YAAW,GAChBmK,GAAAA,EAAMpV,IAAI,kBAAmBsE,EAC/B,EACAE,iBAAAA,CAAkB0P,GAEhBkB,GAAAA,EAAMpV,IAAI,qBAAsBkU,EAClC,EACAoB,gBAAAA,CAAiB5T,GACfA,EAAM6T,iBACNC,MAAM,iDACR,EACAhN,gBAAAA,CAAiBiN,EAAYC,GAC3B,GAAIjY,KAAKqS,SAAS5H,SAAWzK,KAAKqS,SAAS5H,QAAQuN,GAAa,CAC5D,MAAME,EAAkBlY,KAAKqS,SAAS5H,QAAQuN,GAAYG,KAAIC,GAAQA,EAAKC,SAC3E,OAAOH,EAAgBnO,SAASkO,EACpC,CACA,OAAO,CACT,EACAvQ,oBAAAA,CAAqB4Q,GACnBtY,KAAKoI,cAAgBkQ,EACrBd,aAAazG,QAAQ,eAAgBuH,GACrCtY,KAAKuH,eAAgB,CACvB,EACAgR,OAAAA,CAAQC,GACN,IACEC,EADEC,EAAeF,EAAMnU,OAEzB,MAAuB,GAAhBqU,EACLD,EAAcnX,KAAKC,MAAMD,KAAKE,SAAWkX,GACzCA,KACCF,EAAME,GAAeF,EAAMC,IAAgB,CAACD,EAAMC,GAAcD,EAAME,IAEzE,OAAOF,CACT,EACA3P,SAAAA,GACE7I,KAAKoS,aAAc,EACnBpS,KAAK+H,UAAY,OACjB/H,KAAK2Y,aACL3Y,KAAKC,MAAMiX,gBAAgB7W,eAC3BL,KAAKC,MAAM2X,eAAenH,YAC5B,EACAkI,UAAAA,GACM3Y,KAAKkS,mBACPlS,KAAKmM,UAAYnM,KAAKuY,QAAQvY,KAAKmM,YAEjCnM,KAAKmS,gBACPnS,KAAKmM,UAAUyM,SAAQjP,IACrBA,EAASc,QAAUzK,KAAKuY,QAAQ5O,EAASc,QAAQ,GAGvD,EACAI,WAAAA,CAAYgO,EAAgBR,GAC1B,MAAMS,GAAY,IAAI1X,MAAO+O,UAC7BnQ,KAAKqS,SAAS5H,QAAQoO,GAAkB,CAAC,CAAER,SAAQS,cACnDtB,aAAazG,QAAQ,WAAYhB,KAAKiB,UAAUhR,KAAKqS,UACvD,EACA0G,cAAAA,GACE,IAAIvK,EAAQ,EACZ,IAAK,MAAM7E,KAAY3J,KAAKmM,UAAW,CACrCwL,GAAAA,EAAMpV,IAAI,WAAWoH,GACrB,MAAMqP,EAAahZ,KAAKqS,SAAS5H,QAAQd,EAASE,QAClD8N,GAAAA,EAAMpV,IAAI,aAAayW,GACnBA,GAAcA,EAAW,GAAGX,SAAW1O,EAASyB,SAClDoD,GAEJ,CACA,OAAOA,CACT,EACAyK,YAAAA,GACE,IAAK,MAAMtP,KAAY3J,KAAKmM,UAC1BnM,KAAKqS,SAAS5H,QAAQd,EAASE,QAAU,KAE3C2N,aAAazG,QAAQ,WAAYhB,KAAKiB,UAAUhR,KAAKqS,UACvD,EACA,eAAMvD,GACJ9O,KAAK+H,UAAY,UACjB/H,KAAKoS,aAAc,EACnBpS,KAAKqS,SAAS5H,QAAU,CAAC,EACzB,IACE,MAAMyO,QAAqBlZ,KAAKmZ,mBAAmBnZ,KAAKiT,UACxD0E,GAAAA,EAAMpV,IAAI,eAAgB2W,GACtBlZ,KAAKkS,mBACPlS,KAAKmM,UAAYnM,KAAKuY,QAAQW,EAAaE,eAC3CpZ,KAAKmM,UAAUyM,SAAQjP,IACrBA,EAASc,QAAUzK,KAAKuY,QAAQ5O,EAASc,QAAQ,IAGvD,CAAE,MAAOhI,GACPH,QAAQG,MAAM,4BAA6BA,EAC7C,CACF,EACA,gBAAM+K,GAIJ,GAFAxN,KAAK8J,oBAAsB,GAEvB9J,KAAKuS,aAAc,OACvBvS,KAAKuS,cAAe,EAEpB,MAAM8G,GAAc,IAAIjY,MAAO+O,UAC/B,IAAImJ,GAAc,EAClB,IAAK,MAAM3P,KAAY3J,KAAKmM,UAC1B,IAAKnM,KAAKqS,SAAS5H,QAAQd,EAASE,QAAS,CAC3CyP,GAAc,EACd,KACF,CAGF,GAAIA,GAAetZ,KAAK+T,QAAS,CAC/B/T,KAAKqS,SAASkH,WAAaF,EAC3BrZ,KAAKqS,SAASmH,OAASxZ,KAAK+T,QAAU,UAAY,OAClD/T,KAAKqS,SAAS7D,MAAQxO,KAAK+Y,iBAE3B,UACQ/Y,KAAKyZ,UAAUzZ,KAAKqS,UAC1BrS,KAAK+H,UAAY,SACjB/H,KAAKuH,eAAgB,EACjBvH,KAAKqS,SAAS7D,OAASxO,KAAK2G,KAAKgC,SAAY3I,KAAKqS,SAAS7D,MAAQxO,KAAK2G,KAAKgC,SAAmC,QAAxB3I,KAAK2G,KAAKkI,UACpG8I,GAAAA,EAAMpV,IAAI,6BAEVoV,GAAAA,EAAMpV,IAAI,iCAEd,CAAE,MAAOE,GACPH,QAAQG,MAAM,sBAAuBA,EACvC,CACF,MAGEzC,KAAKmM,UAAUyM,SAAQjP,IAChB3J,KAAKqS,SAAS5H,QAAQd,EAASE,SAClC7J,KAAK8J,oBAAoB5F,KAAKyF,EAASE,OACzC,IAIF+M,GAAAA,EAAOC,OAAO,CACZC,MAAO,iBACPC,QAAS,iCACTC,QAAS9V,YACT+V,OAAQA,SAEVjX,KAAKyQ,aAEPzQ,KAAKuS,cAAe,CACtB,EACA,eAAMkH,CAAU1U,GACd,IACE/E,KAAKjE,aAAc,EACnBiE,KAAKC,MAAMiX,gBAAgB7W,eAC3B,IAAI0D,EAAO,GACP/D,KAAKwU,eACPzQ,EAAO,UAET,MAAM2V,QAAe/E,MAAM,sDAAuD,CAChFgF,OAAQ,OACRC,QAAS,CAAC,eAAgB,mBAAmB,mBAAmB5Z,KAAK4S,QAAQjX,KAC7Eke,KAAM9J,KAAKiB,UAAU,CACnB2I,OAAQ,OACR9c,KAAM,CACJ,CACEid,KAAM,CACJ,CACEC,OAAQ/Z,KAAK9B,QAAQ6b,OACrBC,OAAQha,KAAKiT,SACbgH,SAAUja,KAAK6S,SACf9O,KAAMA,UAQZmW,QAAkBR,EAAO5E,OAE/B,GAAwB,IAApBoF,EAAS7V,QAAyC,QAAxBrE,KAAK2G,KAAKkI,WAAuBqL,EAAS7V,OAAS,EAAI,CACnFsT,GAAAA,EAAMpV,IAAI,+BACV,MAAMmX,QAAe/E,MAAM,iDAAkD,CAC3EgF,OAAQ,OACRC,QAAS,CAAE,eAAgB,mBAAmB,mBAAmB5Z,KAAK4S,QAAQjX,KAC9Eke,KAAM9J,KAAKiB,UAAU,CACnB/S,KAAM,CACJ,OAAU+B,KAAK9B,QAAQ6b,OACvB,OAAU/Z,KAAKiT,SACf,SAAYjT,KAAK6S,SACjB,MAAS9N,EAAOyJ,MAChB,OAAUzJ,EAAOyU,OACjB,UAAazU,EAAO6L,UACpB,WAAc7L,EAAOwU,WACrB,OAAUxU,EAAO0F,QACjB,KAAQ1G,GAEVoW,QAAS,CAAC,MAGRC,QAAoBV,EAAO5E,OAEjC,GAAsB,MAAlB4E,EAAOjD,OAAgB,CAEzBzW,KAAK+H,UAAY,SACjB/H,KAAKuH,eAAgB,EACrBvH,KAAKwO,MAAQ4L,EACb5C,aAAatG,WAAW,YAExB,IAAI/I,EAAWnI,KAAKwS,QAAUxS,KAAKwS,OAAOrK,SAAWnI,KAAKwS,OAAOrK,SAAW,CAAC,EACzEiM,EAAeoD,aAAatH,QAAQ,gBAEjB,SAAnBlQ,KAAK2G,KAAK5C,KACN/D,KAAKwU,aACPrM,EAASiO,OAAS,CAChBK,QAAQ,EACR4D,IAAKjG,GAGPjM,EAASmO,KAAO,CACdG,QAAQ,EACR4D,IAAKjG,GAIiB,QAAnBpU,KAAK2G,KAAK5C,OACjBoE,EAASoO,IAAM,CACXE,QAAQ,EACR4D,IAAKjG,IAIbpU,KAAKwS,OAAOrK,SAAWA,EAEvB,MAAMqO,EAAc,CAChBvY,KAAM,CACFkK,SAAUnI,KAAKwS,OAAOrK,YAIxB,KAAElK,EAAI,OAAEwY,SAAiBzW,KAAK0W,SAASC,IAAI,UAAU3W,KAAKwS,OAAO/L,MAAO+P,EAAaxW,KAAK4S,QAAQjX,KACxGgc,GAAAA,EAAMpV,IAAItE,EAAKwY,GAEfe,aAAatG,WAAW,gBACxBlR,KAAKjE,aAAc,EAEnB,MAAMue,QAAkB3F,MAAM,uDAAwD,CACpFgF,OAAQ,OACRC,QAAS,CAAE,eAAgB,mBAAmB,mBAAmB5Z,KAAK4S,QAAQjX,KAC9Eke,KAAM9J,KAAKiB,UAAU,CACnB2I,OAAQ,OACR9c,KAAM,CACJ,CACEid,KAAM,CACJ,CACEG,SAAUja,KAAK6S,SACfkH,OAAQ/Z,KAAK9B,QAAQ6b,eAO3BQ,QAAqBD,EAAUxF,OAC/B0F,EAAmB,IAAKD,EAAa,IAE3CC,EAAiBC,UAAY,IACxBD,EAAiBC,WAGC,SAAnBza,KAAK2G,KAAK5C,KACR/D,KAAKwU,aACPgG,EAAiBC,UAAUrE,OAAS,CACpCsE,KAAK,EACLC,KAAK,EACLhS,QAAS3I,KAAK2G,KAAKgC,QACnB6F,MAAOxO,KAAKwO,MAAMA,MAClBzJ,OAAQ/E,KAAKwO,MAAMA,OAASxO,KAAK2G,KAAKgC,QACtCoO,QAAS/W,KAAKwO,MAAMA,OAASxO,KAAK2G,KAAKgC,QAAU,gBAAkB,oBAGnE6R,EAAiBC,UAAUnE,KAAO,CAClCoE,KAAK,EACLC,KAAK,EACLxS,SAAS,MACTQ,QAAS3I,KAAK2G,KAAKgC,QACnB6F,MAAOxO,KAAKwO,MAAMA,MAClBzJ,OAAQ/E,KAAKwO,MAAMA,OAASxO,KAAK2G,KAAKgC,QACtCoO,QAAS/W,KAAKwO,MAAMA,OAASxO,KAAK2G,KAAKgC,QAAU,gBAAkB,oBAIzC,QAAnB3I,KAAK2G,KAAK5C,OACnByW,EAAiBC,UAAUlE,IAAM,CAC/BmE,KAAK,EACLC,KAAK,EACLxS,SAAS,MACTQ,QAAS3I,KAAK2G,KAAKgC,QACnB6F,MAAOxO,KAAKwO,MAAMA,MAClBzJ,OAAQ/E,KAAKwO,MAAMA,OAASxO,KAAK2G,KAAKgC,QACtCoO,QAAS/W,KAAKwO,MAAMA,OAASxO,KAAK2G,KAAKgC,QAAU,gBAAkB,qBAIvE,MAAMiS,EAAWL,EAAa,GAAG9T,IAC3BoU,EAAS,kDAAkDD,IAC3DE,EAAc,CAClB7c,KAAM,CACJwc,UAAWD,EAAiBC,WAE9BN,QAAS,CAAC,GAINY,QAAmBpG,MAAMkG,EAAQ,CACrClB,OAAQ,MACRC,QAAS,CAAE,eAAgB,mBAAmB,mBAAmB5Z,KAAK4S,QAAQjX,KAC9Eke,KAAM9J,KAAKiB,UAAU8J,WAEjBC,EAAWjG,OACjB9U,KAAKC,MAAM2X,eAAe3G,YAC5B,CACF,MACE0G,GAAAA,EAAMpV,IAAI,iCAEd,CAAE,MAAOE,GACPkV,GAAAA,EAAMpV,IAAIE,EACZ,CACF,EACAuY,aAAAA,CAAcrL,GACZ,OAAOsL,GAAAA,EAAaC,cAAcvL,EACpC,EACAtB,cAAAA,CAAe2G,GACb,OAAOiG,GAAAA,EAAaE,eAAenG,EACrC,EACAoG,YAAAA,GACE,OAAO7H,GAAAA,EAAYC,cACrB,EACA,aAAM6H,GACJ,IACErb,KAAK4F,QAAS,EACd5F,KAAK8T,iBAAmB,EACxB,MAAM4F,QAAgB/E,MAAM,kDAAoD3U,KAAK6S,SAAU,CAC7F8G,OAAQ,MACRC,QAAS,CAAC,eAAgB,mBAAmB,mBAAmB5Z,KAAK4S,QAAQjX,OAEzE2f,QAAqB5B,EAAO5E,OAIlC,GAFA0C,aAAatG,WAAW,gBAEL,MAAhBwI,EAAOjD,OAAc,CACpBzW,KAAKwG,OAAS8U,EACd,MAAMC,QAAiB5G,MAAM,gDAAkD3U,KAAKiT,SAAU,CAC1F0G,OAAQ,MACRC,QAAS,CAAC,eAAgB,mBAAmB,mBAAmB5Z,KAAK4S,QAAQjX,OAG3E6f,QAAqBD,EAAQzG,OAEnCxS,QAAQC,IAAI,aAAaiZ,GAEzBxb,KAAK2G,KAAe6U,EACpBxb,KAAKkN,aAAesO,EAAW3U,MAE/B,MAAMyT,QAAkB3F,MAAM,uDAAwD,CACpFgF,OAAQ,OACRC,QAAS,CAAC,eAAgB,mBAAmB,mBAAmB5Z,KAAK4S,QAAQjX,KAC7Eke,KAAM9J,KAAKiB,UAAU,CACnB2I,OAAQ,OACR9c,KAAM,CACJ,CACEid,KAAM,CACJ,CACEC,OAAQ/Z,KAAK9B,QAAQ6b,OACrBE,SAAUja,KAAK6S,iBAQrBL,QAAe8H,EAAUxF,OAC/B9U,KAAKwS,OAASA,EAAO,GAErBlQ,QAAQC,IAAI,SAASvC,KAAKwS,QAE1B,MAAMiJ,QAAgB9G,MAAM,qDAAsD,CAChFgF,OAAQ,OACRC,QAAS,CAAC,eAAgB,mBAAmB,mBAAmB5Z,KAAK4S,QAAQjX,KAC7Eke,KAAM9J,KAAKiB,UAAU,CACnB2I,OAAQ,OACR9c,KAAM,CACJ,CACEid,KAAM,CACJ,CACEC,OAAQ/Z,KAAK9B,QAAQ6b,OACrBE,SAAUja,KAAK6S,iBAQrB6I,QAAaD,EAAQ3G,OAmD3B,GAjDA9U,KAAK0b,KAAOA,EAAK,GACjBpZ,QAAQC,IAAI,OAAOvC,KAAK0b,MAEA,QAArB1b,KAAK2G,KAAKwB,SACPnI,KAAKwS,QAAUxS,KAAKwS,OAAOrK,UAC7BwP,GAAAA,EAAMpV,IAAI,iBAAiBvC,KAAKwS,OAAOxS,KAAKwS,OAAOrK,UAC1B,SAAnBnI,KAAK2G,KAAK5C,MAAmB/D,KAAKwS,OAAOrK,SAASmO,MAAQtW,KAAKwS,OAAOrK,SAASmO,KAAK+D,KACtFra,KAAKoI,cAAgBpI,KAAKwS,OAAOrK,SAASmO,KAAK+D,IAC/Cra,KAAKuH,eAAgB,EACrBoQ,GAAAA,EAAMpV,IAAI,OAAOvC,KAAKoI,gBACM,QAAnBpI,KAAK2G,KAAK5C,MAAkB/D,KAAKwS,OAAOrK,SAASoO,KAAOvW,KAAKwS,OAAOrK,SAASoO,IAAI8D,KAC1Fra,KAAKoI,cAAgBpI,KAAKwS,OAAOrK,SAASoO,IAAI8D,IAC9Cra,KAAKuH,eAAgB,EACrBoQ,GAAAA,EAAMpV,IAAI,MAAMvC,KAAKoI,iBAEnBpI,KAAKoI,eAAgB,EACrBpI,KAAKuH,eAAgB,KAGzBvH,KAAKoI,eAAgB,EACrBpI,KAAKuH,eAAgB,IAGzBvH,KAAKoI,eAAgB,EACrBpI,KAAKuH,eAAgB,IAQ6B,IAAjDvH,KAAKiO,mBAAmBjO,KAAK2G,KAAKgV,aACnC3b,KAAKmU,aAAc,EAEnBnU,KAAKmU,aAAc,EAGrBqD,aAAazG,QAAQ,eAAgB/Q,KAAKoI,eAC1CuP,GAAAA,EAAMpV,IAAI,gBAAgBvC,KAAKoI,eAU5BpI,KAAK0b,MAAgE,YAAxD1b,KAAK0b,KAAKE,SAAS,qBAAqBjR,MAAMA,OACxD3K,KAAKwS,OAAOiI,UAAUnE,MAAQtW,KAAKwS,OAAOiI,UAAUnE,KAAK9H,OACxDxO,KAAKwS,QAAQiI,WAAWnE,MAAM9H,MAAQ,GAEvC,YADAxO,KAAK6b,QAAQ3X,KAAK,iBAMxB,GAAGlE,KAAK0b,MAAgE,YAAxD1b,KAAK0b,KAAKE,SAAS,qBAAqBjR,MAAMA,OACxD3K,KAAKwS,OAAOiI,UAAUnE,MAAQtW,KAAKwS,OAAOiI,UAAUnE,KAAK9H,OACxDxO,KAAKwS,QAAQiI,WAAWnE,MAAM9H,MAAQ,GAEvC,YADAxO,KAAK6b,QAAQ3X,KAAK,iBAoBxB,MAAMwV,QAAe/E,MAAM,sDAAuD,CAChFgF,OAAQ,OACRC,QAAS,CAAC,eAAgB,mBAAmB,mBAAmB5Z,KAAK4S,QAAQjX,KAC7Eke,KAAM9J,KAAKiB,UAAU,CACnB2I,OAAQ,OACR9c,KAAM,CACJ,CACEid,KAAM,CACJ,CACEC,OAAQ/Z,KAAK9B,QAAQ6b,OACrBC,OAAQha,KAAKiT,SACbgH,SAAUja,KAAK6S,iBAQrBrE,QAAckL,EAAO5E,OAM3B,GAJAxS,QAAQC,IAAI,QAAQ,KAIA,WAAjBvC,KAAKmT,SAAsB,CAE5B7Q,QAAQC,IAAI,QAAQ,KAEpB,MAAMkY,EAAYza,KAAKwS,OAAOiI,UACxBqB,EAAYrB,GAAWnE,MAAM9H,OAAS,EACtCuN,EAActB,GAAWnE,MAAM3N,SAAW,GAChD,IAAIqT,GAAa,EACbzH,EAAc,EAEd0H,EAAa,KACbC,EAAc,KAEI,MAAlBlc,KAAKoT,WACP9Q,QAAQC,IAAI,QAAQ,KACpB0Z,EAAajc,KAAKwG,OAAO2V,iBACzBD,EAAclc,KAAKwG,OAAO4V,0BAE1BH,EAAajc,KAAKwG,OAAO6V,iBACzBH,EAAclc,KAAKwG,OAAO8V,yBAKxBR,EAAYC,GACdC,GAAa,EACbzH,EAAiD,kBAA5BkG,EAAUrE,QAAQ5H,OAAqBiM,EAAUrE,OAAO5H,OACpC,IAAtCxO,KAAKiO,mBAAmBgO,IAAuBjc,KAAKiO,mBAAmBiO,GACxEvE,GAAAA,EAAM4E,MAAM,gBAEZ5E,GAAAA,EAAM4E,MAAM,qBAEd5E,GAAAA,EAAM4E,MAAM,eAAevc,KAAKiO,mBAAmBgO,IACnDtE,GAAAA,EAAM4E,MAAM,gBAAgBvc,KAAKiO,mBAAmBiO,KAEpDF,GAAa,EAEfhc,KAAKuU,YAAcA,EACnBvU,KAAKwU,aAAsC,kBAAhBD,EAC3BoD,GAAAA,EAAM4E,MAAM,aAAaT,GACzBnE,GAAAA,EAAM4E,MAAM,eAAeR,GAC3BpE,GAAAA,EAAM4E,MAAM,cAAcP,GAC1BrE,GAAAA,EAAM4E,MAAM,eAAehI,GAEJ,SAAnBvU,KAAK2G,KAAK5C,MAAmB/D,KAAKwS,OAAOrK,SAASiO,QAAUpW,KAAKwS,OAAOrK,SAASiO,OAAOiE,KACxFra,KAAKoI,cAAgBpI,KAAKwS,OAAOrK,SAASmO,KAAK+D,IAC/Cra,KAAKuH,eAAgB,EACrBoQ,GAAAA,EAAMpV,IAAI,OAAOvC,KAAKoI,iBAEtBpI,KAAKoI,eAAgB,EACrBpI,KAAKuH,eAAgB,EAK3B,MACEvH,KAAKwU,cAAe,EAKtB,GAAsB,MAAlBkF,EAAOjD,OAAgB,CACzB,GAAIjI,EAAMnK,OAAS,EAEjBrE,KAAKwO,MAAQA,EAAMA,EAAMnK,OAAS,GAClCrE,KAAK4F,QAAS,EAEd5F,KAAKuX,4BAEA,CAEL,GAAIvX,KAAKqS,SAAS5H,QAAS,CACzB,MAAMyO,QAAqBlZ,KAAKmZ,mBAAmBqC,EAAW/U,KAC9DkR,GAAAA,EAAMpV,IAAI,eAAgB2W,GAC1BlZ,KAAK2Y,aACL3Y,KAAK4F,QAAS,CAChB,KAAO,CAEL,MAAMsT,QAAqBlZ,KAAKmZ,mBAAmBqC,EAAW/U,KAC9DzG,KAAK4F,QAAS,EACd+R,GAAAA,EAAMpV,IAAI,eAAgB2W,EAC5B,CACAlZ,KAAKuX,uBACP,CAEA,GAAGvX,KAAKwU,aAAc,CACpB,GAAIxU,KAAKqS,SAAS5H,QAAS,CACzB,MAAMyO,QAAqBlZ,KAAKmZ,mBAAmBqC,EAAW/U,KAC9DkR,GAAAA,EAAMpV,IAAI,eAAgB2W,GAC1BlZ,KAAK2Y,aACL3Y,KAAK4F,QAAS,CAChB,KAAO,CAEL,MAAMsT,QAAqBlZ,KAAKmZ,mBAAmBqC,EAAW/U,KAC9DzG,KAAK4F,QAAS,EACd+R,GAAAA,EAAMpV,IAAI,eAAgB2W,EAC5B,CACAlZ,KAAKuX,uBACP,CACF,CACJ,CACF,CAAE,MAAO9U,GACPkV,GAAAA,EAAMpV,IAAIE,EACZ,CACF,EACA,wBAAM0W,CAAmBqD,GACvB,MAAMC,EAAW,CACf,CACEC,OAAQ,CACN5C,KAAM,CAAC,CAAEE,OAAQwC,MAGrB,CACEG,QAAS,CACPC,KAAM,SACNC,IAAK,CAAE7E,WAAY,CAAE8E,UAAW,SAChCL,SAAU,CACR,CACEC,OAAQ,CACNK,MAAO,CACHC,IAAK,CAAC,eAAgB,mBAKhCC,GAAI,YAGR,CACEC,OAAQ,CACJ5G,KAAM,CACJ,CACI6G,OAAQnd,KAAKkK,YAAc,GAAKlK,KAAK8R,WAEzC,CACIsL,OAAQpd,KAAK8R,YAGnBuL,WAAY,CACV,CACIC,OAAQ,aAOhB9G,EAAc,CAClBiG,SAAUA,IAGN,KAAExe,EAAI,OAAEwY,SAAiBzW,KAAK0W,SAAS6G,KAAK,sBAAuB/G,EAAaxW,KAAK4S,QAAQjX,KAEvF,MAAT8a,IACDzW,KAAKmM,UAAYnM,KAAKwd,qBAAqBvf,GAE/C,EACAuf,oBAAAA,CAAqBvf,GACnB,MAAMwf,EAAgBxf,EAAKyf,SAAQtF,GAC1BA,EAAK9B,KAAK6B,KAAIwF,IACnB,MAAQlX,IAAKoD,EAAQ+T,OAAQvT,EAAI,QAAEe,EAAO,QAAEX,GAAYkT,EAClDE,EAAmBpT,EAAQ0N,KAAIE,IAAK,CACxC1N,MAAO0N,EAAO5R,IACdyE,MAAOmN,EAAOuF,WAGhB,MAAO,CACL/T,SACAQ,OACAe,UACAX,QAASoT,EACV,MAGL,OAAOJ,CACT,EACAhQ,UAAAA,GACEmJ,GAAAA,EAAOI,QAAQ,CACXF,MAAO,8BACPC,QAAS,yEACTC,QAAS9V,UACPlB,KAAK+H,UAAY,UACjB/H,KAAKoS,aAAc,EACnBuF,GAAAA,EAAMpV,IAAI,cAEVvC,KAAKqS,SAAW,CACd5H,QAAS,CAAC,GAEZzK,KAAKC,MAAM2X,eAAe3G,aAC1BuG,aAAatG,WAAW,WAAW,EAErC+F,OAAQA,QAEd,GAEF6G,OAAAA,GACE,EAEFtO,SAAU,CACR9F,kBAAAA,GACE,MAAMlG,GAASxD,KAAKkK,YAAc,GAAKlK,KAAKmK,iBACtC4T,EAAMva,EAAQxD,KAAKmK,iBACzB,OAAOnK,KAAKmM,UAAU2J,MAAMtS,EAAOua,EACrC,EACAhR,sBAAAA,GACE,IAAIiR,EAAgB,EAMpB,OALAhe,KAAKmM,UAAUyM,SAAQjP,IAClB3J,KAAKqS,SAAS5H,QAAQd,EAASE,SAChCmU,GACF,IAEK,CAAEhR,SAAUgR,EAAexV,MAAOxI,KAAKmM,UAAU9H,OAC1D,GAEF,aAAMtE,GACN,IAEE,IAAKC,KAAK2S,MAER,YADA3S,KAAK6b,QAAQ3X,KAAK,KAGpBlE,KAAKyU,cACLjU,SAASyd,iBAAiB,OAAQje,KAAK6X,kBACvCrX,SAASyd,iBAAiB,QAASje,KAAK6X,wBAClC7X,KAAKqb,SAEb,CAAE,MAAO5Y,GACPkV,GAAAA,EAAMpV,IAAIE,EACZ,CACF,EACEyb,KAAAA,GAAS,EACTC,MAAO,CACL,oBAAqB,CACnBC,MAAM,EACNC,WAAW,EACXC,OAAAA,GACE,KG3+BR,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,UJCI,IACA5X,KAAM,cACNgL,WAAY,CACR6M,SAAQA,IAEZtgB,IAAAA,GACI,MAAO,CACHC,QAASC,EAAAA,EAAeC,IAAI,WAEpC,EACA8f,KAAAA,GACI,MAAMM,GAAQC,EAAAA,EAAAA,MACRC,EAAYF,EAAMG,KAAK7H,OAC7B8H,EAAAA,EAAAA,IAASF,EACb,EACAlP,SAAU,CACNhK,aAAAA,GACI,MAAO,UACX,IKvBR,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASH,KAEpE,S,sBCPA,MAAMwZ,EACJC,QAAAA,GACE,OAAO3H,OAAO4H,YAAc,GAC9B,CAEAvL,YAAAA,GACE,OAAOxT,KAAK8e,WAAa,SAAW,SACtC,EAGF,MAAMvL,EAAc,IAAIsL,EACxB,K,wBCVA,IAAIG,EAAO,EAAQ,OACfC,EAAW,EAAQ,OACnBC,EAAoB,EAAQ,MAC5BC,EAAoB,EAAQ,OAEhCC,EAAOC,QAAU,SAAUC,EAAKC,GACzBA,GAAiC,kBAARD,GAAkBL,EAASK,GACzD,IAAI3F,EAASwF,EAAkBG,GAC/B,OAAOJ,EAAkBD,OAAoB3M,IAAXqH,EAAuBqF,EAAKrF,EAAQ2F,GAAOA,GAC/E,C,wBCTA,IAAIE,EAAI,EAAQ,OACZC,EAAU,EAAQ,OAClBC,EAAY,EAAQ,OACpBT,EAAW,EAAQ,OACnBC,EAAoB,EAAQ,MAIhCM,EAAE,CAAEG,OAAQ,WAAYC,OAAO,EAAMC,MAAM,GAAQ,CACjD9J,MAAO,SAAe+J,GACpBb,EAASjf,MACT0f,EAAUI,GACV,IAAIC,EAASb,EAAkBlf,MAC3BggB,EAAU,EACd,OAAQP,EAAQM,GAAQ,SAAUpV,EAAO/G,GACvC,IAAKkc,EAAUnV,EAAOqV,KAAY,OAAOpc,GAC3C,GAAG,CAAEqc,WAAW,EAAMC,aAAa,IAAQC,OAC7C,G,wBCjBF,IAAIX,EAAI,EAAQ,OACZR,EAAO,EAAQ,OACfU,EAAY,EAAQ,OACpBT,EAAW,EAAQ,OACnBC,EAAoB,EAAQ,MAC5BkB,EAAyB,EAAQ,OACjCC,EAAsB,EAAQ,OAC9BC,EAAgB,EAAQ,MACxBC,EAAU,EAAQ,OAElBC,EAAgBH,GAAoB,WACtC,IAEItb,EAAQ0b,EAFRC,EAAW1gB,KAAK0gB,SAChBC,EAAS3gB,KAAK2gB,OAGlB,MAAO,EAAM,CACX,GAAIF,EAAQzgB,KAAKygB,MAAO,IAEtB,GADA1b,EAASka,EAASD,EAAKyB,EAAMG,KAAMH,EAAMC,YACpC3b,EAAO8b,KAAM,OAAO9b,EAAO4F,MAChC3K,KAAKygB,MAAQ,IACf,CAAE,MAAOhe,GAAS6d,EAAcI,EAAU,QAASje,EAAQ,CAI3D,GAFAsC,EAASka,EAASD,EAAKhf,KAAK4gB,KAAMF,IAE9B1gB,KAAK6gB,OAAS9b,EAAO8b,KAAM,OAE/B,IACE7gB,KAAKygB,MAAQL,EAAuBO,EAAO5b,EAAO4F,MAAO3K,KAAKggB,YAAY,EAC5E,CAAE,MAAOvd,GAAS6d,EAAcI,EAAU,QAASje,EAAQ,CAC7D,CACF,IAIA+c,EAAE,CAAEG,OAAQ,WAAYC,OAAO,EAAMC,MAAM,EAAMiB,OAAQP,GAAW,CAClE7C,QAAS,SAAiBiD,GAGxB,OAFA1B,EAASjf,MACT0f,EAAUiB,GACH,IAAIH,EAActB,EAAkBlf,MAAO,CAChD2gB,OAAQA,EACRF,MAAO,MAEX,G,wBCzCF,EAAQ,M,wBCAR,EAAQ,M","sources":["webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/Webcam.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/Webcam.vue?e278","webpack://node-backend/./src/extensions/modules/elearning/lesson/view/course/Assessment.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/frontend/Assessment.vue","webpack://node-backend/./src/utils/Timer.vue","webpack://node-backend/./src/utils/Timer.vue?c7a9","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/frontend/Assessment.vue?826a","webpack://node-backend/./src/extensions/modules/elearning/lesson/view/course/Assessment.vue?17d3","webpack://node-backend/./src/plugins/DeviceUtils.js","webpack://node-backend/./node_modules/core-js/internals/get-iterator-flattenable.js","webpack://node-backend/./node_modules/core-js/modules/es.iterator.every.js","webpack://node-backend/./node_modules/core-js/modules/es.iterator.flat-map.js","webpack://node-backend/./node_modules/core-js/modules/esnext.iterator.every.js","webpack://node-backend/./node_modules/core-js/modules/esnext.iterator.flat-map.js"],"sourcesContent":["<template>\n  <div class=\"relative\" :data-content=\"'กำลังอัพโหลดไฟล์วีดีโอ กรุณารอสักครู่.....'\" :class=\"[(activeBlock?'isblock' : 'isunblock')]\">\n    <div class=\"aspect-w-16 aspect-h-9\">\n      <div class=\"absolute inset-0 flex justify-center items-center\">\n        <div class=\"w-full h-full bg-gray-900\">\n          <video ref=\"videoElement\" autoplay playsinline class=\"w-full h-full object-cover\"></video>\n          <video v-if=\"videoURL\" :src=\"videoURL\" controls webkit-playsinline playsinline class=\"absolute top-0 left-0 w-full h-full object-cover\"></video>\n        </div>\n      </div>\n    </div>\n    <div class=\"relative bottom-0 left-0 w-full p-4 bg-gray-900 bg-opacity-75 flex justify-center\">\n      <button @click=\"activateCamera\" :disabled=\"recording || cameraActive\" class=\"py-2 px-4 bg-blue-500 text-white rounded hover:bg-blue-600 mr-2\">1.เปิดกล้อง</button>\n      <button @click=\"startRecording\" :disabled=\"recording || !cameraActive\" class=\"py-2 px-4 bg-red-500 text-white rounded hover:bg-red-600 mr-2\">\n        <span v-if=\"!recording\">2.บันทึกวีดีโอ</span>\n        <span v-else>\n        กำลังบันทึก...\n        </span>\n      </button>\n      <!-- <button @click=\"stopRecording\" :disabled=\"!recording\" class=\"py-2 px-4 bg-yellow-500 text-white rounded hover:bg-yellow-600 mr-2\">หยุด</button> -->\n      <!-- <button @click=\"sendBase64\" class=\"py-2 px-4 bg-green-500 text-white rounded hover:bg-green-600\">ส่ง</button> -->\n      <button @click=\"uploadRecordedVideo\" class=\"py-2 px-4 bg-green-500 text-white rounded hover:bg-green-600\">3.ส่งวีดีโอ</button>\n\n    </div>\n    <!-- <div class=\"absolute bottom-0 left-0 w-full p-4 bg-gray-900 bg-opacity-75\" v-if=\"videoBase64 !== null\">\n      <h3 class=\"text-xl font-bold text-white mb-2\">Base64 Representation:</h3>\n      <textarea readonly v-model=\"videoBase64\" class=\"w-full bg-gray-100 p-2\"></textarea>\n    </div> -->\n    <div class=\"absolute top-0 left-0 w-full p-2\" v-if=\"recording\">\n      <div class=\"bg-red-500 text-white text-sm font-bold px-4 py-2 rounded-full inline-flex items-center\">\n        <i class=\"fas fa-circle red-icon mr-1\"></i> Recording...\n      </div>\n    </div>\n    <div class=\"absolute top-0 right-0 m-2 text-white font-bold code-overlay\" v-if=\"recording\">{{ currentDateTime }}</div>\n    <div class=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white text-4xl font-bold code-overlay\" v-if=\"showCode\">{{ code }}</div>\n  </div>\n</template>\n\n<script>\nimport { S3 } from \"@aws-sdk/client-s3\";\nimport { PutObjectCommand } from \"@aws-sdk/client-s3\";\nimport storageManager from \"@/plugins/storage\";\nexport default {\n  data() {\n    const session = storageManager.get(\"configs\");\n    const schoolSession = session;\n    const s3Client = new S3({\n      forcePathStyle: false,\n      endpoint: schoolSession.s3EndpointDefault,\n      region: schoolSession.s3Region,\n      ResponseContentEncoding: \"utf-8\",\n      credentials: {\n        accessKeyId: schoolSession.s3Key,\n        secretAccessKey: schoolSession.s3Secret,\n      },\n    });\n\n    return {\n\n      activeBlock: false,\n\n      uploadedFiles: [],\n      S3: s3Client,\n      schoolSession: schoolSession,\n      outputfile: [],\n      errorText: \"\",\n      successText: \"\",\n      previewImages: [],\n      uploadedFileUrl: '',\n\n\n      videoElement: null,\n      recording: false,\n      videoBase64: null,\n      mediaRecorder: null,\n      recordedChunks: [],\n      cameraActive: false,\n      videoURL: null,\n      mediaStream: null,\n      currentDateTime: '',\n      showCode: false,\n      code: null,\n      preview: false\n    };\n  },\n  mounted() {\n    this.videoElement = this.$refs.videoElement;\n    setInterval(this.updateDateTime, 1000); // Update date and time every second\n  },\n  methods: {\n    async captureImage() {\n      const video = this.$refs.videoElement;\n      const canvas = document.createElement('canvas');\n      canvas.width = video.videoWidth;\n      canvas.height = video.videoHeight;\n      const context = canvas.getContext('2d');\n      context.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n      // Convert canvas to Blob\n      canvas.toBlob(async (blob) => {\n        try {\n          this.activeBlock = true; // Assuming you want to block UI during upload\n          const uniqueId = Date.now() + '-' + Math.floor(Math.random() * 10000000000);\n          const file_extension = 'png'; // Or 'jpeg', depending on the desired format\n          const newFileName = `verified_image/${uniqueId}.${file_extension}`; // Modified key\n\n          const uploadParams = {\n            Bucket: this.schoolSession.s3Bucket,\n            Key: newFileName,\n            Body: blob,\n            ACL: \"public-read\", // Ensure the file is publicly accessible\n          };\n\n          // Perform the upload\n          await this.S3.send(new PutObjectCommand(uploadParams));\n\n          // Construct the URL to access the uploaded image\n          const uploadedImageUrl = `${this.schoolSession.s3Endpoint}${newFileName}`;\n          console.log(\"Image uploaded successfully:\", uploadedImageUrl);\n\n          // Emit an event with the image URL for the parent component\n          this.$emit('imageUploaded', uploadedImageUrl);\n\n          this.activeBlock = false; // Unblock UI\n        } catch (error) {\n          console.error(\"Error uploading image:\", error);\n          this.activeBlock = false; // Ensure UI is unblocked in case of error\n        }\n      }, 'image/png'); // Or 'image/jpeg'\n    },\n    async uploadRecordedVideo() {\n      if (!this.videoBlob || this.videoBlob.size === 0) {\n        console.error('No video to upload or video is empty.');\n        return;\n      }\n\n      try {\n        await this.uploadVideo(this.videoBlob);\n        console.log('Upload successful');\n        this.successText = \"Video uploaded successfully\";\n      } catch (error) {\n        console.error('Upload failed:', error);\n        this.errorText = \"Error uploading video\";\n      }\n    },\n    async uploadVideo(blob) {\n      try {\n        this.activeBlock = true;\n        const uniqueId = Date.now() + '-' + Math.floor(Math.random() * 10000000000); // Generate unique identifier\n        const file_extension = 'mp4';\n        const newFileName = `${uniqueId}.${file_extension}`; // New unique filename\n\n        const uploadParams = {\n          Bucket: this.schoolSession.s3Bucket,\n          Key: \"verified/\" + newFileName,\n          Body: blob,\n          ACL: \"public-read\",\n        };\n\n        const data = await this.S3.send(new PutObjectCommand(uploadParams));\n\n        this.uploadedFileUrl = `${this.schoolSession.s3Endpoint}verified/${newFileName}`; // Store or process the URL as needed\n\n        console.log(\"Video uploaded successfully:\", data);\n        this.successText = \"Video uploaded successfully\";\n        this.activeBlock = false;\n        this.$emit('webcam-recorder', this.uploadedFileUrl);\n        // Optionally, emit an event or call another method to handle the successful upload\n      } catch (error) {\n        console.error(\"Error uploading video:\", error);\n        this.errorText = \"Error uploading video\";\n      }\n    },\n    sendBase64() {\n      this.convertToBase64();\n    },\n    async activateCamera() {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\n        this.videoElement.srcObject = stream;\n        this.mediaStream = stream;\n        this.cameraActive = true;\n        console.log('Camera activated');\n      } catch (error) {\n        console.error('Error accessing webcam:', error);\n      }\n    },\n    startRecording() {\n      if (!this.cameraActive) {\n        console.error('Camera is not active.');\n        return;\n      }\n\n      this.recordedChunks = [];\n      this.videoURL = null;\n      try {\n        this.mediaRecorder = new MediaRecorder(this.mediaStream);\n        this.mediaRecorder.ondataavailable = this.handleDataAvailable;\n        this.mediaRecorder.start();\n        this.recording = true;\n        this.showCode = true;\n        this.preview = false;\n        this.generateRandomCode();\n        console.log('Recording started');\n        setTimeout(this.stopRecording, 5000); // Stop recording after 5 seconds\n      } catch (error) {\n        console.error('Error starting recording:', error);\n      }\n    },\n    stopRecording() {\n      if (this.mediaRecorder && this.recording) {\n        this.mediaRecorder.stop();\n        this.recording = false;\n        this.showCode = false;\n        console.log('Recording stopped');\n        \n        // Ensure the MediaRecorder has stopped before creating the blob\n        this.mediaRecorder.onstop = () => {\n          const videoBlob = new Blob(this.recordedChunks, { type: 'video/mp4' });\n          console.log('Blob size:', videoBlob.size); // Log the blob size for debugging\n          \n          if (videoBlob.size > 0) {\n            this.videoBlob = videoBlob; // Save the blob for later use if it contains data\n            this.previewRecording(); // Update the preview with the new blob\n          } else {\n            console.error('No video data available to upload.');\n          }\n        };\n      }\n    },\n\n    handleDataAvailable(event) {\n      if (event.data.size > 0) {\n        this.recordedChunks.push(event.data);\n        this.previewRecording();\n      }\n    },\n    async previewRecording() {\n      const blob = new Blob(this.recordedChunks, { type: 'video/mp4' });\n      this.videoURL = URL.createObjectURL(blob);\n      console.log('Preview updated');\n    },\n    async convertToBase64() {\n      if (this.recordedChunks.length === 0) {\n        console.error('No video data available.');\n        return;\n      }\n\n      const blob = new Blob(this.recordedChunks, { type: 'video/mp4' });\n      const base64String = await this.blobToBase64(blob);\n      this.videoBase64 = base64String;\n      this.$emit('webcam-recorder', this.videoBase64);\n      console.log('Video converted to Base64');\n    },\n    blobToBase64(blob) {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.readAsDataURL(blob);\n        reader.onloadend = () => resolve(reader.result);\n        reader.onerror = error => reject(error);\n      });\n    },\n    updateDateTime() {\n      const now = new Date();\n      this.currentDateTime = now.toLocaleString();\n    },\n    generateRandomCode() {\n      const randomCode = Math.floor(1000 + Math.random() * 9000);\n      this.code = randomCode.toString();\n    }\n  }\n};\n</script>\n\n<style>\n  .red-icon {\n    color: red;\n    margin-right: 5px;\n  }\n  .code-overlay {\n    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);\n  }\n  \n</style>\n","import { render } from \"./Webcam.vue?vue&type=template&id=fe7d44ac\"\nimport script from \"./Webcam.vue?vue&type=script&lang=js\"\nexport * from \"./Webcam.vue?vue&type=script&lang=js\"\n\nimport \"./Webcam.vue?vue&type=style&index=0&id=fe7d44ac&lang=css\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <component :is=\"componentName\" />\n    </template>\n    \n    <script>\n    import { useTitle } from 'vue-page-title';\n    import { useRoute } from 'vue-router';\n    import storageManager from '@/plugins/storage';\n    import Frontend from '../../component/course/frontend/Assessment.vue';\n    \n    export default {\n    name: 'Lesson Play',\n    components: {\n        Frontend,\n    },\n    data() {\n        return {\n            session: storageManager.get('session')\n        };\n    },\n    setup() {\n        const route = useRoute();\n        const routeName = route.meta.title;\n        useTitle(routeName);\n    },\n    computed: {\n        componentName() {\n            return 'Frontend';\n        }\n    }\n    };\n    </script>\n        ","<script>\nimport storageManager from '@/plugins/storage';\nimport convertUtils from \"@/plugins/convertUtils\";\nimport deviceUtils from \"@/plugins/DeviceUtils\";\n\nimport webcam from \"../Webcam.vue\";\nimport Loader from '@/interface/template/Loader.vue';\n\nimport Timer from '@/utils/Timer.vue';\n\nimport dialog from '@/plugins/Dialog.js';\nimport debug from '@/plugins/Logger.js';\n\nexport default {\n\tname: 'Lesson Assessment',\n\tcomponents: {\n    webcam,Loader,Timer\n\t},\n\tdata() {\n\t\treturn {\n        limitItem:50,\n        limitOptions: [1,5,10, 50, 100, 200, 500,600,700,800,1000, 2000, 3000], // Define the available options\n        currentPage: 1,\n        totalPages: 0,\n        totalItems: 0,\n        // Existing data properties\n        questionsPerPage: 10, // Number of questions to show per page\n        //paginatedQuestions: [], // Questions to display on the current page\n        // Other existing data properties...\n        shouldShowDiv:true,\n        activeBlock: false,\n        loader:false,\n        examState:'',\n        shuffleQuestions: true,\n        shuffleAnswers: true,\n        showWelcome: true,\n        examDuration: 0, // 1 hour\n        examTemp: {\n          answers: {},\n        },\n        videoVerified:undefined,\n        isSubmitting: false,\n        score:[],\n        enroll:[],\n        unansweredQuestions: [],\n        userIp: '0.0.0.0',\n        questions: [],\n        capturedImages: [],\n        playOption:'step',\n        login: storageManager.get('session','login'),\n        configs: storageManager.get('configs'),\n        session: storageManager.get('session'),\n        dataItem: this.$route.params.cid,\n        examItem: this.$route.params.eid,\n        examType: this.$route.params.type,\n        examRound: this.$route.params.round,\n        deviceType: deviceUtils.deviceDetect(),\n        lesson:[],\n        exam:[],\n        player:[],\n        progress:[],\n        progressArray:[],\n        param_id:\"\",\n        param_ep:\"\",\n        loading_sources: true,\n        timeout:false,\n        playerLogo:\"\",\n        playerSource:\"\",\n        playerPoster:\"\",\n        displayExam:false,\n        webcamRecord:false,\n        playerOptions: {\n        controls: [\n          \"play-large\",\n          \"current-time\",\n          \"play\",\n          \"mute\",\n          \"volume\",\n          \"progress\",\n          \"settings\",\n          \"fullscreen\"\n        ],\n        settings: [\"quality\", \"speed\", \"loop\"],\n        retestScore:null,\n        retestStatus:null,\n      }\n\t\t}\n\t},\n\tmethods: {\n    async fetchUserIP() {\n      try {\n        const response = await fetch('https://api.ipify.org?format=json');\n        if (!response.ok) throw new Error('Failed to fetch IP address');\n        const data = await response.json();\n        this.userIp = data.ip; // Update the userIp data property with the fetched IP address\n        console.log('Fetched User IP Address:', this.userIp); // Optional: for debugging\n      } catch (error) {\n        console.error('Error fetching user IP:', error);\n        // Optionally handle the error, e.g., by showing an error message to the user\n      }\n    },\n    checkResultExamDue(date) {\n      const timeZoneOffset = 7 * 60; // Thailand is GMT+7, in minutes\n      // Convert posttestDate to Date object in UTC and adjust for Thailand timezone\n      const dueDate = new Date(date);\n      const dueDateInThailand = new Date(dueDate.getUTCFullYear(), dueDate.getUTCMonth(), dueDate.getUTCDate(), dueDate.getUTCHours(), dueDate.getUTCMinutes() + timeZoneOffset);\n      \n      // Now in UTC adjusted for Thailand timezone\n      const now = new Date();\n      const nowInThailand = new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes() + timeZoneOffset);\n      \n      return nowInThailand < dueDateInThailand;\n    },\n    // This method checks if all questions on the current page have been answered\n    areAllQuestionsAnsweredOnCurrentPage() {\n      const startIndex = (this.currentPage - 1) * this.questionsPerPage;\n      const endIndex = startIndex + this.questionsPerPage;\n      const currentPageQuestions = this.questions.slice(startIndex, endIndex);\n\n      return currentPageQuestions.every(question => {\n        return this.examTemp.answers[question.number];\n      });\n    },\n    handleImageCaptured(imageDataUrl) {\n      this.capturedImages.push(imageDataUrl);\n    },\n    handleImageUploaded(imageUrl) {\n      this.capturedImages.push(imageUrl);\n      this.updateVerifiedImage()\n    },\n    async updateVerifiedImage() {\n      try {\n        // Ensure there's at least one captured image\n        if (this.capturedImages.length === 0) {\n          console.error(\"No images captured.\");\n          return;\n        }\n        // Use the last captured image URL\n\n        // Initialize capture from this.enroll if it exists, otherwise use an empty object\n        let capture = this.enroll && this.enroll.capture ? { ...this.enroll.capture } : {};\n\n        // Assuming this.capturedImages is an array of image URLs from the latest exam capture\n        if (this.exam.type === 'post') {\n            // Update or initialize the 'post' property with the latest captured images\n            if (this.retestStatus) {\n              capture.retest = {\n                urls: [...this.capturedImages] // Spread syntax to copy capturedImages array\n              };\n            } else {\n              capture.post = {\n                urls: [...this.capturedImages] // Spread syntax to copy capturedImages array\n              };\n            }\n            \n        } else if (this.exam.type === 'pre') {\n            // Update or initialize the 'pre' property with the latest captured images\n            capture.pre = {\n                urls: [...this.capturedImages] // Spread syntax to copy capturedImages array\n            };\n        }\n\n        // Update this.enroll.capture with the new or updated capture object\n        this.enroll.capture = capture;\n\n        // Prepare the requestBody with the updated capture data\n        const requestBody = {\n            data: {\n                capture: this.enroll.capture,\n            }\n        };\n\n        // Make the PUT request with the updated record\n        const { data, status } = await this.$Request.PUT(`enroll/${this.enroll._id}`, requestBody, this.configs.key);\n        console.log(data, status); // Using console.log for demonstration; adjust as needed\n\n      } catch (error) {\n        console.error(error); // Using console.error for demonstration; adjust as needed\n      }\n    },\n    goToNextPage() {\n      if (!this.areAllQuestionsAnsweredOnCurrentPage()) {\n        //alert('Please answer all questions on this page before proceeding.');\n        dialog.prompt({\n          title: 'เกิดข้อผิดพลาด',\n          message: 'คุณยังทำแบบทดสอบในหน้านี้ไม่ครบทุกข้อ !',\n          confirm: async () => {},\n          cancel: () => {}\n        });\n        return; // Exit the function if not all questions are answered\n      }\n\n      this.$refs.webcamComponent.captureImage();\n\n      const totalPages = Math.ceil(this.questions.length / this.questionsPerPage);\n      if (this.currentPage < totalPages) {\n        this.currentPage++;\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n      }\n    },\n\n    goToPreviousPage() {\n      if (!this.areAllQuestionsAnsweredOnCurrentPage()) {\n        //alert('Please answer all questions on this page before proceeding.');\n        dialog.prompt({\n          title: 'เกิดข้อผิดพลาด',\n          message: 'คุณยังทำแบบทดสอบในหน้านี้ไม่ครบทุกข้อ !',\n          confirm: async () => {},\n          cancel: () => {}\n        });\n        return; // Exit the function if not all questions are answered\n      }\n\n      this.$refs.webcamComponent.captureImage();\n\n      if (this.currentPage > 1) {\n        this.currentPage--;\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n      }\n    },\n    setPage(page) {\n      if (!this.areAllQuestionsAnsweredOnCurrentPage()) {\n        //alert('Please answer all questions on this page before proceeding.');\n        dialog.prompt({\n          title: 'เกิดข้อผิดพลาด',\n          message: 'คุณยังทำแบบทดสอบในหน้านี้ไม่ครบทุกข้อ !',\n          confirm: async () => {},\n          cancel: () => {}\n        });\n        return; // Exit the function if not all questions are answered\n      }\n      this.currentPage = page;\n      this.$refs.webcamComponent.captureImage();\n    },\n    determineInitialState() {\n      const examTemp = localStorage.getItem('examTemp');\n      if (examTemp) {\n        this.examTemp = JSON.parse(examTemp);\n      }\n      const timers = JSON.parse(sessionStorage.getItem('timers')) || [];\n      const now = new Date().getTime();\n      const hasActiveTimer = timers.some(timer => now < timer.endTime);\n      if (this.score && Object.keys(this.score).length > 0) {\n\n        if(this.retestStatus) {\n          debug.log(\"No Score\", this.score);\n          this.examState = hasActiveTimer ? 'exam' : 'welcome';\n        } else {\n          debug.log(\"Has Score\", this.score);\n          this.examState = 'result';\n          this.shouldShowDiv = false;\n        }\n      } else {\n        debug.log(\"No Score\", this.score);\n        this.examState = hasActiveTimer ? 'exam' : 'welcome';\n      }\n    },\n    startTimer() {\n      this.$refs.timerComponent.startTimer();\n    },\n    resetTimer() {\n      this.$refs.timerComponent.resetTimer();\n    },\n    handleUpdate(timer) {\n      debug.log('Timer updated:', timer);\n    },\n    handleFinish(timer) {\n      this.timeout = true;\n      this.submitExam(true);\n      debug.log('Timer finished:', timer);\n    },\n    handleTimerStatus(status) {\n      //this.examState = status === 'fresh' ? 'welcome' : 'exam';\n      debug.log('handleTimerStatus:', status);\n    },\n    preventCopyPaste(event) {\n      event.preventDefault();\n      alert(\"Copying and pasting are disabled on this page.\");\n    },\n    isOptionSelected(questionId, optionValue) {\n      if (this.examTemp.answers && this.examTemp.answers[questionId]) {\n          const selectedOptions = this.examTemp.answers[questionId].map(item => item.answer);\n          return selectedOptions.includes(optionValue);\n      }\n      return false;\n    },\n    handleWebcamRecorder(base64Data) {\n      this.videoVerified = base64Data\n      localStorage.setItem('webcamRecord', base64Data);\n      this.shouldShowDiv = false\n    },\n    shuffle(array) {\n      let currentIndex = array.length,\n        randomIndex;\n      while (currentIndex != 0) {\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex--;\n        [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];\n      }\n      return array;\n    },\n    startExam() {\n      this.showWelcome = false;\n      this.examState = 'exam';\n      this.renderExam();\n      this.$refs.webcamComponent.captureImage();\n      this.$refs.timerComponent.startTimer();\n    },\n    renderExam() {\n      if (this.shuffleQuestions) {\n        this.questions = this.shuffle(this.questions);\n      }\n      if (this.shuffleAnswers) {\n        this.questions.forEach(question => {\n          question.answers = this.shuffle(question.answers);\n        });\n      }\n    },\n    addUserData(questionNumber, answer) {\n      const timestamp = new Date().getTime();\n      this.examTemp.answers[questionNumber] = [{ answer, timestamp }];\n      localStorage.setItem('examTemp', JSON.stringify(this.examTemp));\n    },\n    calculateScore() {\n      let score = 0;\n      for (const question of this.questions) {\n        debug.log(\"question\",question);\n        const userAnswer = this.examTemp.answers[question.number];\n        debug.log(\"userAnswer\",userAnswer);\n        if (userAnswer && userAnswer[0].answer === question.correct) {\n          score++;\n        }\n      }\n      return score;\n    },\n    resetAnswers() {\n      for (const question of this.questions) {\n        this.examTemp.answers[question.number] = null;\n      }\n      localStorage.setItem('examTemp', JSON.stringify(this.examTemp));\n    },\n    async resetExam() {\n      this.examState = 'welcome';\n      this.showWelcome = true;\n      this.examTemp.answers = {};\n      try {\n        const updatedExams = await this.addQuestionsToExam(this.examItem);\n        debug.log(\"updatedExams\", updatedExams);\n        if (this.shuffleQuestions) {\n          this.questions = this.shuffle(updatedExams.questionArray);\n          this.questions.forEach(question => {\n            question.answers = this.shuffle(question.answers);\n          });\n        }\n      } catch (error) {\n        console.error(\"Error resetting the exam:\", error);\n      }\n    },\n    async submitExam() {\n\n      this.unansweredQuestions = [];\n\n      if (this.isSubmitting) return; // Prevent multiple submissions\n      this.isSubmitting = true;\n\n      const currentTime = new Date().getTime();\n      let isCompleted = true;\n      for (const question of this.questions) {\n        if (!this.examTemp.answers[question.number]) {\n          isCompleted = false;\n          break;\n        }\n      }\n\n      if (isCompleted || this.timeout) {\n        this.examTemp.submitTime = currentTime;\n        this.examTemp.remark = this.timeout ? 'timeout' : 'user';\n        this.examTemp.score = this.calculateScore();\n\n        try {\n          await this.saveScore(this.examTemp);\n          this.examState = 'result';\n          this.shouldShowDiv = false;\n          if (this.examTemp.score >= this.exam.measure || (this.examTemp.score < this.exam.measure && this.exam.is_repeat === 'yes')) {\n            debug.log(\"Pass or allowed to retake\");\n          } else {\n            debug.log(\"Fail and not allowed to retake\");\n          }\n        } catch (error) {\n          console.error(\"Error saving score:\", error);\n        }\n      } else {\n\n        // Identify unanswered questions\n        this.questions.forEach(question => {\n          if (!this.examTemp.answers[question.number]) {\n            this.unansweredQuestions.push(question.number);\n          }\n        });\n\n        //alert(`Please complete all questions before submitting. Time remaining`);\n        dialog.prompt({\n          title: 'เกิดข้อผิดพลาด',\n          message: 'คุณยังทำแบบทดสอบไม่ครบทุกข้อ !',\n          confirm: async () => {},\n          cancel: () => {}\n        });\n        this.startTimer();\n      }\n      this.isSubmitting = false;\n    },\n    async saveScore(result) {\n      try {\n        this.activeBlock = true;\n        this.$refs.webcamComponent.captureImage();\n        let type = ''\n        if (this.retestStatus) {\n          type = 'retest'\n        }\n        const resAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/score/query\", {\n          method: 'POST',\n          headers: {'Content-Type': 'application/json','client-token-key':this.configs.key},\n          body: JSON.stringify({\n            method: 'find',\n            args: [\n              {\n                $and: [\n                  { \n                    userID: this.session.userID,\n                    examID: this.examItem,\n                    courseID: this.dataItem,\n                    type: type\n                  }\n                ]\n              }\n            ]\n          })\n        });\n\n        const getScore  = await resAPI.json();\n\n        if (getScore.length === 0 || (this.exam.is_repeat === 'yes' && getScore.length > 0)) {\n          debug.log(\"No Score or Can Repeat Exam\");\n          const resAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/score/\", {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json','client-token-key':this.configs.key },\n            body: JSON.stringify({\n              data: {\n                \"userID\": this.session.userID,\n                \"examID\": this.examItem,\n                \"courseID\": this.dataItem,\n                \"score\": result.score,\n                \"remark\": result.remark,\n                \"startTime\": result.startTime,\n                \"submitTime\": result.submitTime,\n                \"answer\": result.answers,\n                \"type\": type\n              },\n              options: {}\n            })\n          });\n          const scoreReturn = await resAPI.json();\n\n          if (resAPI.status === 200) {\n\n            this.examState = 'result';\n            this.shouldShowDiv = false;\n            this.score = scoreReturn;\n            localStorage.removeItem('examTemp');\n            \n            let verified = this.enroll && this.enroll.verified ? this.enroll.verified : {};\n            let webcamRecord = localStorage.getItem('webcamRecord');\n\n            if (this.exam.type === 'post') {\n                if (this.retestStatus) {\n                  verified.retest = {\n                    status: true,\n                    url: webcamRecord\n                };\n                } else {\n                  verified.post = {\n                    status: true,\n                    url: webcamRecord\n                };\n                }\n                \n            } else if (this.exam.type === 'pre') {\n                verified.pre = {\n                    status: true,\n                    url: webcamRecord\n                };\n            }\n\n            this.enroll.verified = verified;\n\n            const requestBody = {\n                data: {\n                    verified: this.enroll.verified,\n                }\n            };\n\n            const { data, status } = await this.$Request.PUT(`enroll/${this.enroll._id}`, requestBody, this.configs.key);\n            debug.log(data,status);\n\n            localStorage.removeItem('webcamRecord');\n            this.activeBlock = false;\n\n            const enrollAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/enroll/query\", {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json','client-token-key':this.configs.key },\n              body: JSON.stringify({\n                method: 'find',\n                args: [\n                  {\n                    $and: [\n                      {\n                        courseID: this.dataItem,\n                        userID: this.session.userID,\n                      }\n                    ]\n                  }\n                ]\n              })\n            });\n            const enrollReturn = await enrollAPI.json();\n            const enrollReturnCopy = { ...enrollReturn[0] };\n\n            enrollReturnCopy.analytics = {\n              ...enrollReturnCopy.analytics\n            };\n\n            if (this.exam.type === 'post') {\n              if (this.retestStatus) {\n                enrollReturnCopy.analytics.retest = {\n                req: true,\n                has: true,\n                measure: this.exam.measure,\n                score: this.score.score,\n                result: this.score.score >= this.exam.measure,\n                message: this.score.score >= this.exam.measure ? 'ผ่านการรับรอง' : 'ไม่ผ่านการรับรอง',\n              };\n              } else {\n                enrollReturnCopy.analytics.post = {\n                req: true,\n                has: true,\n                verified:'xxx',\n                measure: this.exam.measure,\n                score: this.score.score,\n                result: this.score.score >= this.exam.measure,\n                message: this.score.score >= this.exam.measure ? 'ผ่านการรับรอง' : 'ไม่ผ่านการรับรอง',\n              };\n              }\n              \n            } else if (this.exam.type === 'pre') {\n              enrollReturnCopy.analytics.pre = {\n                req: true,\n                has: true,\n                verified:'xxx',\n                measure: this.exam.measure,\n                score: this.score.score,\n                result: this.score.score >= this.exam.measure,\n                message: this.score.score >= this.exam.measure ? 'ผ่านการรับรอง' : 'ไม่ผ่านการรับรอง',\n              };\n            }\n\n            const enrollId = enrollReturn[0]._id;\n            const apiUrl = `https://gateway.cloudrestfulapi.com/api/enroll/${enrollId}`;\n            const requestData = {\n              data: {\n                analytics: enrollReturnCopy.analytics,\n              },\n              options: {},\n            };\n\n            // Send the PUT request\n            const enroll2API = await fetch(apiUrl, {\n              method: \"PUT\",\n              headers: { \"Content-Type\": \"application/json\",'client-token-key':this.configs.key },\n              body: JSON.stringify(requestData),\n            });\n            await enroll2API.json();\n            this.$refs.timerComponent.resetTimer();\n          }\n        } else {\n          debug.log(\"Has Score || Can't Repeat Exam\");\n        }\n      } catch (error) {\n        debug.log(error);\n      }\n    },\n    formatSeconds(seconds) {\n      return convertUtils.secondsToTime(seconds);\n    },\n    formatThaidate(date) {\n      return convertUtils.toThaiDatetime(date);\n    },\n    detectDevice() {\n      return deviceUtils.deviceDetect();\n    },\n    async getData() {\n      try {\n        this.loader = false\n        this.loading_sources  = false;\n        const resAPI  = await fetch(\"https://gateway.cloudrestfulapi.com/api/course/\" + this.dataItem, {\n          method: 'GET',\n          headers: {'Content-Type': 'application/json','client-token-key':this.configs.key},\n        });\n        const RestReturn   = await resAPI.json();\n\n        localStorage.removeItem('webcamRecord');\n\n        if(resAPI.status===200) {\n            this.lesson = RestReturn;\n            const resExam  = await fetch(\"https://gateway.cloudrestfulapi.com/api/exam/\" + this.examItem, {\n                method: 'GET',\n                headers: {'Content-Type': 'application/json','client-token-key':this.configs.key},\n            });\n\n            const examReturn   = await resExam.json();\n\n            console.log(\"examReturn\",examReturn);\n\n            this.exam         = examReturn;\n            this.examDuration = examReturn.timer;\n\n            const enrollAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/enroll/query\", {\n              method: 'POST',\n              headers: {'Content-Type': 'application/json','client-token-key':this.configs.key},\n              body: JSON.stringify({\n                method: 'find',\n                args: [\n                  {\n                    $and: [\n                      { \n                        userID: this.session.userID,\n                        courseID: this.dataItem\n                      }\n                    ]\n                  }\n                ]\n              })\n            });\n\n            const enroll = await enrollAPI.json();\n            this.enroll = enroll[0];\n\n            console.log(\"enroll\",this.enroll);\n\n            const formAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/form/query\", {\n              method: 'POST',\n              headers: {'Content-Type': 'application/json','client-token-key':this.configs.key},\n              body: JSON.stringify({\n                method: 'find',\n                args: [\n                  {\n                    $and: [\n                      { \n                        userID: this.session.userID,\n                        courseID: this.dataItem\n                      }\n                    ]\n                  }\n                ]\n              })\n            });\n\n            const form = await formAPI.json();\n\n            this.form = form[0];\n            console.log(\"form\",this.form);\n\n            if(this.exam.verified==='yes') {\n              if (this.enroll && this.enroll.verified) {\n                debug.log(\"che k verified\",this.enroll,this.enroll.verified);\n                  if (this.exam.type === 'post' && this.enroll.verified.post && this.enroll.verified.post.url) {\n                    this.videoVerified = this.enroll.verified.post.url;\n                    this.shouldShowDiv = false\n                    debug.log(\"post\",this.videoVerified);\n                  } else if (this.exam.type === 'pre' && this.enroll.verified.pre && this.enroll.verified.pre.url) {\n                    this.videoVerified = this.enroll.verified.pre.url;\n                    this.shouldShowDiv = false\n                    debug.log(\"pre\",this.videoVerified);\n                  } else {\n                      this.videoVerified = false;\n                      this.shouldShowDiv = true\n                  }\n              } else {\n                  this.videoVerified = false;\n                  this.shouldShowDiv = true\n              }\n            } else {\n              this.videoVerified = false;\n              this.shouldShowDiv = false\n            }\n\n            //console.log(\"DEBUG\",\"1\");\n            \n            //console.log(\"end_duedate\",this.exam.end_duedate);\n            //console.log(this.checkResultExamDue(this.exam.end_duedate));\n\n            if(this.checkResultExamDue(this.exam.end_duedate)===true) {\n              this.displayExam = true;\n            } else {\n              this.displayExam = false;\n            }\n\n            localStorage.setItem('webcamRecord', this.videoVerified);\n            debug.log(\"videoVerified\",this.videoVerified);\n\n            //console.log(\"DEBUG\",\"2\");\n\n            //console.log(\"Round\",this.form.formData['radiobox-23-10-10'].value.value);\n\n\n            // check for DOA Exam\n            // ==================\n            \n            if(this.form && this.form.formData['radiobox-23-10-10'].value.value === 'round-1') {\n              if (this.enroll.analytics.post && this.enroll.analytics.post.score) {\n                if(this.enroll?.analytics?.post?.score > 33) {\n                  this.$router.push(\"/user/profile\");\n                  return;\n                }\n              }\n            }\n\n            if(this.form && this.form.formData['radiobox-23-10-10'].value.value === 'round-2') {\n              if (this.enroll.analytics.post && this.enroll.analytics.post.score) {\n                if(this.enroll?.analytics?.post?.score > 33) {\n                  this.$router.push(\"/user/profile\");\n                  return;\n                }\n              }\n            }\n            // ==================\n            // check for DOA Exam\n            \n            /*\n            \n            \n            if (this.exam.type === 'post' && !this.checkResultExamDue(this.exam.end_duedate)) {\n              this.$router.push(\"/user/profile\");\n              return;\n            }\n\n            */\n\n            //console.log(\"DEBUG\",\"3\");\n\n            const resAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/score/query\", {\n              method: 'POST',\n              headers: {'Content-Type': 'application/json','client-token-key':this.configs.key},\n              body: JSON.stringify({\n                method: 'find',\n                args: [\n                  {\n                    $and: [\n                      { \n                        userID: this.session.userID,\n                        examID: this.examItem,\n                        courseID: this.dataItem\n                      }\n                    ]\n                  }\n                ]\n              })\n            });\n\n            const score = await resAPI.json();\n\n            console.log(\"DEBUG\",\"4\");\n\n            ///////////////// RETEST LOGIC \n\n            if(this.examType ==='retest') {\n\n              console.log(\"DEBUG\",\"5\");\n\n              const analytics = this.enroll.analytics;\n              const postScore = analytics?.post?.score || 0;\n              const postMeasure = analytics?.post?.measure || 33;\n              let postResult = false;\n              let retestScore = 0;\n\n              let retestOpen = null\n              let retestClose = null\n              \n              if (this.examRound ==='1') {\n                console.log(\"DEBUG\",\"6\");\n                retestOpen = this.lesson.retestDateRound1\n                retestClose = this.lesson.retestDateEndDateRound1\n              } else {\n                retestOpen = this.lesson.retestDateRound2\n                retestClose = this.lesson.retestDateEndDateRound2\n              }\n\n              \n              \n              if (postScore < postMeasure) {\n                postResult = false;\n                retestScore = typeof analytics.retest?.score === 'number' ? analytics.retest.score : false;\n                if(this.checkResultExamDue(retestOpen)===false && this.checkResultExamDue(retestClose)) {\n                  debug.slack(\"กำลังสอบซ่อม\");\n                } else {\n                  debug.slack(\"ไมไ่ด้เปิดสอบซ่อม\");\n                }\n                debug.slack(\"*retestOpen*\",this.checkResultExamDue(retestOpen));\n                debug.slack(\"*retestClose*\",this.checkResultExamDue(retestClose));\n              } else {\n                postResult = true;\n              }\n              this.retestScore = retestScore\n              this.retestStatus = typeof retestScore !== 'number';\n              debug.slack(\"Post score\",postScore);\n              debug.slack(\"Post measure\",postMeasure);\n              debug.slack(\"Post result\",postResult);\n              debug.slack(\"Retest Score\",retestScore);\n\n              if (this.exam.type === 'post' && this.enroll.verified.retest && this.enroll.verified.retest.url) {\n                  this.videoVerified = this.enroll.verified.post.url;\n                  this.shouldShowDiv = false\n                  debug.log(\"post\",this.videoVerified);\n                } else {\n                  this.videoVerified = false;\n                  this.shouldShowDiv = true\n                }\n\n\n              //debug.slack(\"enroll\",this.enroll.analytics);\n            } else {\n              this.retestStatus = false\n            }\n\n            ///////////////////////////////////////////////////////\n\n            if (resAPI.status === 200) {\n              if (score.length > 0) {\n                //this.examState = 'result';\n                this.score = score[score.length - 1];\n                this.loader = true\n        \n                this.determineInitialState();\n\n              } else {\n\n                if (this.examTemp.answers) {\n                  const updatedExams = await this.addQuestionsToExam(examReturn._id);\n                  debug.log(\"updatedExams\", updatedExams);\n                  this.renderExam();\n                  this.loader = true\n                } else {\n                  //this.examState = 'welcome';\n                  const updatedExams = await this.addQuestionsToExam(examReturn._id);\n                  this.loader = true\n                  debug.log(\"updatedExams\", updatedExams);\n                }\n                this.determineInitialState();\n              }\n\n              if(this.retestStatus) {\n                if (this.examTemp.answers) {\n                  const updatedExams = await this.addQuestionsToExam(examReturn._id);\n                  debug.log(\"updatedExams\", updatedExams);\n                  this.renderExam();\n                  this.loader = true\n                } else {\n                  //this.examState = 'welcome';\n                  const updatedExams = await this.addQuestionsToExam(examReturn._id);\n                  this.loader = true\n                  debug.log(\"updatedExams\", updatedExams);\n                }\n                this.determineInitialState();\n              }\n            }\n        }\n      } catch (error) {\n        debug.log(error)\n      }\n    },\n    async addQuestionsToExam(examId) {\n      const pipeline = [\n        {\n          $match: {\n            $and: [{ examID: examId }]\n          },\n        },\n        {\n          $lookup: {\n            from: \"answer\",\n            let: { questionId: { $toString: \"$_id\" } },\n            pipeline: [\n              {\n                $match: {\n                  $expr: {\n                      $eq: [\"$$questionId\", \"$questionID\"]\n                  }\n                }\n              },\n            ],\n            as: \"answers\"\n          }\n        },\n        {\n          $facet: {\n              post: [\n                {\n                    $skip: (this.currentPage - 1) * this.limitItem,\n                },\n                {\n                    $limit: this.limitItem,\n                },\n              ],\n              totalCount: [\n                {\n                    $count: 'count',\n                },\n              ],\n          },\n        },\n      ];\n\n      const requestBody = {\n        pipeline: pipeline,\n      };\n\n      const { data, status } = await this.$Request.POST(`questions/aggregate`, requestBody, this.configs.key);\n\n      if(status===200) {\n        this.questions = this.convertQuestionsData(data);\n      }\n    },\n    convertQuestionsData(data) {\n      const convertedData = data.flatMap(item => {\n        return item.post.map(postItem => {\n          const { _id: number, detail: text, correct, answers } = postItem;\n          const convertedAnswers = answers.map(answer => ({\n            value: answer._id,\n            label: answer.detail\n          }));\n\n          return {\n            number,\n            text,\n            correct,\n            answers: convertedAnswers\n          };\n        });\n      });\n      return convertedData;\n    },\n    cancelExam() {\n      dialog.confirm({\n          title: 'กรุณายืนยันการยกเลิกการสอบ?',\n          message: 'ข้อมูลการสอบในตอนนี้ จะถูกยกเลิก เวลาจะจับใหม่ ข้อสอบจะถูกประมวลผลใหม่',\n          confirm: async () => {\n            this.examState = 'welcome';\n            this.showWelcome = true;\n            debug.log(\"cancelExam\");\n\n            this.examTemp = {\n              answers: {},\n            };\n            this.$refs.timerComponent.resetTimer();\n            localStorage.removeItem('examTemp');\n          },\n          cancel: () => {}\n      });\n    },\n\t},\n  created() {\n    //this.initializeComponent();\n  },\n  computed: {\n    paginatedQuestions() {\n      const start = (this.currentPage - 1) * this.questionsPerPage;\n      const end = start + this.questionsPerPage;\n      return this.questions.slice(start, end);\n    },\n    answeredQuestionsCount() {\n      let answeredCount = 0;\n      this.questions.forEach(question => {\n        if(this.examTemp.answers[question.number]) {\n          answeredCount++;\n        }\n      });\n      return { answered: answeredCount, total: this.questions.length };\n    },\n  },\n  async mounted() {\n  try {\n    // Check if user is not logged in\n    if (!this.login) {\n      this.$router.push(\"/\");\n      return; // Stop further execution\n    }\n    this.fetchUserIP();\n    document.addEventListener('copy', this.preventCopyPaste);\n    document.addEventListener('paste', this.preventCopyPaste);\n    await this.getData();\n    //this.examDuration = this.examDuration * 60;\n  } catch (error) {\n    debug.log(error);\n  }\n},\n  setup() {},\n  watch: {\n    '$route.params.cid': {\n      deep: true,\n      immediate: true,\n      handler() {\n        //debug.log(\"watch\");\n      }\n    }\n  },\n};\n</script>\n\n<template>\n\n<div v-if=\"!loader\" class=\"text-center\"><Loader/></div>\n<div class=\"bg-gray-100 noselect relative\" v-if=\"loader\" :data-content=\"'กำลังติดต่อฐานข้อมูล กรุณารอสักครู่.....'\" :class=\"[(activeBlock?'isblock' : 'isunblock')]\">\n  <div class=\"hidden lg:block mx-auto max-w-2xl px-4 pt-3 pb-4 sm:px-18 sm:pt-3 sm:pb-4 lg:grid lg:max-w-7xl lg:grid-cols-2 lg:gap-x-4\">\n      <div class=\"lg:flex lg:items-center lg:justify-between\">\n          <div class=\"min-w-0 flex-1\">\n              <nav class=\"flex\" aria-label=\"Breadcrumb\">\n                  <ol role=\"list\" class=\"flex items-center space-x-4\">\n                    <li>\n                      <div>\n                        <router-link :to=\"'/'\" class=\"text-gray-400 hover:text-gray-500\">\n                          <svg class=\"h-5 w-5 flex-shrink-0\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\n                              <path fill-rule=\"evenodd\" d=\"M9.293 2.293a1 1 0 011.414 0l7 7A1 1 0 0117 11h-1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-3a1 1 0 00-1-1H9a1 1 0 00-1 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-6H3a1 1 0 01-.707-1.707l7-7z\" clip-rule=\"evenodd\" />\n                            </svg>\n                            <span class=\"sr-only\">Home</span>\n                        </router-link>\n                      </div>\n                    </li>\n                \n                    <li>\n                      <div class=\"flex items-center\">\n                        <svg class=\"h-5 w-5 flex-shrink-0 text-gray-300\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                          <path d=\"M5.555 17.776l8-16 .894.448-8 16-.894-.448z\" />\n                        </svg>\n                        <router-link :to=\"session.mode === 'bypass' ? '/user/employee' : '/lesson/home'\" class=\"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700\">หลักสูตร</router-link>\n                      </div>\n                    </li>\n                \n                    <li>\n                      <div class=\"flex items-center\">\n                        <svg class=\"h-5 w-5 flex-shrink-0 text-gray-300\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                          <path d=\"M5.555 17.776l8-16 .894.448-8 16-.894-.448z\" />\n                        </svg>\n                        <router-link :to=\"'/lesson/detail/' + lesson._id\" class=\"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700 max-w-xs truncate min-w-xs\">{{this.lesson.name}}</router-link>\n                      </div>\n                    </li>\n                    <li>\n                      <div class=\"flex items-center\">\n                        <svg class=\"h-5 w-5 flex-shrink-0 text-gray-300\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                          <path d=\"M5.555 17.776l8-16 .894.448-8 16-.894-.448z\" />\n                        </svg>\n                        <span class=\"ml-4 text-sm font-bold text-gray-600 hover:text-gray-700  max-w-xs truncate min-w-xs\">{{this.exam.name}}</span>\n                      </div>\n                    </li>\n                  </ol>\n              </nav>\n          </div>\n      </div>\n  </div>\n\n  <div>\n    <timer ref=\"timerComponent\" \n    :mode=\"'blank'\"\n    :timer=\"60\"\n    @timer-status=\"handleTimerStatus\"\n    @update-timer=\"handleUpdate\" \n    @timer-finished=\"handleFinish\"/>\n\n    <section aria-labelledby=\"details-heading\" class=\"p-6 bg-white mb-5\" :style=\"{ display: shouldShowDiv ? 'block' : 'none' }\">\n      <webcam ref=\"webcamComponent\" \n      @webcam-recorder=\"handleWebcamRecorder\" \n      @imageCaptured=\"handleImageCaptured\"\n      @imageUploaded=\"handleImageUploaded\"\n      />\n    </section>\n            \n    <template v-if=\"this.examState === 'welcome'\">\n\n      <div class=\"bg-gray-900\">\n        <div class=\"mx-auto max-w-2xl pt-5 mb-5 sm:px-2 sm:pt-8 sm:pb-8 lg:px-8\">\n          <section aria-labelledby=\"details-heading\" class=\"mb-5\">\n            <div class=\"flex flex-col items-center text-center\">\n                <h2 id=\"details-heading\" class=\"text-2xl font-bold tracking-tight text-white sm:text-2xl\">{{this.lesson.name}}</h2>\n                <p class=\"mt-3 max-w-3xl text-lg text-white\">{{this.exam.name}}</p>\n            </div>\n          </section>\n\n          <template v-if=\"exam.verified === 'yes'\">\n            \n            <!-- <span class=\"bg-white p-3\">{{ videoVerified }}</span> -->\n\n            <template v-if=\"!videoVerified\">\n              \n              <section aria-labelledby=\"details-heading\" class=\"p-6 bg-white mb-5\">\n                <h3 class=\"font-bold text-lg mb-4\">การยืนยันตัวก่อนสอบ</h3>\n                <ol class=\"list-decimal ml-6 pb-3\">\n                  <li>กดปุ่มเปิดกล้องและอนุญาติให้เว็บไซต์ทำการใช้งานกล้องได้</li>\n                  <li>คลิกที่ปุ่ม \"บันทึก\" เพื่อเริ่มต้นการบันทึกข้อมูล</li>\n                  <li>อ่านตัวหนังสือบนหน้าจอ</li>\n                  <li>หลังจากผ่านไป 5 วินาทีวีดีโอจะถูกบันทึกโดยอัตโนมัติ</li>\n                  <li>จะมีการสุ่มบันทึกภาพระหว่างการสอบ</li>\n                </ol>\n                \n              </section>\n              \n            </template>\n\n            <template v-if=\"videoVerified\">\n\n              <section aria-labelledby=\"details-heading\" class=\"p-6 bg-white mb-5\">\n                <h3 class=\"font-bold text-lg mb-4\">Instructions</h3>\n                <ol class=\"list-decimal ml-6\">\n                  <li>แบบทดสอบก่อนเรียน ข้อสอบทั้งหมด <strong>{{this.exam.total}}</strong> ข้อ เวลาในการทำ <strong>{{this.exam.timer}}</strong> นาที</li>\n                  <li v-if=\"this.exam.is_score !== 'no'\">เกณฑ์ในการผ่านการประเมิน <strong>{{this.exam.measure}}</strong> คะแนน</li>\n                  <li>คลิกที่ปุ่ม \"เริ่มการสอบ\" เพื่อเริ่มต้นการสอบ</li>\n                  <li>คุณจะมีเวลาจำกัดในการทำข้อสอบ ตัวจับเวลาจะปรากฏที่ด้านบนของหน้าจอ</li>\n                  <li>ตอบคำถามทั้งหมดให้ดีที่สุดที่คุณสามารถทำได้</li>\n                  <li>คุณสามารถส่งคำตอบของคุณได้เพียงครั้งเดียว เช็คคำตอบของคุณอีกครั้งก่อนส่ง</li>\n                </ol>\n                <h3 class=\"font-bold text-lg mt-8 mb-4\">Rules</h3>\n                <ul class=\"list-disc ml-6\">\n                  <li>Do not use any external resources or communication during the exam.</li>\n                  <li>Do not share the exam questions or answers with anyone.</li>\n                  <li>Do not use any prohibited devices during the exam.</li>\n                  <li>Any attempt to cheat or violate the rules will result in immediate disqualification.</li>\n                </ul>\n                <div class=\"text-center\">\n                  <router-link :to=\"'/lesson/detail/' + lesson._id\" class=\"mt-8 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2\">ไปที่หลักสูตร</router-link>\n                  <button class=\"mt-8 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\" @click=\"startExam\">เริ่มการสอบ</button>\n                </div>\n              </section>\n\n            </template>\n\n          </template>\n\n          <template v-else>\n\n            <section aria-labelledby=\"details-heading\" class=\"p-6 bg-white mb-5\">\n              <h3 class=\"font-bold text-lg mb-4\">Instructions</h3>\n              <ol class=\"list-decimal ml-6\">\n                <li>แบบทดสอบก่อนเรียน ข้อสอบทั้งหมด <strong>{{this.exam.total}}</strong> ข้อ เวลาในการทำ <strong>{{this.exam.timer}}</strong> นาที</li>\n                <li v-if=\"this.exam.is_score !== 'no'\">เกณฑ์ในการผ่านการประเมิน <strong>{{this.exam.measure}}</strong> คะแนน</li>\n                <li>คลิกที่ปุ่ม \"เริ่มการสอบ\" เพื่อเริ่มต้นการสอบ</li>\n                <li>คุณจะมีเวลาจำกัดในการทำข้อสอบ ตัวจับเวลาจะปรากฏที่ด้านบนของหน้าจอ</li>\n                <li>ตอบคำถามทั้งหมดให้ดีที่สุดที่คุณสามารถทำได้</li>\n                <li>คุณสามารถส่งคำตอบของคุณได้เพียงครั้งเดียว เช็คคำตอบของคุณอีกครั้งก่อนส่ง</li>\n              </ol>\n              <h3 class=\"font-bold text-lg mt-8 mb-4\">Rules</h3>\n              <ul class=\"list-disc ml-6\">\n                <li>Do not use any external resources or communication during the exam.</li>\n                <li>Do not share the exam questions or answers with anyone.</li>\n                <li>Do not use any prohibited devices during the exam.</li>\n                <li>Any attempt to cheat or violate the rules will result in immediate disqualification.</li>\n              </ul>\n              <div class=\"text-center\">\n                <router-link :to=\"'/lesson/detail/' + lesson._id\" class=\"mt-8 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2\">ไปที่หลักสูตร</router-link>\n                <button class=\"mt-8 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\" @click=\"startExam\">เริ่มการสอบ</button>\n              </div>\n            </section>\n\n          </template>\n\n        </div>\n      </div>\n\n    </template>\n    \n    <template v-if=\"this.examState === 'exam'\">\n\n      <div class=\"bg-gray-900\">\n\n        <div class=\"mx-auto max-w-2xl pt-5 mb-5 sm:px-2 sm:pt-8 sm:pb-8 lg:max-w-4xl lg:px-8\">\n            <section aria-labelledby=\"details-heading\" class=\"mb-5\">\n              <div class=\"flex flex-col items-center text-center\">\n                <h2 id=\"details-heading\" class=\"text-2xl font-bold tracking-tight text-white sm:text-2xl\">{{this.lesson.name}}</h2>\n                <p class=\"mt-3 max-w-3xl text-lg text-white\">{{this.exam.name}}</p>\n              </div>\n            </section>\n\n            <div class=\" grid grid-cols-1 gap-6\">\n\n\n              <div v-for=\"(question, index) in paginatedQuestions\" :key=\"question.number\" \n              :class=\"{ 'unanswered-border': unansweredQuestions.includes(question.number) }\" class=\"relative bg-white shadow-md\">\n                <div class=\"question px-6 py-4 border-b border-gray-500\">\n                  <h3 class=\"font-semibold mb-4\">{{ 'โจทย์ ' + (((currentPage - 1) * questionsPerPage) + index + 1) }}</h3>\n                  <div v-html=\"question.text\"></div>\n                </div>\n\n                <div class=\"answer bg-gray-100\">\n                  <form>\n                    <div class=\"\">\n                      <label v-for=\"option in question.answers\" :key=\"option.value\" class=\"block p-4 border-b border-gray-300 hover:bg-gray-200 cursor-pointer\">\n                        <input type=\"radio\" :name=\"question.number\" :value=\"option.value\" @click=\"addUserData(question.number, option.value)\" :checked=\"isOptionSelected(question.number, option.value)\">\n                        <span class=\"ml-2\">{{ option.label }}</span> \n                        <span v-if=\"this.exam.adminmode === 'yes' && question.correct===option.value\">\n                          <font-awesome-icon icon=\"check-circle\" class=\"text-green-500 ml-2\" />\n                        </span>\n                      </label>\n                    </div>\n                  </form>\n                </div>\n\n                <div class=\"absolute top-0 left-0 w-full h-full flex justify-center items-center pointer-events-none\">\n                    <div class=\"text-center opacity-20 transform rotate-25 text-3xl\">\n                        <span class=\"font-bold\">Licensed to : </span> <br/> \n                        {{ session.user.firstname + \" \" + session.user.lastname}} ({{ userIp }}) <br/> {{ currentDateTime }}\n                    </div>\n                </div>\n              </div>\n              \n              <!-- Pagination Controls -->\n              <div class=\"flex justify-center space-x-4 mb-5\">\n                <button\n                  @click=\"goToPreviousPage\"\n                  :disabled=\"currentPage === 1\"\n                  class=\"text-white\"\n                >\n                  ย้อนกลับ\n                </button>\n                <!-- Dynamically create page numbers based on total questions -->\n                <button\n                  v-for=\"page in Math.ceil(questions.length / questionsPerPage)\"\n                  :key=\"page\"\n                  @click=\"setPage(page)\"\n                  :class=\"page === currentPage ? 'bg-white text-black' : 'text-white'\"\n                  class=\"rounded-xs hover:bg-gray-200 hover:text-gray-600 px-2\"\n                >\n                  {{ page }}\n                </button>\n                <button\n                  @click=\"goToNextPage\"\n                  :disabled=\"currentPage === Math.ceil(questions.length / questionsPerPage)\"\n                  class=\"text-white\"\n                >\n                  ถัดไป\n                </button>\n              </div>\n\n                <!-- <div v-for=\"(question, index) in questions\" :key=\"question.number\" class=\"relative bg-white shadow-md\">\n\n                  <div class=\"question px-6 py-4 border-b border-gray-500\">\n                    <h3 class=\"font-semibold mb-4\">{{ 'โจทย์ ' + (index + 1) }}</h3>\n                    <div v-html=\"question.text\"></div>\n                  </div>\n\n                  <div class=\"answer bg-gray-100\">\n                    <form>\n                      <div class=\"\">\n                        <label v-for=\"option in question.answers\" :key=\"option.value\" class=\"block p-4 border-b border-gray-300 hover:bg-gray-200 cursor-pointer\">\n                          <input type=\"radio\" :name=\"question.number\" :value=\"option.value\" @click=\"addUserData(question.number, option.value)\" :checked=\"isOptionSelected(question.number, option.value)\">\n                          <span class=\"ml-2\">{{ option.label }}</span> \n                          <span v-if=\"this.exam.adminmode === 'yes' && question.correct===option.value\">\n                            <font-awesome-icon icon=\"check-circle\" class=\"text-green-500 ml-2\" />\n                          </span>\n                        </label>\n                      </div>\n                    </form>\n                  </div>\n\n                  <div class=\"absolute top-0 left-0 w-full h-full flex justify-center items-center pointer-events-none\">\n                      <div class=\"text-center opacity-20 transform rotate-25 text-lg\">\n                          <span class=\"font-bold\">Licensed to : </span> <br/> \n                          {{ session.user.firstname + \" \" + session.user.lastname}} ({{ userIp }}) <br/> {{ currentDateTime }}\n                      </div>\n                  </div>\n              \n                </div> -->\n\n              \n            </div>\n              \n        </div>\n      </div>\n\n      <div class=\"bg-gray-100 py-6\">\n        \n        <div class=\"mx-auto max-w-4xl grid grid-cols-1 sm:grid-cols-3 gap-4 sm:px-6 lg:px-8\">\n  \n            <div class=\"bg-white shadow-md rounded-lg p-6 sm:col-span-1\">\n                <section aria-labelledby=\"details-heading\">\n                    <div class=\"flex flex-col items-center text-center\">\n                      <div class=\"text-center mb-3\">\n                        <span>ความคืบหน้า {{ answeredQuestionsCount.answered }} / {{ answeredQuestionsCount.total }}</span>\n                      </div>\n                      <h2 id=\"details-heading\" class=\"text-2xl font-bold tracking-tight text-gray-900 sm:text-4xl\">\n                        <timer \n                        ref=\"timerComponent\" \n                        :mode=\"'display'\"\n                        :timer=\"examDuration\"\n                        @timer-status=\"handleTimerStatus\"\n                        @update-timer=\"handleUpdate\" \n                        @timer-finished=\"handleFinish\"/>\n                      </h2>\n                      <p class=\"mt-3 max-w-3xl text-lg text-gray-600\">เวลาทำข้อสอบคงเหลือ</p>\n                      \n                    </div>\n                </section>\n            </div>\n    \n            <div class=\"bg-white shadow-md rounded-lg p-6 sm:col-span-2\">\n                <section aria-labelledby=\"details-heading\">\n                    <div class=\"flex flex-col items-center text-center\">\n                      <h2 id=\"details-heading\" class=\"text-2xl font-bold tracking-tight text-gray-900 sm:text-2xl\">{{this.exam.name}}</h2>\n                      <p class=\"mt-3 max-w-3xl text-lg text-gray-600\">อ่านและทำแบบทดสอบให้ครบทุกข้อก่อนส่งคำตอบ</p>\n                    </div>\n    \n                    <div class=\"flex flex-col sm:flex-row justify-center items-center mt-8 space-y-4 sm:space-y-0 sm:space-x-4\">\n                      <button type=\"button\" class=\"bg-green-500 hover:bg-green-600 px-6 py-3 rounded-md text-white font-semibold\" @click=\"submitExam\">ส่งคำตอบ</button>\n                      <button type=\"button\" class=\"bg-red-500 hover:bg-red-600 px-6 py-3 rounded-md text-white font-semibold\" @click=\"cancelExam\">ยกเลิกการสอบ</button>\n                    </div>\n    \n                </section>\n            </div>\n      \n          </div>\n      </div>\n\n    </template>\n    \n    <template v-if=\"this.examState === 'result'\">\n\n      <div class=\"bg-gray-900\">\n        <div class=\"mx-auto max-w-2xl pt-5 mb-5 sm:px-2 sm:pt-8 sm:pb-8 lg:px-8\">\n\n          <section aria-labelledby=\"details-heading\" class=\"mb-5\">\n            <div class=\"flex flex-col items-center text-center\">\n              <h2 id=\"details-heading\" class=\"text-2xl font-bold tracking-tight text-white sm:text-2xl\">{{ this.lesson.name }}</h2>\n              <p class=\"mt-3 max-w-3xl text-lg text-white\">{{ this.exam.name }}</p>\n            </div>\n          </section>\n\n          <section aria-labelledby=\"details-heading\" class=\"p-6 bg-white mb-5\">\n            <div class=\"text-center pb-5\">\n              <h2 id=\"details-heading\" class=\"text-2xl font-bold text-gray-900 mb-5\">ผลการทำแบบทดสอบ</h2>\n              <p class=\"text-sm text-gray-900\">คุณทำแบบทดสอบเรียบร้อยแล้ว.ตรวจสอบผลการประเมินได้จากข้อมูลด้านล่าง</p>\n            </div>\n\n              <template v-if=\"!checkResultExamDue(this.exam.result_duedate) || this.exam.result === 'now'\">\n\n                <div :class=\"this.exam.is_score === 'no' ? 'grid grid-cols-1 gap-4 border-t border-gray-200 pt-5 border-b border-gray-200 pb-5 text-center' : 'grid grid-cols-2 gap-4 border-t border-gray-200 pt-5 border-b border-gray-200 pb-5'\">\n                  <div class=\"\">\n                    <h3 class=\"font-bold text-lg\">คะแนน:</h3>\n                    <p class=\"text-3xl\">{{ this.score.score }}/{{ this.exam.total }}</p>\n                  </div>\n                  <div v-if=\"this.exam.is_score==='yes'\">\n                    <h3 class=\"font-bold text-lg\">ผลลัพธ์:</h3>\n                    <p class=\"text-lg\">\n                      <font-awesome-icon v-if=\"this.score.score >=  this.exam.measure\" icon=\"check-circle\" class=\"text-green-500\" />\n                      <font-awesome-icon v-else icon=\"times-circle\" class=\"text-red-500\" />\n                      {{ this.score.score >=  this.exam.measure ? 'ผ่านการรับรอง' : 'ไม่ผ่านการรับรอง' }}\n                    </p>\n                  </div>\n                </div>\n\n              </template>\n\n              <template v-else>\n\n                <div :class=\"this.exam.is_score === 'no' ? 'grid grid-cols-1 gap-4 border-t border-gray-200 pt-5 border-b border-gray-200 pb-5 text-center' : 'grid grid-cols-1 gap-4 border-t border-gray-200 pt-5 border-b border-gray-200 pb-5'\">\n                  <div class=\"\">\n                    <h3 class=\"font-bold text-lg\">ยังไม่ได้ประกาศผลการทดสอบ:</h3>\n                    <p class=\"text-3xl\">ประกาศผลวันที่</p>\n                  </div>\n                  <div v-if=\"this.exam.is_score==='yes'\">\n                    <h3 class=\"font-bold text-lg\"></h3>\n                    <p class=\"text-lg\">{{formatThaidate(this.exam.result_duedate)}}</p>\n                  </div>\n                </div>\n\n              </template>\n\n              <p v-if=\"this.exam.type==='pre'\" class=\"pt-5 text-sm text-gray-900\">Note: คะแนนในแบบทดสอบนี้ไม่มีผลกับการออกใบรับรองผลการเรียน.</p>\n\n            <div class=\"text-center mt-8\">\n              <router-link :to=\"'/lesson/detail/' + lesson._id\" class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">กลับสู่บทเรียน</router-link>\n              <button v-if=\"this.exam.is_repeat === 'yes' && this.score.score < this.exam.measure\" class=\"ml-2 bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded\" @click=\"resetExam\">ทดสอบใหม่</button>\n            </div>\n\n          </section>\n\n        </div>\n      </div>\n      \n    </template>\n\n  </div>\n\n</div>\n\n<!-- Section to display captured images -->\n<!-- <div class=\"captured-images-container\">\n  <img v-for=\"(image, index) in capturedImages\" :src=\"image\" :key=\"index\" alt=\"Captured image\" class=\"captured-image\"/>\n</div> -->\n</template>\n\n<style>\n\n\n.captured-images-container {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  justify-content: center;\n  margin-top: 20px;\n}\n\n.captured-image {\n  width: 100px; /* Adjust size as needed */\n  height: 100px;\n  object-fit: cover;\n}\n\n\n.playing-icon {\n    animation: fade-in-out 1s infinite;\n  }\n  \n  @keyframes fade-in-out {\n    0% {\n      opacity: 0;\n      transform: scale(0.8);\n    }\n    50% {\n      opacity: 1;\n      transform: scale(1);\n    }\n    100% {\n      opacity: 0;\n      transform: scale(0.8);\n    }\n  }\n\n\n  a.block {\n    position: relative;\n  }\n  \n  a.block::before {\n    content: \"\";\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 20px;\n    height: 20px;\n  }\n  \n  a.block::before.not-available {\n    content: \"Not Available\";\n    font-size: 14px;\n    text-align: center;\n    background-color: #ccc;\n    color: #fff;\n    padding: 4px;\n    border-radius: 4px;\n  }\n  \n  a.block::before.play {\n    content: \"►\";\n    font-size: 20px;\n    color: #000;\n  }\n\n  .watermark {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center; /* Center horizontally */\n    align-items: center; /* Center vertically */\n    pointer-events: none;\n}\n\n.text {\n  text-align: center;\n  opacity: 0.2;\n  transform: rotate(25deg);\n  font-size: 20px;\n}\n\n.noselect {\n  -webkit-user-select: none; /* Safari */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* IE 10 and IE 11 */\n  user-select: none; /* Standard syntax */\n}\n  \n.unanswered-border {\n  border: 3px solid red;\n}\n</style>","<template>\n<div v-if=\"mode==='display'\">\n    <div v-if=\"timeLeft >= 0 || !timerStarted\">\n        <p>{{ formattedTime }}</p>\n    </div>\n    <div v-else>\n        <p>OO:OO:OO</p>\n    </div>\n</div>\n</template>\n\n<script>\nexport default {\n    props: {\n        timer: {\n            type: Number,\n            default: 5, // Default to 5 minutes\n        },\n        mode: {\n            type: String,\n            default: \"display\", // Default to 5 minutes\n        },\n    },\n    data() {\n        return {\n            endTime: null,\n            timeLeft: null,\n            interval: null,\n            timerStarted: false,\n        };\n    },\n    computed: {\n        formattedTime() {\n            let timeToDisplay = this.timeLeft !== null ? this.timeLeft : this.timer * 60;\n            const minutes = Math.floor(timeToDisplay / 60);\n            const seconds = timeToDisplay % 60;\n            return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n        },\n    },\n    methods: {\n        checkAndEmitStatus() {\n            const timers = JSON.parse(sessionStorage.getItem('timers')) || [];\n            const now = new Date().getTime();\n            const hasActiveTimer = timers.some(timer => now < timer.endTime);\n\n            this.$emit('timer-status', hasActiveTimer ? 'resume' : 'fresh');\n        },\n        updateCountdown() {\n            const now = new Date().getTime();\n            this.timeLeft = Math.floor((this.endTime - now) / 1000);\n\n            if (this.timeLeft < 0) {\n                clearInterval(this.interval);\n                this.timeLeft = 0;\n                this.timerFinished(); // Handle the timer finishing\n            }\n        },\n        startTimer() {\n            if (this.timerStarted) return;\n\n            const now = new Date().getTime();\n            const duration = this.timer * 60 * 1000; // Convert minutes to milliseconds\n            this.endTime = now + duration;\n            this.timeLeft = duration / 1000;\n            this.timerStarted = true;\n\n            this.storeTimer({\n                startTime: now,\n                endTime: this.endTime\n            });\n            this.initializeCountdown();\n        },\n        storeTimer(timerObj) {\n            let timers = JSON.parse(sessionStorage.getItem('timers')) || [];\n            timers.push(timerObj);\n            sessionStorage.setItem('timers', JSON.stringify(timers));\n            this.$emit('update-timer', timerObj); // Emit an event with the new timer details\n        },\n        resetTimer() {\n            clearInterval(this.interval);\n            this.endTime = null;\n            this.timeLeft = null;\n            this.timerStarted = false;\n            sessionStorage.removeItem('timers');\n        },\n        timerFinished() {\n            this.$emit('timer-finished', {\n                endTime: this.endTime\n            });\n            this.clearFinishedTimer(this.endTime);\n            this.timerStarted = false;\n        },\n        clearFinishedTimer(endTime) {\n            let timers = JSON.parse(sessionStorage.getItem('timers')) || [];\n            timers = timers.filter(timer => timer.endTime !== endTime);\n            if (timers.length > 0) {\n                sessionStorage.setItem('timers', JSON.stringify(timers));\n            } else {\n                sessionStorage.removeItem('timers'); // Clear if no timers left\n            }\n        },\n        initializeCountdown() {\n            this.updateCountdown();\n            this.interval = setInterval(this.updateCountdown, 1000);\n        },\n        checkSessionAndAutoStart() {\n            const timers = JSON.parse(sessionStorage.getItem('timers')) || [];\n            const now = new Date().getTime();\n            const activeTimer = timers.find(timer => now < timer.endTime);\n\n            if (activeTimer) {\n                this.endTime = activeTimer.endTime;\n                this.timerStarted = true;\n                this.initializeCountdown();\n            }\n        }\n    },\n    mounted() {\n        this.checkSessionAndAutoStart();\n        this.$nextTick(() => {\n            this.checkAndEmitStatus();\n        });\n    },\n    beforeUnmount() {\n        clearInterval(this.interval);\n    },\n};\n</script>\n","import { render } from \"./Timer.vue?vue&type=template&id=4517bac2\"\nimport script from \"./Timer.vue?vue&type=script&lang=js\"\nexport * from \"./Timer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Assessment.vue?vue&type=template&id=84e020fc\"\nimport script from \"./Assessment.vue?vue&type=script&lang=js\"\nexport * from \"./Assessment.vue?vue&type=script&lang=js\"\n\nimport \"./Assessment.vue?vue&type=style&index=0&id=84e020fc&lang=css\"\n\nimport exportComponent from \"../../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Assessment.vue?vue&type=template&id=2cb27072\"\nimport script from \"./Assessment.vue?vue&type=script&lang=js\"\nexport * from \"./Assessment.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","class DeviceUtils {\n  isMobile() {\n    return window.innerWidth <= 768;\n  }\n\n  deviceDetect() {\n    return this.isMobile() ? 'mobile' : 'desktop';\n  }\n}\n\nconst deviceUtils = new DeviceUtils();\nexport default deviceUtils;\n","'use strict';\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nmodule.exports = function (obj, stringHandling) {\n  if (!stringHandling || typeof obj !== 'string') anObject(obj);\n  var method = getIteratorMethod(obj);\n  return getIteratorDirect(anObject(method !== undefined ? call(method, obj) : obj));\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\n\n// `Iterator.prototype.every` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.every\n$({ target: 'Iterator', proto: true, real: true }, {\n  every: function every(predicate) {\n    anObject(this);\n    aCallable(predicate);\n    var record = getIteratorDirect(this);\n    var counter = 0;\n    return !iterate(record, function (value, stop) {\n      if (!predicate(value, counter++)) return stop();\n    }, { IS_RECORD: true, INTERRUPTED: true }).stopped;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\nvar getIteratorFlattenable = require('../internals/get-iterator-flattenable');\nvar createIteratorProxy = require('../internals/iterator-create-proxy');\nvar iteratorClose = require('../internals/iterator-close');\nvar IS_PURE = require('../internals/is-pure');\n\nvar IteratorProxy = createIteratorProxy(function () {\n  var iterator = this.iterator;\n  var mapper = this.mapper;\n  var result, inner;\n\n  while (true) {\n    if (inner = this.inner) try {\n      result = anObject(call(inner.next, inner.iterator));\n      if (!result.done) return result.value;\n      this.inner = null;\n    } catch (error) { iteratorClose(iterator, 'throw', error); }\n\n    result = anObject(call(this.next, iterator));\n\n    if (this.done = !!result.done) return;\n\n    try {\n      this.inner = getIteratorFlattenable(mapper(result.value, this.counter++), false);\n    } catch (error) { iteratorClose(iterator, 'throw', error); }\n  }\n});\n\n// `Iterator.prototype.flatMap` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.flatmap\n$({ target: 'Iterator', proto: true, real: true, forced: IS_PURE }, {\n  flatMap: function flatMap(mapper) {\n    anObject(this);\n    aCallable(mapper);\n    return new IteratorProxy(getIteratorDirect(this), {\n      mapper: mapper,\n      inner: null\n    });\n  }\n});\n","'use strict';\n// TODO: Remove from `core-js@4`\nrequire('../modules/es.iterator.every');\n","'use strict';\n// TODO: Remove from `core-js@4`\nrequire('../modules/es.iterator.flat-map');\n"],"names":["class","ref","autoplay","playsinline","key","_createElementBlock","_normalizeClass","$data","activeBlock","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","videoURL","src","controls","_hoisted_5","_createCommentVNode","_hoisted_6","onClick","_cache","args","$options","activateCamera","disabled","recording","cameraActive","_hoisted_7","startRecording","_hoisted_10","_hoisted_9","_hoisted_8","uploadRecordedVideo","_hoisted_11","_createTextVNode","_hoisted_12","_toDisplayString","currentDateTime","showCode","_hoisted_13","code","data","session","storageManager","get","schoolSession","s3Client","S3","forcePathStyle","endpoint","s3EndpointDefault","region","s3Region","ResponseContentEncoding","credentials","accessKeyId","s3Key","secretAccessKey","s3Secret","uploadedFiles","outputfile","errorText","successText","previewImages","uploadedFileUrl","videoElement","videoBase64","mediaRecorder","recordedChunks","mediaStream","preview","mounted","this","$refs","setInterval","updateDateTime","methods","captureImage","video","canvas","document","createElement","width","videoWidth","height","videoHeight","context","getContext","drawImage","toBlob","async","uniqueId","Date","now","Math","floor","random","file_extension","newFileName","uploadParams","Bucket","s3Bucket","Key","Body","blob","ACL","send","PutObjectCommand","uploadedImageUrl","s3Endpoint","console","log","$emit","error","videoBlob","size","uploadVideo","sendBase64","convertToBase64","stream","navigator","mediaDevices","getUserMedia","audio","srcObject","MediaRecorder","ondataavailable","handleDataAvailable","start","generateRandomCode","setTimeout","stopRecording","stop","onstop","Blob","type","previewRecording","event","push","URL","createObjectURL","length","base64String","blobToBase64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onloadend","result","onerror","toLocaleString","randomCode","toString","__exports__","render","_createBlock","_resolveDynamicComponent","componentName","role","id","_Fragment","loader","_createVNode","_component_Loader","_component_router_link","to","default","_withCtx","viewBox","fill","d","_","mode","lesson","_id","name","exam","_component_timer","timer","onTimerStatus","handleTimerStatus","onUpdateTimer","handleUpdate","onTimerFinished","handleFinish","style","_normalizeStyle","display","shouldShowDiv","_component_webcam","onWebcamRecorder","handleWebcamRecorder","onImageCaptured","handleImageCaptured","onImageUploaded","handleImageUploaded","examState","_hoisted_14","_hoisted_15","_hoisted_16","verified","videoVerified","_hoisted_17","_hoisted_18","_hoisted_19","total","is_score","_hoisted_20","measure","_hoisted_21","startExam","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_renderList","paginatedQuestions","question","index","number","unansweredQuestions","includes","_hoisted_33","_hoisted_34","currentPage","questionsPerPage","innerHTML","text","_hoisted_35","_hoisted_36","_hoisted_37","answers","option","value","$event","addUserData","checked","isOptionSelected","_hoisted_38","_hoisted_39","label","adminmode","correct","_hoisted_40","_component_font_awesome_icon","icon","_hoisted_41","_hoisted_42","user","firstname","lastname","userIp","_ctx","_hoisted_43","goToPreviousPage","_hoisted_44","ceil","questions","page","setPage","_hoisted_45","goToNextPage","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","answeredQuestionsCount","answered","_hoisted_53","examDuration","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","submitExam","cancelExam","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","checkResultExamDue","result_duedate","_hoisted_70","_hoisted_71","formatThaidate","_hoisted_66","_hoisted_67","score","_hoisted_68","_hoisted_69","_hoisted_72","_hoisted_73","is_repeat","resetExam","$props","timeLeft","timerStarted","formattedTime","props","Number","String","endTime","interval","computed","timeToDisplay","minutes","seconds","padStart","checkAndEmitStatus","timers","JSON","parse","sessionStorage","getItem","getTime","hasActiveTimer","some","updateCountdown","clearInterval","timerFinished","startTimer","duration","storeTimer","startTime","initializeCountdown","timerObj","setItem","stringify","resetTimer","removeItem","clearFinishedTimer","filter","checkSessionAndAutoStart","activeTimer","find","$nextTick","beforeUnmount","components","webcam","Loader","Timer","limitItem","limitOptions","totalPages","totalItems","shuffleQuestions","shuffleAnswers","showWelcome","examTemp","undefined","isSubmitting","enroll","capturedImages","playOption","login","configs","dataItem","$route","params","cid","examItem","eid","examType","examRound","round","deviceType","deviceUtils","deviceDetect","player","progress","progressArray","param_id","param_ep","loading_sources","timeout","playerLogo","playerSource","playerPoster","displayExam","webcamRecord","playerOptions","settings","retestScore","retestStatus","fetchUserIP","response","fetch","ok","Error","json","ip","date","timeZoneOffset","dueDate","dueDateInThailand","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","nowInThailand","areAllQuestionsAnsweredOnCurrentPage","startIndex","endIndex","currentPageQuestions","slice","every","imageDataUrl","imageUrl","updateVerifiedImage","capture","retest","urls","post","pre","requestBody","status","$Request","PUT","dialog","prompt","title","message","confirm","cancel","webcamComponent","window","scrollTo","top","behavior","determineInitialState","localStorage","Object","keys","debug","timerComponent","preventCopyPaste","preventDefault","alert","questionId","optionValue","selectedOptions","map","item","answer","base64Data","shuffle","array","randomIndex","currentIndex","renderExam","forEach","questionNumber","timestamp","calculateScore","userAnswer","resetAnswers","updatedExams","addQuestionsToExam","questionArray","currentTime","isCompleted","submitTime","remark","saveScore","resAPI","method","headers","body","$and","userID","examID","courseID","getScore","options","scoreReturn","url","enrollAPI","enrollReturn","enrollReturnCopy","analytics","req","has","enrollId","apiUrl","requestData","enroll2API","formatSeconds","convertUtils","secondsToTime","toThaiDatetime","detectDevice","getData","RestReturn","resExam","examReturn","formAPI","form","end_duedate","formData","$router","postScore","postMeasure","postResult","retestOpen","retestClose","retestDateRound1","retestDateEndDateRound1","retestDateRound2","retestDateEndDateRound2","slack","examId","pipeline","$match","$lookup","from","let","$toString","$expr","$eq","as","$facet","$skip","$limit","totalCount","$count","POST","convertQuestionsData","convertedData","flatMap","postItem","detail","convertedAnswers","created","end","answeredCount","addEventListener","setup","watch","deep","immediate","handler","Frontend","route","useRoute","routeName","meta","useTitle","DeviceUtils","isMobile","innerWidth","call","anObject","getIteratorDirect","getIteratorMethod","module","exports","obj","stringHandling","$","iterate","aCallable","target","proto","real","predicate","record","counter","IS_RECORD","INTERRUPTED","stopped","getIteratorFlattenable","createIteratorProxy","iteratorClose","IS_PURE","IteratorProxy","inner","iterator","mapper","next","done","forced"],"sourceRoot":""}