"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[12],{80012:function(e,t,s){s.r(t),s.d(t,{default:function(){return V}});var n=s(20641);function o(e,t,s,o,l,a){const i=(0,n.g2)("Edit");return this.login?((0,n.uX)(),(0,n.Wv)(i,{key:0})):(0,n.Q3)("",!0)}var l=s(52968),a=s(75220),i=s(90033),c=s(53751);const r={class:"w-full max-w-7xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden mt-4 p-2"},u={class:"flex"},d={class:"w-4/6"},m={class:"mt-4 p-5 bg-gray-500"},p={class:"grid grid-cols-1 gap-1"},g={class:"flex justify-between items-center"},b={class:"font-semibold"},h=["onUpdate:modelValue","onChange"],f=["value"],v=["onDrop"],y={key:0,class:"text-gray-500 p-3 border w-full"},C=["onClick"],k={class:"flex justify-between mt-2"},w=["onClick","disabled"],x=["onClick","disabled"],L=["onUpdate:modelValue","onChange"],E={class:"w-2/6"},I={class:"p-5"},X={class:"flex flex-col gap-2"},D={class:"grid grid-cols-2 gap-2"},F=["disabled","onDragstart"];function K(e,t,s,o,l,a){const K=(0,n.g2)("Subhead");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(K,{navigation:[{name:"หลักสูตร",link:"/lesson",style:"home",class:"default-btn",type:"button"},{name:"Player",link:"/lesson/player-customize",style:"play",class:"default-btn",type:"button"},{name:"Course Detail",link:"/lesson/detail-customize",style:"paint-roller",class:"default-btn",type:"button"}]}),(0,n.Lk)("div",r,[(0,n.Lk)("div",u,[(0,n.Lk)("div",d,[t[4]||(t[4]=(0,n.Lk)("h3",{class:"text-gray-900 text-lg mb-4 font-semibold"},"Layout Builder",-1)),(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>a.addNewRow&&a.addNewRow(...e)),class:"bg-green-500 text-white rounded p-2 mb-4"},"Add New Row"),(0,n.Lk)("div",m,[(0,n.Lk)("div",p,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.visibleRows,((e,s)=>((0,n.uX)(),(0,n.CE)("div",{key:s,class:"border p-4 bg-white"},[(0,n.Lk)("h5",null,(0,i.v_)(e.title),1),(0,n.Lk)("div",{class:(0,i.C4)(`grid grid-cols-${e.columnCount} gap-2`)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.columns,((o,l)=>((0,n.uX)(),(0,n.CE)("div",{key:l,class:(0,i.C4)(["border p-2 flex flex-col",`col-span-${o.colspan}`])},[(0,n.Lk)("div",g,[(0,n.Lk)("h5",b,"Column "+(0,i.v_)(o.id),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e=>o.colspan=e,class:"ml-2",onChange:e=>a.updateColumnItems(s)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.getColspanOptions(e.columns.length),(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,i.v_)(e),9,f)))),128))],40,h),[[c.u1,o.colspan]])]),(0,n.Lk)("div",{class:(0,i.C4)(`flex justify-between items-center col-span-${o.colspan}`),onDrop:e=>a.handleDrop(e,s,l),onDragover:t[1]||(t[1]=(0,c.D$)((()=>{}),["prevent"]))},[0===o.items.length?((0,n.uX)(),(0,n.CE)("div",y,"No items in this column.")):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.items,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"border p-5 flex justify-between items-center",style:(0,i.Tr)({flex:e.colspan})},[(0,n.eW)((0,i.v_)(e.name)+" ",1),(0,n.Lk)("button",{onClick:e=>a.removeItemFromColumn(s,l,t),class:"text-red-500"},"Remove",8,C)],4)))),128))],42,v),t[2]||(t[2]=(0,n.Lk)("div",{class:"mt-2"}," Footer Panel ",-1))],2)))),128))],2),(0,n.Lk)("div",k,[(0,n.Lk)("button",{onClick:e=>a.moveUp(s),disabled:0===s},"Up",8,w),(0,n.Lk)("button",{onClick:e=>a.moveDown(s),disabled:s===a.visibleRows.length-1},"Down",8,x),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.columnCount=t,onChange:t=>a.changeColumnCount(s,e.columnCount)},t[3]||(t[3]=[(0,n.Lk)("option",{value:"1"},"1",-1),(0,n.Lk)("option",{value:"2"},"2",-1),(0,n.Lk)("option",{value:"3"},"3",-1),(0,n.Lk)("option",{value:"4"},"4",-1)]),40,L),[[c.u1,e.columnCount]])])])))),128))])])]),(0,n.Lk)("div",E,[(0,n.Lk)("div",I,[t[6]||(t[6]=(0,n.Lk)("h3",{class:"text-gray-900 text-lg mb-4 font-semibold"},"Config Panel",-1)),(0,n.Lk)("div",X,[t[5]||(t[5]=(0,n.Lk)("h4",{class:"text-lg font-semibold"},"Draggable Items",-1)),(0,n.Lk)("div",D,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.draggableItems,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:(0,i.C4)(["border p-2 cursor-pointer",{"opacity-50 cursor-not-allowed":a.disabledItems&&"single"===e.type}]),disabled:a.disabledItems&&"single"===e.type,draggable:"true",onDragstart:t=>a.handleDragStart(t,e)},(0,i.v_)(e.name),43,F)))),128))])])])])])])],64)}s(44114),s(98992),s(54520),s(72577),s(3949),s(8872),s(37550);var N=s(87814),P=s(40475),R=s(93426),_={components:{Subhead:N.A},data(){return{rows:[{title:"Row 1",columns:[{id:1,items:[{name:"Title",code:"title",colspan:1}],colspan:2},{id:2,items:[{name:"Cover",code:"cover",colspan:1}],colspan:1}],columnCount:"3",visible:!0},{title:"Row 2",columns:[{id:2,items:[{name:"Navigator",code:"navigator",colspan:1}],colspan:1}],columnCount:1,visible:!0},{title:"Row 3",columns:[{id:3,items:[{name:"Detail",code:"detail",colspan:1}],colspan:1},{id:2,items:[{name:"Inspection",code:"inspection",colspan:1}],colspan:1}],columnCount:"2",visible:!0},{title:"Row 5",columns:[{id:5,items:[{name:"Description",code:"description",colspan:1}],colspan:1}],columnCount:1,visible:!0},{title:"Row 4",columns:[{id:4,items:[{name:"Playlist",code:"playlist",colspan:1}],colspan:1}],columnCount:1,visible:!0}],draggableItems:[{id:1,name:"Cover",code:"cover",type:"single"},{id:2,name:"Title",code:"title",type:"single"},{id:3,name:"Navigator",code:"navigator",type:"single"},{id:4,name:"Detail",code:"detail",type:"single"},{id:5,name:"Inspection",code:"inspection",type:"single"},{id:6,name:"Description",code:"description",type:"single"},{id:7,name:"Playlist",code:"playlist",type:"single"}]}},computed:{visibleRows(){return this.rows.filter((e=>e.visible))},disabledItems(){return this.rows.some((e=>e.columns.some((e=>e.items&&e.items.includes("Single Item")))))}},methods:{translate:R.Tl,toggleVisibility(e){this.rows[e].visible=!this.rows[e].visible},updateColumnItems(e){const t=this.rows[e],s=Number(t.columnCount);let n=t.columns.reduce(((e,t)=>e+t.colspan),0);console.log("totalColspan",n);while(n>s){const e=t.columns.pop();n-=e.colspan}while(n<s)t.columns.push({id:t.columns.length+1,items:[],colspan:1}),n+=1;t.columns.forEach((e=>{e.items.forEach((e=>{e.colspan=1}))}))},addItemToColumn(e,t,s){const n=this.rows[e].columns[t];n.items||(n.items=[]),"single"===s.type?0===n.items.length?n.items.push({name:s.name,code:s.code}):alert("Only one single item can be added to this column."):"multiple"===s.type&&n.items.push({name:s.name,code:s.code}),this.updateColumnItems(e)},handleDrop(e,t,s){e.preventDefault();const n=e.dataTransfer.getData("text/plain"),o=this.draggableItems.find((e=>e.id==n));o&&this.addItemToColumn(t,s,o)},handleDragStart(e,t){e.dataTransfer.setData("text/plain",t.id)},moveUp(e){if(e>0){const t=this.rows[e];this.rows[e]=this.rows[e-1],this.rows[e-1]=t}},moveDown(e){if(e<this.rows.length-1){const t=this.rows[e];this.rows[e]=this.rows[e+1],this.rows[e+1]=t}},changeColumnCount(e,t){const s=this.rows[e],n=s.columns.length;if(t>n)for(let o=n;o<t;o++)s.columns.push({id:o+1,items:[],colspan:1});else s.columns.splice(t);s.columns.forEach((e=>{e.colspan=1})),s.columnCount=t},addNewRow(){const e=this.rows.length+1;this.rows.push({title:`Row ${e}`,columns:[{id:e,items:[],colspan:1}],columnCount:1,visible:!0})},removeItemFromColumn(e,t,s){const n=this.rows[e].columns[t];n.items&&n.items.length>s&&n.items.splice(s,1)},getColspanOptions(e){const t=[];return 3===e?t.push(1,2):4===e?t.push(1,2,3):t.push(1),t}},created(){this.configs=P.A.get("configs")||{},this.session=P.A.get("session")||{}},mounted(){}},T=s(64621);const $=(0,T.A)(_,[["render",K]]);var A=$,U={name:"DetailCustomizer",components:{Edit:A},data(){return{login:P.A.get("session","login")}},methods:{},setup(){const e=(0,a.lq)(),t=e.meta.title;(0,l.K7)(t)}};const S=(0,T.A)(U,[["render",o]]);var V=S},87814:function(e,t,s){s.d(t,{A:function(){return F}});var n=s(20641),o=s(90033),l=s(53751);const a={class:"py-2 bg-white border-l border-r border-b border-1 border-gray-200"},i={class:"mx-auto px-2 sm:px-6 lg:px-6 xl:flex xl:items-center xl:justify-between"},c={class:"min-w-0 flex-1"},r={class:"mt-1 text-[18px] font-semibold leading-8 text-gray-700"},u={key:0,class:"text-sm text-gray-500"},d={class:"mt-5 flex xl:mt-0 xl:ml-4"},m={class:"flex items-center space-x-2"},p={class:"text-sm text-gray-400"},g=["onUpdate:modelValue","placeholder","onChange"],b={value:"",disabled:""},h=["value"],f=["onClick"],v={class:"text-sm hidden sm:inline-block ml-1"},y=["onClick"],C={class:"text-sm hidden sm:inline-block ml-1"};function k(e,t,s,k,w,x){const L=(0,n.g2)("font-awesome-icon");return(0,n.uX)(),(0,n.CE)("header",a,[(0,n.Lk)("div",i,[(0,n.Lk)("div",c,[(0,n.Lk)("h1",r,[(0,n.bF)(L,{icon:["fas",this.PageIcon],class:"text-gray-500 text-[18px]"},null,8,["icon"]),(0,n.eW)(" "+(0,o.v_)(s.pageTitle?s.pageTitle:this.PageName),1)]),s.subhead?((0,n.uX)(),(0,n.CE)("p",u,(0,o.v_)(s.subhead),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",d,[(0,n.Lk)("div",m,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.navigation,((t,s)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:s},["select"===t.type?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("label",p,(0,o.v_)(t.placeholder),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e=>t.value=e,class:"block w-36 py-2 px-3 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-md",placeholder:t.placeholder,onChange:s=>e.$emit("toggleStatus",t.value)},[(0,n.Lk)("option",b,"-- "+(0,o.v_)(t.placeholder)+" --",1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.options,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.value},(0,o.v_)(e.name),9,h)))),128))],40,g),[[l.u1,t.value]])],64)):"call-function"===t.type?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[!1!==t.visible?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:s=>e.$emit(t.function),type:"button",class:(0,o.C4)(x.getClasses(t.class))},[(0,n.bF)(L,{icon:["fas",`${t.style}`],class:(0,o.C4)({"text-gray-500 mr-2":"icon-btn"===t.class,"text-white":"primary-btn"===t.class})},null,8,["icon","class"]),(0,n.Lk)("span",v,(0,o.v_)(t.name),1)],10,f)):(0,n.Q3)("",!0)],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[!1!==t.visible?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:e=>x.handleNavigationClick(t),type:"button",class:(0,o.C4)(x.getClasses(t.class))},[(0,n.bF)(L,{icon:["fas",`${t.style}`],class:(0,o.C4)({"text-gray-500 mr-2":"icon-btn"===t.class,"text-white":"primary-btn"===t.class})},null,8,["icon","class"]),(0,n.Lk)("span",C,(0,o.v_)(t.name),1)],10,y)):(0,n.Q3)("",!0)],64))],64)))),128))])])])])}s(44114);var w=s(75220),x=s(52968),L=s(23264),E=s(93426),I={props:{navigation:{type:Array,default:()=>[]},pageTitle:{type:String,default:()=>null},subhead:{type:String,default:()=>null}},data(){const e=(0,w.lq)();return console.log("Translate",(0,E.Tl)("router-"+e.meta.parent+"-"+e.meta.key)),{PageName:(0,E.iX)(),PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page}},setup(){(0,x.K7)((0,E.iX)())},methods:{getClasses(e){const t=(0,L.c)(e);return`${t}`},handleNavigationClick(e){e.function?this.$emit(e.eventName||e.function):this.$router.push(e.link)}}},X=s(64621);const D=(0,X.A)(I,[["render",k]]);var F=D},23264:function(e,t,s){function n(e){switch(e){case"input-plaintext":return"pl-0 focus:outline-none focus:ring-0 shadow-none border-0";case"primary-btn":return"px-4 py-2 text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"icon-btn":return"px-4 py-2 text-gray-700 bg-transparent hover:bg-transparent hover:text-gray-800";case"default-btn":return"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"danger-btn":return"px-4 py-2 text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"success-btn":return"px-4 py-2 text-white bg-green-600 rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-50";default:return""}}s.d(t,{c:function(){return n}})}}]);
//# sourceMappingURL=12.17fa81ff.js.map