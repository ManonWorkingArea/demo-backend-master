"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[1352],{71352:function(e,t,s){s.r(t),s.d(t,{default:function(){return pe}});var o=s(20641);function a(e,t,s,a,l,n){const i=(0,o.g2)("Authen"),c=(0,o.g2)("Dashboard");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i),this.login?((0,o.uX)(),(0,o.Wv)(c,{key:0})):(0,o.Q3)("",!0)],64)}var l=s(52968),n=s(75220),i=s(90033),c=s(53751);const r={key:0,class:"text-center"},d={key:2,class:"fixed top-0 left-0 w-full h-full flex items-center justify-center z-50"},u={class:"relative bg-white w-full md:w-1/2 lg:w-1/2 rounded shadow-lg"},g={class:"bg-blue-500 text-white p-3 rounded-t"},p={class:"text-md font-semibold"},b={class:"p-3"},f={class:"grid grid-cols-2 gap-2"},h={class:"mb-2"},m={class:"mb-2"},k={class:"mb-2"},y={class:"mb-2"},x={class:"mb-2"},v={class:"mb-2"},w={class:"mb-2"},L={class:"mb-2"},D={class:"mb-2"},C={class:"mb-2"},A={class:"bg-gray-100 px-4 py-3 flex justify-end rounded-b"},S={key:3,class:"flex-1 pb-8 bg-gray-100 pt-2 pb-5 border-t"},E={class:"mt-8"},F={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},_={class:"mt-8 flex flex-col"},z={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},T={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},P={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"},U={class:"w-full h-30 relative text-center object-cover pt-10"},X={class:"flex flex-col items-center justify-center"},M={class:"relative text-center w-1/2"},j={class:"absolute w-full text-xs pt-2 text-white"},K={class:"absolute w-full bg-gray-200 h-[6px] bottom-0"},$={class:"p-4"},I={class:"font-bold text-gray-600"},N={class:"text-xs text-gray-400"},B={class:"text-xs text-gray-400"},J={class:"bg-gray-100 border-t-2 border-gray-200 py-2 px-4 flex justify-between items-center"},V=["onClick"],W=["onClick"],H={class:"w-12 h-12 rounded-full bg-blue-500 text-white flex items-center justify-center hover:opacity-70"},Q={key:4,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},R={class:"bg-white rounded shadow-lg w-96"},O={class:"bg-red-500 text-white p-2 rounded-t"},q={class:"text-base"},G={class:"p-4"},Y={class:"text-red-500 text-center"},Z={class:"bg-gray-100 py-2 px-4 flex justify-end rounded-b"};function ee(e,t,s,a,l,n){const ee=(0,o.g2)("Loader"),te=(0,o.g2)("Subhead"),se=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)(o.FK,null,[l.loading_sources?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(ee)])),l.loading_sources?((0,o.uX)(),(0,o.Wv)(te,{key:1,navigation:[{name:"ย้อนกลับ",link:"/",style:"chevron-left",class:"default-btn",visible:!0,type:"button"}]})):(0,o.Q3)("",!0),l.showModal?((0,o.uX)(),(0,o.CE)("div",d,[t[27]||(t[27]=(0,o.Lk)("div",{class:"fixed inset-0 bg-black opacity-50"},null,-1)),(0,o.Lk)("div",u,[(0,o.Lk)("div",g,[(0,o.Lk)("h3",p,[(0,o.bF)(se,{icon:["fas","server"],class:"text-white mr-1"}),(0,o.eW)(" "+(0,i.v_)(l.isEditMode?"แก้ไข Space":"เพิ่ม Space ใหม่"),1)]),(0,o.Lk)("button",{class:"absolute top-2 right-3 text-2xl font-semibold hover:text-gray-200",onClick:t[0]||(t[0]=(...e)=>n.closeModal&&n.closeModal(...e))},"×")]),(0,o.Lk)("div",b,[(0,o.Lk)("form",null,[(0,o.Lk)("div",f,[(0,o.Lk)("div",h,[t[16]||(t[16]=(0,o.Lk)("label",{for:"name",class:"block text-gray-700 font-bold mb-2"},"Storage Name",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.spaceData.name=e),type:"text",id:"name",class:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:border-blue-500"},null,512),[[c.Jo,l.spaceData.name]])]),(0,o.Lk)("div",m,[t[17]||(t[17]=(0,o.Lk)("label",{for:"space",class:"block text-gray-700 font-bold mb-2"},"Disk Space",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.spaceData.spaceSize=e),type:"text",id:"space",class:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:border-blue-500"},null,512),[[c.Jo,l.spaceData.spaceSize]])]),(0,o.Lk)("div",k,[t[18]||(t[18]=(0,o.Lk)("label",{for:"s3Key",class:"block text-gray-700 font-bold mb-2"},"S3 Key",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.spaceData.s3Key=e),type:"text",id:"s3Key",class:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:border-blue-500"},null,512),[[c.Jo,l.spaceData.s3Key]])]),(0,o.Lk)("div",y,[t[19]||(t[19]=(0,o.Lk)("label",{for:"s3Endpoint",class:"block text-gray-700 font-bold mb-2"},"S3 Endpoint",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.spaceData.s3Endpoint=e),type:"text",id:"s3Endpoint",class:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:border-blue-500"},null,512),[[c.Jo,l.spaceData.s3Endpoint]])]),(0,o.Lk)("div",x,[t[20]||(t[20]=(0,o.Lk)("label",{for:"s3Hosting",class:"block text-gray-700 font-bold mb-2"},"S3 Hosting",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.spaceData.s3Hosting=e),type:"text",id:"s3Hosting",class:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:border-blue-500"},null,512),[[c.Jo,l.spaceData.s3Hosting]])]),(0,o.Lk)("div",v,[t[21]||(t[21]=(0,o.Lk)("label",{for:"s3Secret",class:"block text-gray-700 font-bold mb-2"},"S3 Secret",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.spaceData.s3Secret=e),type:"text",id:"s3Secret",class:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:border-blue-500"},null,512),[[c.Jo,l.spaceData.s3Secret]])]),(0,o.Lk)("div",w,[t[22]||(t[22]=(0,o.Lk)("label",{for:"s3Region",class:"block text-gray-700 font-bold mb-2"},"S3 Region",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.spaceData.s3Region=e),type:"text",id:"s3Region",class:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:border-blue-500"},null,512),[[c.Jo,l.spaceData.s3Region]])]),(0,o.Lk)("div",L,[t[23]||(t[23]=(0,o.Lk)("label",{for:"s3EndpointDefault",class:"block text-gray-700 font-bold mb-2"},"S3 Default Endpoint",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.spaceData.s3EndpointDefault=e),type:"text",id:"s3EndpointDefault",class:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:border-blue-500"},null,512),[[c.Jo,l.spaceData.s3EndpointDefault]])]),(0,o.Lk)("div",D,[t[24]||(t[24]=(0,o.Lk)("label",{for:"s3Bucket",class:"block text-gray-700 font-bold mb-2"},"S3 Bucket",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.spaceData.s3Bucket=e),type:"text",id:"s3Bucket",class:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:border-blue-500"},null,512),[[c.Jo,l.spaceData.s3Bucket]])]),(0,o.Lk)("div",C,[t[25]||(t[25]=(0,o.Lk)("label",{class:"block text-gray-700 font-bold mb-2"},"สถานะ",-1)),(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=e=>l.spaceData.status=e),class:"form-checkbox h-5 w-5 text-blue-600"},null,512),[[c.lH,l.spaceData.status]]),t[26]||(t[26]=(0,o.eW)(" ใช้งาน "))])])])]),(0,o.Lk)("div",A,[(0,o.Lk)("button",{type:"button",class:"px-4 py-2 text-white bg-blue-500 rounded hover:bg-blue-600 mr-2",onClick:t[11]||(t[11]=(...e)=>n.closeModal&&n.closeModal(...e))}," ปิด "),(0,o.Lk)("button",{type:"button",onClick:t[12]||(t[12]=(...e)=>n.submitForm&&n.submitForm(...e)),class:"px-4 py-2 text-white bg-green-500 rounded hover:bg-green-600"},[(0,o.bF)(se,{icon:["fas","save"],class:"text-white mr-1"}),(0,o.eW)(" "+(0,i.v_)(l.isEditMode?"อัพเดตข้อมูล":"เพิ่มข้อมูล"),1)])])])])):(0,o.Q3)("",!0),l.loading_sources?((0,o.uX)(),(0,o.CE)("div",S,[(0,o.Lk)("div",E,[(0,o.Lk)("div",F,[(0,o.Lk)("div",_,[(0,o.Lk)("div",z,[(0,o.Lk)("div",T,[(0,o.Lk)("div",P,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.listItem,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e._id,class:"bg-white rounded-lg shadow-md overflow-hidden"},[(0,o.Lk)("div",U,[(0,o.Lk)("div",{class:(0,i.C4)(["w-7 h-7 absolute top-2 right-2 text-white pt-[6px] text-sm font-normal rounded-full text-center",e.status?"bg-green-600":"bg-red-600"])},[(0,o.bF)(se,{icon:e.status?["fas","check-circle"]:["fas","times"],class:"text-white"},null,8,["icon"])],2),(0,o.Lk)("div",X,[(0,o.Lk)("div",M,[(0,o.Lk)("div",j,(0,i.v_)(this.calculateDiskUsagePercentage(e.size/1024,e.spaceSize))+"%",1),(0,o.bF)(se,{icon:["fas","hdd"],class:"text-blue-600 text-[60px] mb-4"}),(0,o.Lk)("div",K,[(0,o.Lk)("div",{class:(0,i.C4)(["absolute bottom-0",{"bg-green-500":this.calculateDiskUsagePercentage(e.size/1024,e.spaceSize)<50,"bg-blue-500":this.calculateDiskUsagePercentage(e.size/1024,e.spaceSize)>=50&&this.calculateDiskUsagePercentage(e.size/1024,e.spaceSize)<70,"bg-orange-500":this.calculateDiskUsagePercentage(e.size/1024,e.spaceSize)>=70&&this.calculateDiskUsagePercentage(e.size/1024,e.spaceSize)<90,"bg-red-500":this.calculateDiskUsagePercentage(e.size/1024,e.spaceSize)>=90}]),style:(0,i.Tr)(["width:"+Math.min(this.calculateDiskUsagePercentage(e.size/1024,e.spaceSize),100)+"%;",{height:"6px"}])},null,6)])])])]),(0,o.Lk)("div",$,[(0,o.Lk)("p",I,(0,i.v_)(e.name),1),(0,o.Lk)("p",N,(0,i.v_)(this.formatBytes(e.size))+" / "+(0,i.v_)(e.spaceSize)+" GB",1),(0,o.Lk)("p",B,(0,i.v_)(e.count)+" Files",1)]),(0,o.Lk)("div",J,[(0,o.Lk)("a",{href:"javascript:void(0);",onClick:t=>n.editItem("edit",e),class:"text-gray-900 hover:text-gray-500 text-md font-medium"},[(0,o.bF)(se,{icon:["fas","square-pen"],class:"text-black mt-[3px] mr-2 text-md"}),t[28]||(t[28]=(0,o.Lk)("span",null,"แก้ไข",-1))],8,V),(0,o.Lk)("a",{href:"javascript:void(0);",onClick:t=>n.showDeleteDialog(e),class:"text-gray-900 hover:text-gray-500 text-md font-medium"},[(0,o.bF)(se,{icon:["fas","trash-can"],class:"text-black mt-[3px] mr-2 text-md"}),t[29]||(t[29]=(0,o.Lk)("span",null,"ลบ",-1))],8,W)])])))),128)),(0,o.Lk)("button",{class:"bg-white p-10 rounded-lg shadow-md overflow-hidden flex flex-col items-center justify-center cursor-pointer p-10",onClick:t[13]||(t[13]=e=>n.openModal("add"))},[(0,o.Lk)("div",H,[(0,o.bF)(se,{icon:["fas","plus"],class:"text-3xl"})]),t[30]||(t[30]=(0,o.Lk)("p",{class:"text-gray-500 mt-2 text-center"},"Add Space",-1))])])])])])])])])):(0,o.Q3)("",!0),l.showDeleteConfirmation?((0,o.uX)(),(0,o.CE)("div",Q,[(0,o.Lk)("div",R,[(0,o.Lk)("div",O,[(0,o.Lk)("h3",q,[(0,o.bF)(se,{icon:["fas","trash"],class:"text-white"}),t[31]||(t[31]=(0,o.eW)(" ยืนยันการลบข้อมูล"))])]),(0,o.Lk)("div",G,[(0,o.Lk)("p",Y,[t[32]||(t[32]=(0,o.eW)(" คุณต้องการลบข้อมูล ")),(0,o.Lk)("strong",null,'"'+(0,i.v_)(l.spaceToDelete.name)+'"',1),t[33]||(t[33]=(0,o.eW)(" ? ")),t[34]||(t[34]=(0,o.Lk)("br",null,null,-1)),t[35]||(t[35]=(0,o.eW)(" หลังจากลบแล้ว ไม่สามารถกู้คืนได้ "))])]),(0,o.Lk)("div",Z,[(0,o.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>n.cancelDelete&&n.cancelDelete(...e)),class:"px-2 py-1 text-gray-500 hover:text-gray-700 mr-2"}," ยกเลิก "),(0,o.Lk)("button",{onClick:t[15]||(t[15]=(...e)=>n.confirmDelete&&n.confirmDelete(...e)),class:"px-2 py-1 text-red-500 hover:text-red-700 font-medium"}," ลบเลย ")])])])):(0,o.Q3)("",!0)],64)}s(81454);var te=s(59911),se=s.n(te),oe=s(75435),ae=s(87814),le=s(40475),ne={inject:["apiServer"],data(){return{hostkey:this.$Key,accessToken:le.A.get("session","token"),configs:le.A.get("configs"),loading_sources:!0,isEditMode:!1,showModal:!1,spaceData:{name:"",status:"",spaceSize:"",s3Key:"",s3Endpoint:"",s3Hosting:"",s3Secret:"",s3Region:"",s3EndpointDefault:"",s3Bucket:""},listItemToEdit:null,listItem:[],showDeleteConfirmation:!1,spaceToDelete:null}},components:{Loader:oe.A,Subhead:ae.A},methods:{formatBytes(e){var t=1024,s=3,o=t,a=t*t,l=t*t*t;return e<o?e+" Bytes":e<a?(e/o).toFixed(s)+" KB":e<l?(e/a).toFixed(s)+" MB":(e/l).toFixed(s)+" GB"},calculateDiskUsagePercentage(e,t){const s=1024*t*1024,o=e/s*100;return o.toFixed(2)},editItem(e,t){this.listItemToEdit=t,this.openModal(e,t)},openModal(e,t={}){this.isEditMode="edit"===e,this.spaceData={...t},this.showModal=!0},closeModal(){this.showModal=!1},submitForm(){this.isEditMode?this.editData(this.listItemToEdit._id):this.addData()},async editData(e){try{const t={...this.spaceData};delete t._id;const s=await fetch(`https://gateway.cloudrestfulapi.com/api/space/${e}`,{method:"PUT",headers:{"Content-Type":"application/json","client-token-key":this.hostkey},body:JSON.stringify({data:t})});s.ok?(console.log("Item updated successfully"),await this.getData(),this.closeModal()):console.error("Failed to update item")}catch(t){console.error(t)}},async addData(){try{const e=await fetch("https://gateway.cloudrestfulapi.com/api/space",{method:"POST",headers:{"Content-Type":"application/json","client-token-key":this.hostkey},body:JSON.stringify({data:this.spaceData})});e.ok?(console.log("Item added successfully"),await this.getData(),this.closeModal()):console.error("Failed to add item")}catch(e){console.error(e)}},async getData(){if(le.A.get("session","login"))try{this.loading_sources=!1;let e=[{}];const t=[{$match:{$and:e}}],s={method:"POST",headers:{"Content-Type":"application/json","client-token-key":this.hostkey},body:JSON.stringify({pipeline:t})},o=await fetch("https://gateway.cloudrestfulapi.com/api/space/aggregate",s),a=await o.json(),l=async e=>{const t=e._id,s=await this.getSpaceData(t);return{...e,size:s[0]?.totalSize||"0",count:s[0]?.itemCount||"0"}},n=await Promise.all(a.map(l));console.log(n),this.listItem=n,this.loading_sources=!0}catch(e){console.log(e)}},async getSpaceData(e){if(le.A.get("session","login"))try{this.loading_sources=!1;const t=[{$match:{spaceId:e}},{$group:{_id:null,itemCount:{$sum:1},totalSize:{$sum:"$size"}}}],s={method:"POST",headers:{"Content-Type":"application/json","client-token-key":this.hostkey},body:JSON.stringify({pipeline:t})},o=await fetch("https://gateway.cloudrestfulapi.com/api/storage/aggregate",s),a=await o.json();return a}catch(t){return console.log(t),{itemCount:0,totalSize:0}}},async deleteData(e){if(le.A.get("session","login"))try{this.loading_sources=!1,console.log("id",e);const t=await fetch("https://gateway.cloudrestfulapi.com/api/space/"+e,{method:"DELETE",headers:{"Content-Type":"application/json","client-token-key":this.hostkey}});console.log(await t),this.loading_sources=!0,await this.getData()}catch(t){console.log(t)}},showDeleteDialog(e){this.spaceToDelete=e,this.showDeleteConfirmation=!0},async confirmDelete(){try{await this.deleteData(this.spaceToDelete._id),this.showDeleteConfirmation=!1}catch(e){console.error(e)}},cancelDelete(){this.showDeleteConfirmation=!1},updated(){se().replace()}},async mounted(){try{await this.getData()}catch(e){console.log(Error)}},setup(){}},ie=s(64621);const ce=(0,ie.A)(ne,[["render",ee]]);var re=ce,de=s(74284),ue={name:"Home",components:{Dashboard:re,Authen:de.A},data(){return{login:le.A.get("session","login")}},methods:{},mounted(){},setup(){const e=(0,n.lq)(),t=e.meta.title;(0,l.K7)(t),console.log("Dashboard")}};const ge=(0,ie.A)(ue,[["render",a]]);var pe=ge},87814:function(e,t,s){s.d(t,{A:function(){return F}});var o=s(20641),a=s(90033),l=s(53751);const n={class:"py-2 bg-white border-l border-r border-b border-1 border-gray-200"},i={class:"mx-auto px-2 sm:px-6 lg:px-6 xl:flex xl:items-center xl:justify-between"},c={class:"min-w-0 flex-1"},r={class:"mt-1 text-[18px] font-semibold leading-8 text-gray-700"},d={key:0,class:"text-sm text-gray-500"},u={class:"mt-5 flex xl:mt-0 xl:ml-4"},g={class:"flex items-center space-x-2"},p={class:"text-sm text-gray-400"},b=["onUpdate:modelValue","placeholder","onChange"],f={value:"",disabled:""},h=["value"],m=["onClick"],k={class:"text-sm hidden sm:inline-block ml-1"},y=["onClick"],x={class:"text-sm hidden sm:inline-block ml-1"};function v(e,t,s,v,w,L){const D=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("header",n,[(0,o.Lk)("div",i,[(0,o.Lk)("div",c,[(0,o.Lk)("h1",r,[(0,o.bF)(D,{icon:["fas",this.PageIcon],class:"text-gray-500 text-[18px]"},null,8,["icon"]),(0,o.eW)(" "+(0,a.v_)(s.pageTitle?s.pageTitle:this.PageName),1)]),s.subhead?((0,o.uX)(),(0,o.CE)("p",d,(0,a.v_)(s.subhead),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",u,[(0,o.Lk)("div",g,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.navigation,((t,s)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:s},["select"===t.type?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("label",p,(0,a.v_)(t.placeholder),1),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e=>t.value=e,class:"block w-36 py-2 px-3 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-md",placeholder:t.placeholder,onChange:s=>e.$emit("toggleStatus",t.value)},[(0,o.Lk)("option",f,"-- "+(0,a.v_)(t.placeholder)+" --",1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.options,((e,t)=>((0,o.uX)(),(0,o.CE)("option",{key:t,value:e.value},(0,a.v_)(e.name),9,h)))),128))],40,b),[[l.u1,t.value]])],64)):"call-function"===t.type?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[!1!==t.visible?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:s=>e.$emit(t.function),type:"button",class:(0,a.C4)(L.getClasses(t.class))},[(0,o.bF)(D,{icon:["fas",`${t.style}`],class:(0,a.C4)({"text-gray-500 mr-2":"icon-btn"===t.class,"text-white":"primary-btn"===t.class})},null,8,["icon","class"]),(0,o.Lk)("span",k,(0,a.v_)(t.name),1)],10,m)):(0,o.Q3)("",!0)],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[!1!==t.visible?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:e=>L.handleNavigationClick(t),type:"button",class:(0,a.C4)(L.getClasses(t.class))},[(0,o.bF)(D,{icon:["fas",`${t.style}`],class:(0,a.C4)({"text-gray-500 mr-2":"icon-btn"===t.class,"text-white":"primary-btn"===t.class})},null,8,["icon","class"]),(0,o.Lk)("span",x,(0,a.v_)(t.name),1)],10,y)):(0,o.Q3)("",!0)],64))],64)))),128))])])])])}s(44114);var w=s(75220),L=s(52968),D=s(23264),C=s(93426),A={props:{navigation:{type:Array,default:()=>[]},pageTitle:{type:String,default:()=>null},subhead:{type:String,default:()=>null}},data(){const e=(0,w.lq)();return console.log("Translate",(0,C.Tl)("router-"+e.meta.parent+"-"+e.meta.key)),{PageName:(0,C.iX)(),PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page}},setup(){(0,L.K7)((0,C.iX)())},methods:{getClasses(e){const t=(0,D.c)(e);return`${t}`},handleNavigationClick(e){e.function?this.$emit(e.eventName||e.function):this.$router.push(e.link)}}},S=s(64621);const E=(0,S.A)(A,[["render",v]]);var F=E},74284:function(e,t,s){s.d(t,{A:function(){return u}});var o=s(20641);function a(e,t,s,a,l,n){return(0,o.uX)(),(0,o.CE)("div")}var l=s(75220),n=s(63084),i=s(40475),c={name:"Authen",data(){return{configs:i.A.get("configs"),session:i.A.get("session")}},created(){n.A.option(this.$route)},computed:{},components:{},mounted(){this.checkAuth()},updated(){},methods:{async checkAuth(){const e=(0,l.lq)(),t=e.meta.auth,s=e.name,o=i.A.get("session");let a=o.token,c=o.login,r=o.current;n.A.log("hasLogin",c),n.A.log("Page -> Auth:",t),n.A.log("User -> Token:",a),n.A.log("User -> Login:",c),"frontend"===this.session.interface?n.A.log("Front-End"):"backend"===this.session.interface&&(n.A.log("Back-End"),c?("Login"==s||void 0==r?(n.A.log("Not Login Again"),this.$router.replace({path:"/"})):(n.A.log("Has School Active"),t?(n.A.log("This page is : Authen Request"),""===a||null===a||void 0==a?n.A.log("Your Cannot Access"):n.A.log("Your Can Access")):n.A.log("This page is : No Authen Request")),n.A.log("Login")):(n.A.log("Not Login"),"Login"!=s?(window.location.href="/member/login",n.A.log("Not Login Page",s)):n.A.log("Login Page",s)))}},setup(){}},r=s(64621);const d=(0,r.A)(c,[["render",a]]);var u=d},23264:function(e,t,s){function o(e){switch(e){case"input-plaintext":return"pl-0 focus:outline-none focus:ring-0 shadow-none border-0";case"primary-btn":return"px-4 py-2 text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"icon-btn":return"px-4 py-2 text-gray-700 bg-transparent hover:bg-transparent hover:text-gray-800";case"default-btn":return"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"danger-btn":return"px-4 py-2 text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"success-btn":return"px-4 py-2 text-white bg-green-600 rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-50";default:return""}}s.d(t,{c:function(){return o}})}}]);
//# sourceMappingURL=1352.32d4641b.js.map