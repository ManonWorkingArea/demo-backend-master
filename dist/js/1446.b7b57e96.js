(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[1446],{1446:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Ge}});var o=t(20641);function a(e,s,t,a,l,i){const d=(0,o.g2)("Add",!0);return this.login?((0,o.uX)(),(0,o.Wv)(d,{key:0})):(0,o.Q3)("",!0)}var l=t(52968),i=t(75220),d=(t(44114),t(90033)),n=t(53751);const c={key:0,class:"text-center"},r={key:1},u={class:"py-2 border-gray-800"},p={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 xl:flex xl:items-center xl:justify-between"},g={class:"min-w-0 flex-1"},m={class:"mt-2 text-xl font-bold leading-7 text-gray-700 sm:truncate sm:text-1xl sm:tracking-tight"},y={class:"mt-5 flex xl:mt-0 xl:ml-4"},h={class:"hidden sm:block"},f={class:"flex-1 bg-gray-100 pt-2 pb-5 border-t"},k={class:"mt-8"},x={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},b={class:"space-y-6 sm:px-6 lg:col-span-9 lg:px-0"},v={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},L={class:"px-4 py-5 sm:p-6"},w={class:"grid grid-cols-4 gap-6"},_={class:"col-span-6 sm:col-span-6"},C={class:"mt-6 grid grid-cols-4 gap-6"},D={class:"col-span-4 sm:col-span-2"},V={class:"col-span-4 sm:col-span-2"},A={class:"mt-6 grid grid-cols-4 gap-6"},j={class:"col-span-4 sm:col-span-2"},E={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},T={class:"px-4 py-5 sm:p-6"},M={class:"grid grid-cols-4 gap-6"},U={class:"col-span-4 sm:col-span-4"},F={class:"grid grid-cols-1 lg:grid-cols-2 gap-1 justify-evenly"},X={class:"flex items-start"},P={class:"flex h-5 items-center"},B=["id","value"],J={class:"ml-3 text-sm w-[90%]"},I=["for"],O={class:"invisible lg:visible text-[16px] text-gray-500 truncate"},$={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},z={class:"px-4 py-5 sm:p-6"},K={class:"grid grid-cols-4 gap-6"},q={class:"col-span-4 sm:col-span-4"},N={class:"grid grid-cols-1 lg:grid-cols-2 gap-1 justify-evenly"},S={class:"flex items-start"},G={class:"flex h-5 items-center"},W=["id","value"],Q={class:"ml-3 text-sm w-[90%]"},H=["for"],R={class:"invisible lg:visible text-[16px] text-gray-500 truncate"},Y={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},Z={class:"px-4 py-5 sm:p-6"},ee={class:"grid grid-cols-4 gap-6"},se={class:"col-span-4 sm:col-span-4"},te={class:"grid grid-cols-1 lg:grid-cols-2 gap-1 justify-evenly"},oe={class:"flex items-start"},ae={class:"flex h-5 items-center"},le=["id","value"],ie={class:"ml-3 text-sm w-[90%]"},de=["for"],ne={class:"invisible lg:visible text-[16px] text-gray-500 truncate"},ce={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},re={class:"px-4 py-5 sm:p-6"},ue={class:"grid grid-cols-4 gap-6"},pe={class:"col-span-4 sm:col-span-4"},ge={class:"grid grid-cols-1 lg:grid-cols-2 gap-1 justify-evenly"},me={class:"flex items-start"},ye={class:"flex h-5 items-center"},he=["id","value"],fe={class:"ml-3 text-sm w-[90%]"},ke=["for"],xe={class:"invisible lg:visible text-[16px] text-gray-500 truncate"},be={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},ve={class:"px-4 py-5 sm:p-6"},Le={class:"grid grid-cols-4 gap-6"},we={class:"col-span-4 sm:col-span-1"},_e={class:"col-span-4 sm:col-span-1"},Ce={class:"col-span-4 sm:col-span-1"},De={class:"col-span-4 sm:col-span-1"},Ve={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},Ae={class:"px-4 py-5 sm:p-6"},je={class:"grid grid-cols-4 gap-6"},Ee={class:"col-span-4 sm:col-span-6"},Te={class:"col-span-4 sm:col-span-6"},Me={class:"col-span-4 sm:col-span-6"},Ue={class:"col-span-4 sm:col-span-6"},Fe={class:"bg-gray-50 px-4 py-4 sm:px-6 text-right"},Xe={type:"submit",class:"ml-3 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"};function Pe(e,s,t,a,l,i){const Pe=(0,o.g2)("Loader"),Be=(0,o.g2)("font-awesome-icon"),Je=(0,o.g2)("MiniMCE");return(0,o.uX)(),(0,o.CE)(o.FK,null,[l.loading_sources?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",c,[(0,o.bF)(Pe)])),l.loading_sources?((0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("header",u,[(0,o.Lk)("div",p,[(0,o.Lk)("div",g,[(0,o.Lk)("h1",m,[(0,o.bF)(Be,{icon:["fas",l.PageIcon],class:"text-gray-500 text-[24px]"},null,8,["icon"]),(0,o.eW)(" "+(0,d.v_)(l.PageName),1)])]),(0,o.Lk)("div",y,[(0,o.Lk)("span",h,[(0,o.Lk)("button",{onClick:s[0]||(s[0]=s=>e.$router.push("/lesson/index")),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-50"},[(0,o.bF)(Be,{icon:["fas","chevron-left"],class:"text-black text-[12px] mr-2"}),s[20]||(s[20]=(0,o.eW)(" ย้อนกลับ "))])])])])]),(0,o.Lk)("div",f,[(0,o.Lk)("div",k,[(0,o.Lk)("div",x,[(0,o.Lk)("div",b,[(0,o.Lk)("form",{onSubmit:s[19]||(s[19]=(0,n.D$)(((...e)=>i.addData&&i.addData(...e)),["prevent"]))},[(0,o.Lk)("section",{"aria-labelledby":"payment-details-heading",class:(0,d.C4)(["relative",[l.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},[(0,o.Lk)("div",v,[s[25]||(s[25]=(0,o.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"ข้อมูลหลักสูตร"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของหลักสูตรให้ครบถ้วน")],-1)),(0,o.Lk)("div",L,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[1]||(s[1]=s=>e.ref=s),type:"hidden",name:"ref",id:"ref",autocomplete:"ref",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[n.Jo,e.ref]]),(0,o.Lk)("div",w,[(0,o.Lk)("div",_,[s[21]||(s[21]=(0,o.Lk)("label",{for:"name",class:"block text-md font-bold text-gray-700"},"ชื่อรายวิชา",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>l.name=e),type:"text",name:"name",id:"name",autocomplete:"name",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[n.Jo,l.name]])])]),(0,o.Lk)("div",C,[(0,o.Lk)("div",D,[s[22]||(s[22]=(0,o.Lk)("label",{for:"slug",class:"block text-md font-bold text-gray-700"},"รหัสรายวิชา",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>l.slug=e),type:"text",name:"slug",id:"slug",autocomplete:"slug",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[n.Jo,l.slug]])]),(0,o.Lk)("div",V,[s[23]||(s[23]=(0,o.Lk)("label",{for:"erp_code",class:"block text-md font-bold text-gray-700"},"รหัส Product Code (FTI ERP)",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[4]||(s[4]=e=>l.erp_code=e),type:"text",name:"erp_code",id:"erp_code",autocomplete:"erp_code",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[n.Jo,l.erp_code]])])]),(0,o.Lk)("div",A,[(0,o.Lk)("div",j,[s[24]||(s[24]=(0,o.Lk)("label",{for:"lecturer",class:"block text-md font-bold text-gray-700"},"วิทยากร",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[5]||(s[5]=e=>l.lecturer=e),type:"text",name:"lecturer",id:"lecturer",autocomplete:"lecturer",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[n.Jo,l.lecturer]])])])])]),(0,o.Lk)("div",E,[s[26]||(s[26]=(0,o.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"ประเภทหลักสูตร (Type)"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของหลักสูตรให้ครบถ้วน")],-1)),(0,o.Lk)("div",T,[(0,o.Lk)("div",M,[(0,o.Lk)("div",U,[(0,o.Lk)("div",F,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.typeData,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.code,class:"w-26 h-12"},[(0,o.Lk)("div",X,[(0,o.Lk)("div",P,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>l.checkedType=e),id:e.code,value:e.code,type:"radio",class:"h-4 w-4 cursor-pointer rounded-full border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,B),[[n.XL,l.checkedType]])]),(0,o.Lk)("div",J,[(0,o.Lk)("label",{for:e.code,class:"font-bold text-gray-900"},(0,d.v_)(e.name),9,I),(0,o.Lk)("p",O,(0,d.v_)(e.description),1)])])])))),128))])])])])]),(0,o.Lk)("div",$,[s[27]||(s[27]=(0,o.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"หมวดหมู่ (Category)"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของหลักสูตรให้ครบถ้วน")],-1)),(0,o.Lk)("div",z,[(0,o.Lk)("div",K,[(0,o.Lk)("div",q,[(0,o.Lk)("div",N,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.categoryData,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.slug,class:"w-26 h-12"},[(0,o.Lk)("div",S,[(0,o.Lk)("div",G,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[7]||(s[7]=e=>l.checked=e),id:e.slug,value:e.slug,type:"checkbox",class:"h-4 w-4 cursor-pointer rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,W),[[n.lH,l.checked]])]),(0,o.Lk)("div",Q,[(0,o.Lk)("label",{for:e.slug,class:"font-bold text-gray-900"},(0,d.v_)(e.name),9,H),(0,o.Lk)("p",R,(0,d.v_)(e.description),1)])])])))),128))])])])])]),(0,o.Lk)("div",Y,[s[28]||(s[28]=(0,o.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"วิธีการเรียน (Mode)"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของหลักสูตรให้ครบถ้วน")],-1)),(0,o.Lk)("div",Z,[(0,o.Lk)("div",ee,[(0,o.Lk)("div",se,[(0,o.Lk)("div",te,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.modeData,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.code,class:"w-26 h-12"},[(0,o.Lk)("div",oe,[(0,o.Lk)("div",ae,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[8]||(s[8]=e=>l.checkedMode=e),id:e.code,value:e.code,type:"radio",class:"h-4 w-4 cursor-pointer rounded-full border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,le),[[n.XL,l.checkedMode]])]),(0,o.Lk)("div",ie,[(0,o.Lk)("label",{for:e.code,class:"font-bold text-gray-900"},(0,d.v_)(e.name),9,de),(0,o.Lk)("p",ne,(0,d.v_)(e.description),1)])])])))),128))])])])])]),(0,o.Lk)("div",ce,[s[29]||(s[29]=(0,o.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"เงื่อนไข (Display)"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของหลักสูตรให้ครบถ้วน")],-1)),(0,o.Lk)("div",re,[(0,o.Lk)("div",ue,[(0,o.Lk)("div",pe,[(0,o.Lk)("div",ge,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(l.displayData,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.code,class:"w-26 h-12"},[(0,o.Lk)("div",me,[(0,o.Lk)("div",ye,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[9]||(s[9]=s=>e.checkedDisplay=s),id:t.code,value:t.code,type:"radio",class:"h-4 w-4 cursor-pointer rounded-full border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,he),[[n.XL,e.checkedDisplay]])]),(0,o.Lk)("div",fe,[(0,o.Lk)("label",{for:t.code,class:"font-bold text-gray-900"},(0,d.v_)(t.name),9,ke),(0,o.Lk)("p",xe,(0,d.v_)(t.description),1)])])])))),128))])])])])]),(0,o.Lk)("div",be,[s[34]||(s[34]=(0,o.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"การแสดงผล"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของหลักสูตรให้ครบถ้วน")],-1)),(0,o.Lk)("div",ve,[(0,o.Lk)("div",Le,[(0,o.Lk)("div",we,[s[30]||(s[30]=(0,o.Lk)("label",{for:"hours",class:"block text-md font-bold text-gray-700"},"จำนวนชั่วโมง",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[10]||(s[10]=e=>l.hours=e),type:"text",name:"hours",id:"hours",autocomplete:"hours",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[n.Jo,l.hours]])]),(0,o.Lk)("div",_e,[s[31]||(s[31]=(0,o.Lk)("label",{for:"days",class:"block text-md font-bold text-gray-700"},"จำนวนวัน",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[11]||(s[11]=e=>l.days=e),type:"text",name:"days",id:"days",autocomplete:"days",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[n.Jo,l.days]])]),(0,o.Lk)("div",Ce,[s[32]||(s[32]=(0,o.Lk)("label",{for:"regular_price",class:"block text-md font-bold text-gray-700"},"ราคาคอร์ส",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[12]||(s[12]=e=>l.regular_price=e),type:"text",name:"regular_price",id:"regular_price",autocomplete:"regular_price",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[n.Jo,l.regular_price]])]),(0,o.Lk)("div",De,[s[33]||(s[33]=(0,o.Lk)("label",{for:"sale_price",class:"block text-md font-bold text-gray-700"},"ราคาขาย",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[13]||(s[13]=e=>l.sale_price=e),type:"text",name:"sale_price",id:"sale_price",autocomplete:"sale_price",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[n.Jo,l.sale_price]])])])])]),(0,o.Lk)("div",Ve,[s[40]||(s[40]=(0,o.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"คำอธิบาย"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของหลักสูตรให้ครบถ้วน")],-1)),(0,o.Lk)("div",Ae,[(0,o.Lk)("div",je,[(0,o.Lk)("div",Ee,[s[35]||(s[35]=(0,o.Lk)("label",{for:"principles",class:"block text-md font-bold text-gray-700"},"หลักการและเหตุผล",-1)),(0,o.bF)(Je,{modelValue:l.principles,"onUpdate:modelValue":s[14]||(s[14]=e=>l.principles=e),options:{}},null,8,["modelValue"])]),(0,o.Lk)("div",Te,[s[36]||(s[36]=(0,o.Lk)("label",{for:"objective",class:"block text-md font-bold text-gray-700"},"วัตถุประสงค์",-1)),(0,o.bF)(Je,{modelValue:l.objective,"onUpdate:modelValue":s[15]||(s[15]=e=>l.objective=e),options:{}},null,8,["modelValue"])]),(0,o.Lk)("div",Me,[s[37]||(s[37]=(0,o.Lk)("label",{for:"target",class:"block text-md font-bold text-gray-700"},"กลุ่มเป้าหมาย",-1)),(0,o.bF)(Je,{modelValue:l.target,"onUpdate:modelValue":s[16]||(s[16]=e=>l.target=e),options:{}},null,8,["modelValue"])]),(0,o.Lk)("div",Ue,[s[38]||(s[38]=(0,o.Lk)("label",{for:"structure",class:"block text-md font-bold text-gray-700"},"โครงสร้างหลักสูตร",-1)),(0,o.bF)(Je,{modelValue:l.structure,"onUpdate:modelValue":s[17]||(s[17]=e=>l.structure=e),options:{}},null,8,["modelValue"])])])]),(0,o.Lk)("div",Fe,[(0,o.Lk)("button",{onClick:s[18]||(s[18]=s=>e.$router.push("/lesson")),type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," ยกเลิก "),(0,o.Lk)("button",Xe,[(0,o.bF)(Be,{icon:["fas","save"],class:"pr-2 pl-2"}),s[39]||(s[39]=(0,o.eW)("บันทึกข้อมูล "))])])])],2)],32)])])])])])):(0,o.Q3)("",!0)],64)}var Be=t(87054),Je=t(75435),Ie=t(40475),Oe=t(35100),$e=(t(4934),t(12983),{name:"AddLesson",data(){const e=(0,i.lq)(),s=Ie.A.get("session");return{PageName:e.meta.title,PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page,checked:[],checkedType:"",checkedMode:"",name:"",slug:"",lecturer:"",erp_code:"",hours:"",days:"",regular_price:"",sale_price:"",description:"",principles:"",objective:"",target:"",structure:"",categoryData:[],typeData:[],modeData:[],displayData:[],activeBlock:!1,schoolData:[],loading_sources:!0,dataItem:this.$route.params.id,accessToken:s.token,login:s.login,master:s.master}},components:{Loader:Je.A,MiniMCE:Oe.A},methods:{slugify(e){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();for(var s="àáãäâèéëêìíïîòóöôùúüûñç·/_,:;",t="aaaaaeeeeiiiioooouuuunc------",o=0,a=s.length;o<a;o++)e=e.replace(new RegExp(s.charAt(o),"g"),t.charAt(o));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),e},async getData(){if(this.login)try{const e=Ie.A.get("session");let s=e.token,t=this.$route.params.id;this.loading_sources=!1;const o=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/mcourses/"+t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+s}}),a=await o.json();console.log(a),this.schoolData=a.data,this.school=e.current.id;const l=e.category;if("undefined"!==typeof l&&l.length>0)this.categoryData=l,this.typeData=Be.fM,this.modeData=Be.Mq,this.displayData=Be.Vy,this.loading_sources=!0;else{const e=await this.getCategoryData();if(console.log(e),e.success){let s={category:e.data};Ie.A.update("session",s),this.categoryData=e.data,this.typeData=Be.fM,this.modeData=Be.Mq,this.displayData=Be.Vy,this.loading_sources=!0}}}catch(e){console.log(e)}},async getCategoryData(){if(this.login)try{let e=Ie.A.get("session","token");this.loading_sources=!1;const s=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/catagories/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}),t=await s.json();return console.log("Category",t),t}catch(e){console.log(e)}},async getTypeData(){if(this.login)try{let e=Ie.A.get("session","token");this.loading_sources=!1;const s=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/types/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}),t=await s.json();return console.log("Types",t),t}catch(e){console.log(e)}},async getModesData(){if(this.login)try{let e=Ie.A.get("session","token");this.loading_sources=!1;const s=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/modes/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}),t=await s.json();return console.log("Modes",t),t}catch(e){console.log(e)}},async addData(){if(this.login)try{this.activeBlock=!0;const e=Ie.A.get("session","token"),s=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/mcourses/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({schoolId:this.school,name:this.name,slug:this.slugify(this.slug),lecturer:this.lecturer,erp_code:this.erp_code,hours:this.hours,days:this.days,category:this.checked,type:this.checkedType,mode:this.checkedMode,display:this.checkedDisplay,regular_price:this.regular_price,sale_price:this.sale_price,principles:this.principles,objective:this.objective,target:this.target,structure:this.structure,status:!0})}),t=await s.json();t.success&&(this.activeBlock=!1,this.$swal({title:"บันทึกข้อมูลเรียบร้อยแล้ว ?",text:"คุณต้องการที่จะดำเนินการอย่างไร !",type:"success",showCancelButton:!0,confirmButtonColor:"#0054b4",confirmButtonText:"กลับไปหน้าหลัก",cancelButtonText:"รีเฟรซหน้านี้",closeOnConfirm:!1,closeOnCancel:!1}).then((e=>{e.isConfirmed?(console.log("Home"),window.location.href="/lesson"):(console.log("New"),window.location.reload())})))}catch(e){console.log(e)}}},setup(){},async mounted(){try{await this.getData()}catch(e){console.log(Error)}}}),ze=t(64621);const Ke=(0,ze.A)($e,[["render",Pe]]);var qe=Ke,Ne={name:"Lesson Add",components:{Add:qe},data(){return{login:Ie.A.get("session","login")}},methods:{},setup(){const e=(0,i.lq)(),s=e.meta.title;(0,l.K7)(s)}};const Se=(0,ze.A)(Ne,[["render",a]]);var Ge=Se},87054:function(e,s){s.OC=[{code:"demand",slug:"On-Demand",name:"ไฟล์วีดีโอ"},{code:"streaming",slug:"Streaming",name:"ลิงค์สตรีมมิ่ง"},{code:"live",slug:"live",name:"ไลฟ์"},{code:"youtube",slug:"Youtube",name:"Youtube"},{code:"document",slug:"Document",name:"เอกสาร"},{code:"exam",slug:"Exam",name:"แบบทดสอบ"},{code:"folder",slug:"Folder",name:"บทเรียนแบบกลุ่ม"}],s.Ac=[{code:"general",name:"ข้อสอบทั่วไป"},{code:"pre",name:"ข้อสอบก่อนเรียน"},{code:"post",name:"ข้อสอบหลังเรียน"}],s.Mq=[{code:"standard",name:"คอร์สธรรมดา",description:"คอร์สเรียนตามปกติ จำกัดการเรียนด้วยเงื่อนไข"},{code:"buffe",name:"คอร์สบุฟเฟต์",description:"เรียนได้ไม่จำกัดภายในเงื่อนไขที่กำหนด"},{code:"seminar",name:"คอร์สสัมนนา",description:"หลักสูตรสัมมนา"}],s.Vy=[{code:"step",name:"เรียนตามลำดับ",description:"ต้องเรียนให้จบเป็นลำดับไปทีละบท"},{code:"full",name:"เรียนได้ทั้งหมด",description:"สามารถเลือกเรียนได้เองทุกบท"},{code:"onsite",name:"อบรมในสสถานที่",description:"ฝึกอบรมในสถานที่"}],s.Up=[{code:"single",name:"หลักสูตรเดี่ยว (Single Course)",description:"เรียนแบบหลักสูตรเดี่ยว"},{code:"multiple",name:"หลักสูตรรวม (Multiple Course)",description:"เรียนแบบหลักสูตรรวม"}],s.fM=[{code:"e_learning",name:"หลักสูตร e-Learning",description:"ศูนย์รวมหลักสูตรออนไลน์"},{code:"onsite",name:"หลักสูตร Onsite",description:"ศูนย์รวมหลักสูตรสัมมนา"},{code:"public_course",name:"หลักสูตร Public Course",description:"รวมหลักสูตรที่เผนแพร่จากสาธารณะ"},{code:"online_course",name:"หลักสูตร Online Course",description:"งานอบรมผ่านการสัมมนาออนไลน์"},{code:"premium_course",name:"หลักสูตร Premium Course",description:"หลักสูตรพิเศษเฉพาะสำหรับสมาชิก"}],s.gd=[{code:"pre",name:"สำรองที่นั่ง",description:"สำรองที่นั่งล่วงหน้า"},{code:"free",name:"เรียนฟรี",description:"เรียนฟรีไม่มีเงื่อนไข"},{code:"paid",name:"จ่ายเงิน",description:"มีค่าใช้จ่ายในกาเรลงทะเบียน"}]}}]);
//# sourceMappingURL=1446.b7b57e96.js.map