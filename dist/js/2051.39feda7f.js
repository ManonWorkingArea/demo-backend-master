"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[2051],{92051:function(e,t,a){a.r(t),a.d(t,{default:function(){return M}});var n=a(20641);function o(e,t,a,o,l,s){const i=(0,n.g2)("List");return this.login?((0,n.uX)(),(0,n.Wv)(i,{key:0})):(0,n.Q3)("",!0)}var l=a(52968),s=a(75220);function i(e,t,a,o,l,s){const i=(0,n.g2)("ChatFlowBuilder"),r=(0,n.g2)("Framework");return(0,n.uX)(),(0,n.Wv)(r,{loader:l.loader,navigation:l.navigationData,title:l.title},{default:(0,n.k6)((()=>[(0,n.bF)(i)])),_:1},8,["loader","navigation","title"])}var r=a(72432),u=a(90033),d=a(53751);const c={class:"chat-flow-builder"},p=["onUpdate:modelValue"],m=["onUpdate:modelValue"],v=["onUpdate:modelValue"],g=["onUpdate:modelValue"],b=["onUpdate:modelValue"],h=["onUpdate:modelValue"],y=["onUpdate:modelValue"],f=["value"],k=["onUpdate:modelValue"],x={key:0},L={class:"condition-grid"},C=["onUpdate:modelValue"],w=["onUpdate:modelValue"],F=["value"],V={class:"button-row"},E=["onClick"],P=["onClick"];function j(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)("div",c,[t[14]||(t[14]=(0,n.Lk)("h2",null,"Chat Flow Builder",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.chatFlow,((e,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a,class:"chat-flow-step"},[(0,n.Lk)("h3",null,"Step "+(0,u.v_)(a+1)+": "+(0,u.v_)(e.objective),1),(0,n.Lk)("div",null,[t[2]||(t[2]=(0,n.Lk)("label",null,"Objective:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.objective=t},null,8,p),[[d.Jo,e.objective]])]),(0,n.Lk)("div",null,[t[3]||(t[3]=(0,n.Lk)("label",null,"Prompt:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.prompt=t},null,8,m),[[d.Jo,e.prompt]])]),(0,n.Lk)("div",null,[t[4]||(t[4]=(0,n.Lk)("label",null,"Message:",-1)),(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t=>e.message=t},null,8,v),[[d.Jo,e.message]])]),(0,n.Lk)("div",null,[t[5]||(t[5]=(0,n.Lk)("label",null,"Context Key:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.contextKey=t},null,8,g),[[d.Jo,e.contextKey]])]),(0,n.Lk)("div",null,[t[6]||(t[6]=(0,n.Lk)("label",null,"Context Label:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.contextLabel=t},null,8,b),[[d.Jo,e.contextLabel]])]),(0,n.Lk)("div",null,[t[7]||(t[7]=(0,n.Lk)("label",null,"Validation Message:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.validationMessage=t},null,8,h),[[d.Jo,e.validationMessage]])]),(0,n.Lk)("div",null,[t[8]||(t[8]=(0,n.Lk)("label",null,"Next Objective:",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.nextObjective=t},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.objectiveList,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,u.v_)(e),9,f)))),128))],8,y),[[d.u1,e.nextObjective]])]),(0,n.Lk)("div",null,[t[9]||(t[9]=(0,n.Lk)("label",null,"Rename Trigger:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.renameTrigger=t},null,8,k),[[d.lH,e.renameTrigger]])]),e.conditionValidate?((0,n.uX)(),(0,n.CE)("div",x,[t[12]||(t[12]=(0,n.Lk)("h4",null,"Condition Validation",-1)),(0,n.Lk)("div",L,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.conditionValidate,((e,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a,class:"condition-item"},[(0,n.Lk)("div",null,[t[10]||(t[10]=(0,n.Lk)("label",null,"Label:",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.label=t},null,8,C),[[d.Jo,e.label]])]),(0,n.Lk)("div",null,[t[11]||(t[11]=(0,n.Lk)("label",null,"Return:",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.return=t},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.objectiveList,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,u.v_)(e),9,F)))),128))],8,w),[[d.u1,e.return]])])])))),128))]),(0,n.Lk)("div",V,[(0,n.Lk)("button",{onClick:e=>s.addCondition(a)},"Add Condition",8,E)])])):(0,n.Q3)("",!0),(0,n.Lk)("button",{onClick:e=>s.removeStep(a)},"Remove Step",8,P),t[13]||(t[13]=(0,n.Lk)("hr",null,null,-1))])))),128)),(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>s.addStep&&s.addStep(...e))},"Add New Step"),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>s.saveChatFlow&&s.saveChatFlow(...e))},"Save Chat Flow")])}a(44114),a(81454);var I={data(){return{chatFlow:[{objective:"greet",prompt:"greeting and get user name",message:"Hello! Welcome to our service. What's your name?",contextLabel:"",contextKey:"name",inputValidate:this.validateNonEmptyInput,validationMessage:"Please enter your name.",nextObjective:"getName",renameTrigger:!0},{objective:"getName",prompt:"hello client name and get user e-mail",message:"Nice to meet you, [context.name]! Can I have your email address?",contextKey:"email",contextLabel:"Name",inputValidate:this.validateEmail,validationMessage:"Please enter a valid email address.",nextObjective:"getEmail",renameTrigger:!1},{objective:"getEmail",prompt:"Thank user and get user phone",message:"Thanks, [context.name]. Could you also provide your phone number?",contextKey:"phone",contextLabel:"Email",inputValidate:this.validatePhone,validationMessage:"Please enter a valid phone number.",nextObjective:"getPhone",renameTrigger:!1},{objective:"getPhone",prompt:"Thank user and ask to your assistance [yes, no]",message:"Thanks, [context.name]! Would you like assistance with something else?",contextLabel:"Phone",contextKey:"assistanceChoice",conditionValidate:[{label:"yes",return:"offerHelp"},{label:"no",return:"endConversation"}],validationMessage:"Please answer with 'yes' or 'no'.",renameTrigger:!1},{objective:"offerHelp",prompt:"offer help options: [1.Product Support, 2.Sales Inquiry, 3.General Question] to user select",message:"Please select from the following options: \n1. Product Support \n2. Sales Inquiry \n3. General Question",contextKey:"helpType",conditionValidate:[{label:"1",return:"productSupport"},{label:"2",return:"salesInquiry"},{label:"3",return:"generalQuestion"}],validationMessage:"Please select a valid option (1, 2, or 3).",renameTrigger:!1},{objective:"productSupport",prompt:"ask user for product support help only",message:"For product support, please describe the issue you're facing.",contextKey:"productIssue",inputValidate:this.validateNonEmptyInput,validationMessage:"Please describe your issue.",nextObjective:"confirmInput",summaryLabel:"Product Issue",isAssistance:!0,renameTrigger:!1},{objective:"salesInquiry",prompt:"ask user for sale inquiry help only",message:"For sales inquiries, what product are you interested in?",contextKey:"productInterest",inputValidate:this.validateNonEmptyInput,validationMessage:"Please provide the product name or description.",nextObjective:"confirmInput",summaryLabel:"Product Interest",isAssistance:!0,renameTrigger:!1},{objective:"generalQuestion",prompt:"ask user for general question only",message:"Please ask your question, and I'll do my best to assist you.",contextKey:"generalQuestion",inputValidate:this.validateNonEmptyInput,validationMessage:"Please ask your question.",nextObjective:"confirmInput",summaryLabel:"General Question",isAssistance:!0,renameTrigger:!1},{objective:"confirmInput",prompt:"confirm user input data [yes, no]",message:'You said: "[context.currentStepContextValue]". Is that correct?',contextKey:"confirmation",conditionValidate:[{label:"yes",return:"moreQuestions"},{label:"no",return:this.getPreviousObjective}],validationMessage:"Please answer with 'yes' or 'no'.",renameTrigger:!1},{objective:"moreQuestions",prompt:"ask user for more question [yes, no]",message:"Do you have any more questions, [context.name]?",contextKey:"moreQuestions",conditionValidate:[{label:"yes",return:"offerHelp"},{label:"no",return:"endConversation"}],validationMessage:"Please answer with 'yes' or 'no'.",renameTrigger:!1},{objective:"endConversation",prompt:"thank user and tell no worry issue we will support soon and make summary from context_ai show user",message:["Thank you, [context.name]! Have a great day!","[summary]"],contextKey:null,validation:null,validationMessage:null,nextObjective:null,renameTrigger:!1}]}},computed:{objectiveList(){return this.chatFlow.map((e=>e.objective))}},methods:{validateNonEmptyInput(e){return e.trim().length>0},validateEmail(e){const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},validatePhone(e){const t=/^[0-9]{10}$/;return t.test(e)},addStep(){this.chatFlow.push({objective:"",prompt:"",message:"",contextLabel:"",contextKey:"",inputValidate:null,validationMessage:"",nextObjective:"",renameTrigger:!1,conditionValidate:[]})},addCondition(e){this.chatFlow[e].conditionValidate.push({label:"",return:""})},removeStep(e){this.chatFlow.splice(e,1)},saveChatFlow(){console.log("Chat Flow saved:",this.chatFlow)}}},K=a(64621);const X=(0,K.A)(I,[["render",j],["__scopeId","data-v-bd06978a"]]);var T=X,U={components:{Framework:r.A,ChatFlowBuilder:T},data(){return{loader:!0,title:"Live Support Chatflow",navigationData:[{name:"Add Note",function:"callFunction",style:"plus",class:"primary-btn",visible:!0,type:"call-function"}]}}};const S=(0,K.A)(U,[["render",i]]);var A=S,N=a(40475),_={name:"AdminList",components:{List:A},data(){return{login:N.A.get("session","login")}},methods:{showAlert(){this.$swal("Hello Vue world!!!")}},setup(){const e=(0,s.lq)(),t=e.meta.title;(0,l.K7)(t)}};const q=(0,K.A)(_,[["render",o]]);var M=q},72432:function(e,t,a){a.d(t,{A:function(){return H}});var n=a(20641);const o={key:0,class:"text-center"},l={key:1,class:"flex-1 pb-8 bg-gray-100 pt-2 pb-5"},s={class:"mt-4"},i={class:"mx-auto px-6 sm:px-6 lg:px-6"},r={class:"mt-4 flex flex-col"},u={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},d={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"};function c(e,t,a,c,p,m){const v=(0,n.g2)("Header"),g=(0,n.g2)("Loader");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(v,{navigation:a.navigation,title:a.title,onCallFunction:m.handleOpenPopup},null,8,["navigation","title","onCallFunction"]),a.loader?((0,n.uX)(),(0,n.CE)("div",l,[(0,n.Lk)("div",s,[(0,n.Lk)("div",i,[(0,n.Lk)("div",r,[(0,n.Lk)("div",u,[(0,n.Lk)("div",d,[(0,n.RG)(e.$slots,"default")])])])])])])):((0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(g)]))],64)}const p={class:""};function m(e,t,a,o,l,s){return(0,n.uX)(),(0,n.CE)("div",p,t[0]||(t[0]=[(0,n.Fv)('<div class="z-10 min-h-full w-full absolute top-0 overscroll-none bg-white px-4 py-16 sm:px-6 sm:py-24 md:grid md:place-items-center lg:px-8 loading-screen" data-v-66b391a3><div class="mx-auto max-w-max" data-v-66b391a3><main class="sm:flex" data-v-66b391a3><div class="sm:ml-6" data-v-66b391a3><div class="text-center" data-v-66b391a3><h3 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-3xl" data-v-66b391a3><div class="lds-ellipsis" data-v-66b391a3><div data-v-66b391a3></div><div data-v-66b391a3></div><div data-v-66b391a3></div><div data-v-66b391a3></div></div><div class="text-center" data-v-66b391a3>กำลังโหลดข้อมูล</div></h3><p class="mt-1 text-base text-gray-500" data-v-66b391a3>ระบบกำลังโหลดข้อมูล กรุณารอสักครู่.</p></div></div></main></div></div>',1)]))}var v={name:"Loader",components:{},methods:{}},g=a(64621);const b=(0,g.A)(v,[["render",m],["__scopeId","data-v-66b391a3"]]);var h=b,y=a(90033),f=a(53751);const k={class:"py-2 bg-white border-l border-r border-b border-1 border-gray-200"},x={class:"mx-auto px-4 sm:px-6 lg:px-8 xl:flex xl:items-center xl:justify-between"},L={class:"min-w-0 flex-1"},C={class:"mt-1 text-[18px] font-semibold leading-8 text-gray-700"},w={class:"mt-5 flex xl:mt-0 xl:ml-4"},F={class:"flex items-center space-x-2"},V={class:"text-sm text-gray-400"},E=["onUpdate:modelValue","placeholder","onChange"],P={value:"",disabled:""},j=["value"],I=["onClick"],K={class:"hidden sm:inline-block ml-1"},X=["onClick"],T={class:"hidden sm:inline-block ml-1"};function U(e,t,a,o,l,s){const i=(0,n.g2)("font-awesome-icon");return(0,n.uX)(),(0,n.CE)("header",k,[(0,n.Lk)("div",x,[(0,n.Lk)("div",L,[(0,n.Lk)("h1",C,[(0,n.bF)(i,{icon:["fas",this.PageIcon],class:"text-gray-500 text-[18px]"},null,8,["icon"]),(0,n.eW)(" "+(0,y.v_)(a.title?a.title:this.PageName),1)])]),(0,n.Lk)("div",w,[(0,n.Lk)("div",F,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.navigation,((t,a)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:a},["select"===t.type?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("label",V,(0,y.v_)(t.placeholder),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e=>t.value=e,class:"block w-36 py-2 px-3 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-md",placeholder:t.placeholder,onChange:a=>e.$emit("toggleStatus",t.value)},[(0,n.Lk)("option",P,"-- "+(0,y.v_)(t.placeholder)+" --",1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.options,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.value},(0,y.v_)(e.name),9,j)))),128))],40,E),[[f.u1,t.value]])],64)):"call-function"===t.type?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[!1!==t.visible?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:a=>e.$emit(t.function),type:"button",class:(0,y.C4)(s.getClasses(t.class))},[(0,n.bF)(i,{icon:["fas",`${t.style}`],class:(0,y.C4)({"text-gray-500 mr-2":"icon-btn"===t.class,"text-white":"primary-btn"===t.class})},null,8,["icon","class"]),(0,n.Lk)("span",K,(0,y.v_)(t.name),1)],10,I)):(0,n.Q3)("",!0)],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[!1!==t.visible?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:e=>s.handleNavigationClick(t),type:"button",class:(0,y.C4)(s.getClasses(t.class))},[(0,n.bF)(i,{icon:["fas",`${t.style}`],class:(0,y.C4)({"text-gray-500 mr-2":"icon-btn"===t.class,"text-white":"primary-btn"===t.class})},null,8,["icon","class"]),(0,n.Lk)("span",T,(0,y.v_)(t.name),1)],10,X)):(0,n.Q3)("",!0)],64))],64)))),128))])])])])}a(44114);var S=a(75220),A=a(52968),N=a(23264),_=a(93426),q={props:{navigation:{type:Array,default:()=>[]},title:{type:String,default:()=>null}},data(){const e=(0,S.lq)();return console.log("Translate",(0,_.Tl)("router-"+e.meta.parent+"-"+e.meta.key)),{PageName:(0,_.iX)(),PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page}},setup(){(0,A.K7)((0,_.iX)())},methods:{getClasses(e){const t=(0,N.c)(e);return`${t}`},handleNavigationClick(e){e.function?this.$emit(e.eventName||e.function):this.$router.push(e.link)}}};const M=(0,g.A)(q,[["render",U]]);var O=M,Q={components:{Loader:h,Header:O},props:{loader:{type:Boolean,default:!0,required:!0},title:{type:String,default:null,required:!0},navigation:{type:Array,required:!0}},methods:{handleOpenPopup(){this.$emit("callFunction")}}};const $=(0,g.A)(Q,[["render",c]]);var H=$},23264:function(e,t,a){function n(e){switch(e){case"input-plaintext":return"pl-0 focus:outline-none focus:ring-0 shadow-none border-0";case"primary-btn":return"px-4 py-2 text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"icon-btn":return"px-4 py-2 text-gray-700 bg-transparent hover:bg-transparent hover:text-gray-800";case"default-btn":return"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"danger-btn":return"px-4 py-2 text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"success-btn":return"px-4 py-2 text-white bg-green-600 rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-50";default:return""}}a.d(t,{c:function(){return n}})}}]);
//# sourceMappingURL=2051.39feda7f.js.map