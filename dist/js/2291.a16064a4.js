"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[2291],{22291:function(e,t,a){a.r(t),a.d(t,{default:function(){return et}});var s=a(20641);function n(e,t,a,n,i,o){return(0,s.uX)(),(0,s.Wv)((0,s.$y)(o.componentName))}var i=a(52968),o=a(75220),r=a(40475),l=(a(44114),a(53751)),c=a(90033);const d={key:1,class:"text-center"},u={key:2},g={class:"flex-1 pb-8 bg-gray-100 pt-2 pb-5 border-t"},m={class:"mt-8"},p={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},h={class:"mt-8 flex flex-col"},y={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},f={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},b={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},x={class:"min-w-full divide-y divide-gray-300"},k={class:"bg-gray-50"},v={class:"hidden md:block p-0 m-0 bg-gray-50 border-b border-gray-200 w-full"},C={colspan:"6",class:"p-3 m-0"},w={class:"grid grid-cols-5"},L={class:"col-span-3 flex items-center"},P={key:0,class:""},I={key:0,class:"text-left ml-2 text-gray-500"},E={class:"text-black font-semibold"},X={key:1,class:"text-left mt-2"},_={class:"col-span-2 flex items-center justify-end"},M=["value"],Q={class:"block md:hidden p-0 m-0 border-b border-gray-200"},S={colspan:"3",class:"p-3 m-0 text-center"},F={class:"mb-4 mx-auto max-w-full"},A={key:0,class:"mt-2 text-gray-500"},$={class:"text-black font-semibold"},T={key:1,class:"mt-2"},D={class:"flex justify-center"},j={class:"grid grid-cols-6 gap-1 p-2"},N={class:"col-span-6 md:col-span-3"},B={class:"flex items-center"},O={class:"mr-2 font-bold"},K=["src","alt"],W={class:"font-normal text-gray-500 text-sm"},q={class:"hidden md:block text-center text-gray-500"},R={class:"hidden md:block text-center"},H={class:"col-span-6 md:col-span-1"},U={class:"flex items-center justify-center sm:justify-end"},z={class:"text-center justify-center"},V=["onClick"],J=["onClick"],G={class:"grid grid-cols-3 pl-1 pr-1"},Y={class:"col-span-2"},Z={class:"font-medium mt-1"},ee=["href"],te={key:1,class:"text-xs font-medium bg-gray-600 pl-2 pr-2 pt-1 pb-1 mr-1 rounded text-white"},ae={class:"col-span-1 flex justify-end"},se={class:"mt-1 text-base font-medium pl-2 pr-2 pt-1 pb-1 mr-1 rounded text-gray-300"},ne={class:"p-0 m-0 bg-gray-50"},ie={colspan:"6",class:"p-3 m-0"},oe={class:"text-center"};function re(e,t,a,n,i,o){const r=(0,s.g2)("custom-confirmation"),re=(0,s.g2)("Loader"),le=(0,s.g2)("Subhead"),ce=(0,s.g2)("Pagination"),de=(0,s.g2)("router-link"),ue=(0,s.g2)("Price"),ge=(0,s.g2)("StatusLabel"),me=(0,s.g2)("font-awesome-icon"),pe=(0,s.gN)("custom-tooltip");return(0,s.uX)(),(0,s.CE)(s.FK,null,[i.showConfirmation?((0,s.uX)(),(0,s.Wv)(r,{key:0,type:i.confirmType,message:i.confirmMessage,header:i.confirmHeader,onConfirm:o.handleConfirmation,onCancel:o.handleConfirmCancel},null,8,["type","message","header","onConfirm","onCancel"])):(0,s.Q3)("",!0),i.loading_sources?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",d,[(0,s.bF)(re)])),i.loading_sources?((0,s.uX)(),(0,s.CE)("div",u,[(0,s.bF)(le,{navigation:[{name:"Select Status",function:"toggleStatus",style:"pencil",type:"select",value:this.statusFilter,placeholder:"เลือกสถานะ",options:[{name:"ทั้งหมด",value:"all"},{name:"เผยแพร่",value:!0},{name:"ไม่เผยแพร่",value:!1}]},{name:"เพิ่ม",link:"/lesson/add",style:"plus",class:"default-btn",visible:this.master,type:"button"},{name:this.master?"Child":"Master",function:"toggleMaster",style:"pencil",class:this.master?"success-btn":"danger-btn",type:"button"}],onToggleMaster:e.toggleMaster,onToggleStatus:o.toggleStatus},null,8,["navigation","onToggleMaster","onToggleStatus"]),(0,s.Lk)("div",g,[(0,s.Lk)("div",m,[(0,s.Lk)("div",p,[(0,s.Lk)("div",h,[(0,s.Lk)("div",y,[(0,s.Lk)("div",f,[(0,s.Lk)("div",b,[(0,s.Lk)("div",x,[(0,s.Lk)("div",k,[(0,s.Lk)("div",v,[(0,s.Lk)("div",C,[(0,s.Lk)("div",w,[(0,s.Lk)("div",L,[(0,s.bo)((0,s.Lk)("input",{id:"search",type:"text",class:"px-4 py-2 rounded-md border-gray-300 bg-white focus:outline-none",placeholder:"ค้นหา...","onUpdate:modelValue":t[0]||(t[0]=e=>i.searchQuery=e)},null,512),[[l.Jo,i.searchQuery]]),i.searchQuery.length>0?((0,s.uX)(),(0,s.CE)("div",P,[i.searchQuery.length>0?((0,s.uX)(),(0,s.CE)("div",I,[t[6]||(t[6]=(0,s.eW)(" ผลการค้นหา ")),(0,s.Lk)("span",E,(0,c.v_)(i.totalItems),1),t[7]||(t[7]=(0,s.eW)(" รายการ (s) "))])):((0,s.uX)(),(0,s.CE)("div",X,"ไม่พบข้อมูล"))])):(0,s.Q3)("",!0),i.searchQuery.length>0?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>o.clearSearchQuery&&o.clearSearchQuery(...e)),type:"button",class:"ml-2 text-blue-500 hover:underline focus:outline-none"},"Clear")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",_,[(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.limitItem=e),onChange:t[3]||(t[3]=(...e)=>o.handleLimitChange&&o.handleLimitChange(...e)),class:"block w-20 py-2 px-2 text-sm font-medium bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.limitOptions,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e,value:e},(0,c.v_)(e),9,M)))),128))],544),[[l.u1,i.limitItem]]),(0,s.bF)(ce,{"current-page":i.currentPage,"total-items":i.totalItems,"total-pages":i.totalPages,"limit-items":i.limitItem,"data-loading":i.loading,"display-mode":"nav",onPageChanged:o.handlePageChanged,class:"ml-2"},null,8,["current-page","total-items","total-pages","limit-items","data-loading","onPageChanged"])])])])]),(0,s.Lk)("div",Q,[(0,s.Lk)("div",S,[(0,s.Lk)("div",F,[(0,s.bo)((0,s.Lk)("input",{id:"search",type:"text",class:"w-full px-4 py-2 rounded-sm border-gray-300 bg-white focus:outline-none",placeholder:"ค้นหา...","onUpdate:modelValue":t[4]||(t[4]=e=>i.searchQuery=e)},null,512),[[l.Jo,i.searchQuery]]),i.searchQuery.length>0?((0,s.uX)(),(0,s.CE)("div",A,[t[8]||(t[8]=(0,s.eW)(" ผลการค้นหา ")),(0,s.Lk)("span",$,(0,c.v_)(i.totalItems),1),t[9]||(t[9]=(0,s.eW)(" รายการ (s) "))])):i.listItems.length<=0?((0,s.uX)(),(0,s.CE)("div",T,"ไม่พบข้อมูล")):(0,s.Q3)("",!0),i.searchQuery.length>0?((0,s.uX)(),(0,s.CE)("button",{key:2,onClick:t[5]||(t[5]=(...e)=>o.clearSearchQuery&&o.clearSearchQuery(...e)),type:"button",class:"ml-2 text-blue-500 hover:underline focus:outline-none"},"Clear")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",D,[(0,s.bF)(ce,{"current-page":i.currentPage,"total-items":i.totalItems,"total-pages":i.totalPages,"limit-items":i.limitItem,"data-loading":i.loading,"display-mode":"nav",onPageChanged:o.handlePageChanged},null,8,["current-page","total-items","total-pages","limit-items","data-loading","onPageChanged"])])])]),t[10]||(t[10]=(0,s.Fv)('<div class="grid grid-cols-2 md:grid-cols-6 p-2 bg-gray-200"><div class="col-span-1 md:col-span-3 text-center text-sm font-semibold text-gray-900">ชื่อสินค้า</div><div class="text-center text-sm font-semibold text-gray-900 hidden md:block">ราคา</div><div class="text-center text-sm font-semibold text-gray-900 hidden md:block">สถานะ</div><div class="text-center text-sm font-semibold text-gray-900">เครื่องมือ</div></div>',1))]),(0,s.Lk)("div",{class:(0,c.C4)(["divide-y divide-gray-300 bg-white relative",[e.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.listItems,((a,n)=>((0,s.uX)(),(0,s.CE)("div",{key:a._id,class:(0,c.C4)(n%2===0?"bg-gray-50 opacity-bg-gray-50":"bg-white")},[(0,s.Lk)("div",j,[(0,s.Lk)("div",N,[(0,s.bF)(de,{to:"/shop/product/"+a._id,class:"text-gray-700 hover:text-indigo-600"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",B,[(0,s.Lk)("div",O,(0,c.v_)((i.currentPage-1)*i.limitItem+n+1)+".",1),a.cover?((0,s.uX)(),(0,s.CE)("img",{key:0,src:a.cover,alt:a.title,class:"w-10 h-10 mr-2"},null,8,K)):(0,s.Q3)("",!0),(0,s.Lk)("div",null,[(0,s.eW)((0,c.v_)(a.name)+" ",1),(0,s.Lk)("p",W,(0,c.v_)(a.slug),1)])])])),_:2},1032,["to"])]),(0,s.Lk)("div",q,[(0,s.bF)(ue,{regular:a.regularPrice,sale:a.salePrice},null,8,["regular","sale"])]),(0,s.Lk)("div",R,[(0,s.bF)(ge,{check:a.status},null,8,["check"])]),(0,s.Lk)("div",H,[(0,s.Lk)("div",U,[(0,s.Lk)("div",z,[(0,s.bo)(((0,s.uX)(),(0,s.CE)("button",{onClick:t=>e.$router.push("/lesson/edit/"+a._id),type:"button",class:"mr-1 inline-flex justify-center rounded-sm border border-gray-300 bg-white px-1 py-1 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"},[(0,s.bF)(me,{icon:["fas","square-pen"],class:"w-3 h-3 text-gray-600 mr-1 mt-1"}),t[11]||(t[11]=(0,s.Lk)("span",null,"แก้ไข",-1))],8,V)),[[pe,{text:"test",position:"top"}]]),(0,s.Lk)("button",{onClick:e=>o.removeItem(a._id,a.master,a.name),type:"button",class:"mr-1 inline-flex justify-center rounded-sm border border-gray-300 bg-white px-1 py-1 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"},[(0,s.bF)(me,{icon:["fas","trash-can"],class:"w-3 h-3 text-gray-600 mr-1 mt-1"}),t[12]||(t[12]=(0,s.Lk)("span",null,"ลบ",-1))],8,J)])])])]),(0,s.Lk)("div",G,[(0,s.Lk)("div",Y,[(0,s.Lk)("p",Z,[Array.isArray(a.categoryData)&&a.categoryData.length>0?((0,s.uX)(!0),(0,s.CE)(s.FK,{key:0},(0,s.pI)(a.categoryData,((t,a)=>((0,s.uX)(),(0,s.CE)("a",{key:t._id,href:0!==a||e.isMobile?void 0:"#",class:(0,c.C4)(["text-xs font-medium bg-indigo-600 pl-2 pr-2 pt-1 pb-1 mr-1 rounded text-white",{"hidden sm:inline-block":a>0||e.isMobile}])},(0,c.v_)(t.name),11,ee)))),128)):((0,s.uX)(),(0,s.CE)("span",te,"ยังไม่มีหมวดหมู่"))])]),(0,s.Lk)("div",ae,[(0,s.Lk)("span",se,(0,c.v_)(a.option)+" / "+(0,c.v_)(a.type),1)])])],2)))),128)),(0,s.Lk)("div",ne,[(0,s.Lk)("div",ie,[(0,s.Lk)("div",oe,[(0,s.bF)(ce,{"current-page":i.currentPage,"total-items":i.totalItems,"total-pages":i.totalPages,"limit-items":i.limitItem,"data-loading":i.loading,"display-mode":"summary",onPageChanged:o.handlePageChanged},null,8,["current-page","total-items","total-pages","limit-items","data-loading","onPageChanged"])])])])],2)])])])])])])])])])):(0,s.Q3)("",!0)],64)}a(98992),a(54520),a(14603),a(47566),a(98721);var le=a(59911),ce=a.n(le),de=a(75435),ue=a(39833),ge=a(87431),me=a(87814),pe=a(38558),he=a(77528),ye={data(){const e=(0,o.lq)(),t=r.A.get("session"),a=r.A.get("configs"),s=a;return{schoolSession:s,PageName:e.meta.title,PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page,school:t.current.id,login:t.login,listItems:[],categoryData:[],loading_sources:!0,pages:0,current:0,total:0,next:!0,prev:!1,MasterText:t.MasterText,endpoint:"",master:t.master,accessToken:r.A.get("session","token"),configs:r.A.get("configs"),session:r.A.get("session"),limitItem:20,limitOptions:[10,20,50,100,200,500,1e3,2e3],currentPage:1,totalPages:0,totalItems:0,loading:!1,showingOverlay:!1,searchQuery:"",statusFilter:"all",typeFilter:"all",confirmMessage:"",confirmHeader:"",confirmType:"",showConfirmation:!1,confirmData:null}},components:{Loader:de.A,StatusLabel:ue.A,Price:ge.A,Subhead:me.A,Pagination:pe.A,CustomConfirmation:he.A},methods:{removeItem(e,t,a){this.confirmMessage='คุณต้องการลบหลักสูตร <br> <small class="text-gray-400">'+a+'</small></br><span class="text-red-500">* หลังจากลบแล้วจะไม่สามารถกู้คืนได้</span>',this.confirmHeader="ยืนยันการทำรายการ",this.confirmData={item:e,master:t},this.confirmType="warning",this.showConfirmation=!0},confirmRemoveItem(){const{item:e,master:t}=this.confirmData;console.log("Delete",e),this.deleteData(e,t),this.handleConfirmCancel()},handleConfirmation(){this.confirmData&&this.confirmRemoveItem()},handleConfirmCancel(){this.confirmData=null,this.confirmMessage="",this.confirmHeader="",this.confirmType="",this.showConfirmation=!1},showOverlay(){this.showingOverlay=!0},hideOverlay(){this.showingOverlay=!1},objectFindByKey(e,t,a){for(var s=0;s<e.length;s++)if(e[s][t]===a)return e[s];return null},getCategoryName(e){const t=this.objectFindByKey(this.categoryData,"code",e);return t?t.name:""},slugify(e){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();for(var t="àáãäâèéëêìíïîòóöôùúüûñç·/_,:;",a="aaaaaeeeeiiiioooouuuunc------",s=0,n=t.length;s<n;s++)e=e.replace(new RegExp(t.charAt(s),"g"),a.charAt(s));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),e},handleLimitChange(){const e=r.A.get("session");e.limitItem=this.limitItem,r.A.set("session",e),this.currentPage=1,e.currentPage=this.currentPage,r.A.set("session",e);const t=new URLSearchParams(window.location.search);t.set("page",e.currentPage);const a=`${window.location.pathname}?${t.toString()}`;window.history.replaceState({},"",a),console.log("getdata","handleLimitChange"),this.getData()},handlePageChanged(e){if(e!==this.currentPage){window.scrollTo(0,0),this.currentPage=e;const t=r.A.get("session");t.currentPage=this.currentPage,r.A.set("session",t),console.log("getdata","handlePageChanged"),this.getData()}},clearSearchQuery(){this.searchQuery="";const e=r.A.get("session");e.searchQuery="",r.A.set("session",e),console.log("getdata","clearSearchQuery"),this.getData()},async getData(){if(console.log("getData",this.login),this.login)try{this.loading=!0,this.activeBlock=!0;let e=[{unit:this.session.current._id,type:"main"}];"all"!==this.typeFilter&&e.push({type:this.typeFilter}),"all"!==this.statusFilter&&e.push({status:this.statusFilter}),this.searchQuery&&e.push({name:{$regex:`.*${this.searchQuery}.*`,$options:"i"}});const t=[{$match:{$and:e}},{$sort:{status:-1,type:1,createdAt:-1}},{$lookup:{from:"shop_category",localField:"category",foreignField:"code",as:"categoryData"}},{$facet:{paginatedData:[{$skip:(this.currentPage-1)*this.limitItem},{$limit:this.limitItem}],totalCount:[{$count:"count"}]}}],a=await fetch("https://gateway.cloudrestfulapi.com/api/product/aggregate",{method:"POST",headers:{"Content-Type":"application/json","client-token-key":this.configs.key},body:JSON.stringify({pipeline:t})}),s=await a.json();if(s){const e=s[0].paginatedData,t=s[0].totalCount[0].count,a={data:e,total:t,paging:{page:this.currentPage,limit:this.limitItem,totalPages:Math.ceil(t/this.limitItem)}};this.listItems=a.data,this.totalItems=a.total,this.totalPages=a.paging.totalPages,this.loading=!1,this.activeBlock=!1}}catch(e){console.log(e)}},async deleteData(e){if(this.login)try{this.loading_sources=!1,console.log("id",e);const t=await fetch("https://gateway.cloudrestfulapi.com/api/product/"+e,{method:"DELETE",headers:{"Content-Type":"application/json","client-token-key":this.configs.key}});console.log(t),this.loading_sources=!0,await this.getData()}catch(t){console.log(t)}},updated(){ce().replace()},toggleStatus(e){console.log("Toggle Status",e),this.statusFilter=e,this.getData()}},async mounted(){try{const e=new URLSearchParams(window.location.search),t=e.get("page");if(t&&/^\d+$/.test(t))this.currentPage=parseInt(t);else{const e=r.A.get("session");if(e&&e.currentPage){this.currentPage=e.currentPage;const t=new URLSearchParams(window.location.search);t.set("page",e.currentPage);const a=`${window.location.pathname}?${t.toString()}`;window.history.replaceState({},"",a)}}const a=r.A.get("session");a&&a.searchQuery&&(this.searchQuery=a.searchQuery);const s=a.limitItem;s&&(this.limitItem=s),await this.getData()}catch(e){console.log(Error)}},setup(){},watch:{searchQuery(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((()=>{this.getData();const e=r.A.get("session");e.searchQuery=this.searchQuery,r.A.set("session",e),this.currentPage=1;const t=new URLSearchParams(window.location.search);t.set("page",e.currentPage);const a=`${window.location.pathname}?${t.toString()}`;window.history.replaceState({},"",a)}),500)}},computed:{filteredListItems(){return"All"===this.selectedStatus?this.listItems:this.listItems.filter((e=>e.status===this.selectedStatus))}}},fe=a(64621);const be=(0,fe.A)(ye,[["render",re]]);var xe=be;const ke={class:"bg-gray-100 border-b border-gray-200"},ve={key:0,class:"mx-auto max-w-2xl px-4 pt-3 pb-3 sm:px-18 sm:pt-3 sm:pb-3 d lg:max-w-7xl"},Ce={class:"flex items-center justify-between"},we={class:"relative inline-block text-left"},Le={key:0,class:"absolute left-0 z-10 mt-2 w-40 origin-top-left rounded-md bg-white shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"sort-menu-button",tabindex:"-1"},Pe={class:"hidden sm:flex sm:items-baseline sm:space-x-8"},Ie={id:"category-menu",class:"relative inline-block text-left"},Ee={class:"ml-1.5 rounded bg-gray-200 px-1.5 py-0.5 text-xs font-semibold tabular-nums text-gray-700"},Xe={key:0,class:"absolute right-0 z-10 mt-2 origin-top-right rounded-md bg-white p-4 shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none"},_e={class:"space-y-4"},Me=["id","value","onChange"],Qe=["for"],Se={key:1,class:"mx-auto max-w-2xl px-4 pt-3 pb-3 sm:px-18 sm:pt-3 sm:pb-3 d lg:max-w-7xl"},Fe={class:"flex items-center justify-between"},Ae={class:"relative inline-block text-left"},$e={key:0,class:"absolute left-0 z-10 mt-2 w-40 origin-top-left rounded-md bg-white p-4 shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"sort-menu-button",tabindex:"-1"},Te={class:"space-y-4"},De=["id","value","onChange"],je=["for"],Ne={class:"mx-auto max-w-3xl px-2 sm:px-3 lg:max-w-7xl lg:px-4 mb-12"},Be={"aria-labelledby":"products-heading",class:"mt-8"},Oe={class:"grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8"},Ke={key:0,class:"absolute top-2 right-2 z-10 px-2 py-1 bg-red-500 text-white text-xs rounded"},We={class:"mt-4"},qe={class:"mt-3 text-lg text-gray-900 flex-grow"},Re=["innerHTML"];function He(e,t,a,n,i,o){const r=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("main",null,[(0,s.Lk)("div",ke,["desktop"===this.deviceType?((0,s.uX)(),(0,s.CE)("div",ve,[(0,s.Lk)("div",Ce,[(0,s.Lk)("div",we,[(0,s.Lk)("div",null,[(0,s.Lk)("button",{type:"button",class:"group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900",id:"sort-menu-button","aria-expanded":"false","aria-haspopup":"true",onClick:t[0]||(t[0]=(...e)=>o.toggleSortMenu&&o.toggleSortMenu(...e))},t[3]||(t[3]=[(0,s.eW)(" เรียงสินค้า "),(0,s.Lk)("svg",{class:"-mr-1 ml-1 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1)]))]),i.sortMenuOpen?((0,s.uX)(),(0,s.CE)("div",Le,t[4]||(t[4]=[(0,s.Lk)("div",{class:"py-1",role:"none"},[(0,s.Lk)("a",{href:"#",class:"block px-4 py-2 text-sm font-medium text-gray-900",role:"menuitem",tabindex:"-1",id:"sort-menu-item-0"},"Most Popular"),(0,s.Lk)("a",{href:"#",class:"block px-4 py-2 text-sm font-medium text-gray-900",role:"menuitem",tabindex:"-1",id:"sort-menu-item-1"},"Best Rating"),(0,s.Lk)("a",{href:"#",class:"block px-4 py-2 text-sm font-medium text-gray-900",role:"menuitem",tabindex:"-1",id:"sort-menu-item-2"},"Newest"),(0,s.Lk)("a",{href:"#",class:"block px-4 py-2 text-sm font-medium text-gray-900",role:"menuitem",tabindex:"-1",id:"sort-menu-item-3"},"Price: Low to High"),(0,s.Lk)("a",{href:"#",class:"block px-4 py-2 text-sm font-medium text-gray-900",role:"menuitem",tabindex:"-1",id:"sort-menu-item-4"},"Price: High to Low")],-1)]))):(0,s.Q3)("",!0)]),t[7]||(t[7]=(0,s.Lk)("div",{class:"inline-block text-sm font-bold text-gray-700"},"รายการสินค้า",-1)),(0,s.Lk)("div",Pe,[(0,s.Lk)("div",Ie,[(0,s.Lk)("div",null,[(0,s.Lk)("button",{type:"button",class:"group inline-flex items-center justify-center text-sm font-medium text-gray-700 hover:text-gray-900","aria-expanded":"false",onClick:t[1]||(t[1]=(...e)=>o.toggleCategoryMenu&&o.toggleCategoryMenu(...e))},[t[5]||(t[5]=(0,s.Lk)("span",null,"หมวดหมู่สินค้า",-1)),(0,s.Lk)("span",Ee,(0,c.v_)(i.selectedCategories.length),1),t[6]||(t[6]=(0,s.Lk)("svg",{class:"-mr-1 ml-1 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1))])]),i.categoryMenuOpen?((0,s.uX)(),(0,s.CE)("div",Xe,[(0,s.Lk)("form",_e,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.categories,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"flex items-center"},[(0,s.Lk)("input",{id:`filter-category-${e.id}`,name:"category[]",value:e.value,type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",onChange:t=>o.toggleCategory(e.value)},null,40,Me),(0,s.Lk)("label",{for:`filter-category-${e.id}`,class:"ml-3 whitespace-nowrap pr-6 text-sm font-medium text-gray-900"},(0,c.v_)(e.label),9,Qe)])))),128))])])):(0,s.Q3)("",!0)])])])])):(0,s.Q3)("",!0),"mobile"===this.deviceType?((0,s.uX)(),(0,s.CE)("div",Se,[(0,s.Lk)("div",Fe,[(0,s.Lk)("div",Ae,[(0,s.Lk)("div",null,[(0,s.Lk)("button",{type:"button",class:"group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900",id:"sort-menu-button","aria-expanded":"false","aria-haspopup":"true",onClick:t[2]||(t[2]=(...e)=>o.toggleCategoryMenu&&o.toggleCategoryMenu(...e))},t[8]||(t[8]=[(0,s.eW)(" หมวดหมู่สินค้า "),(0,s.Lk)("svg",{class:"-mr-1 ml-1 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,s.Lk)("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z","clip-rule":"evenodd"})],-1)]))]),i.categoryMenuOpen?((0,s.uX)(),(0,s.CE)("div",$e,[(0,s.Lk)("form",Te,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.categories,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"flex items-center"},[(0,s.Lk)("input",{id:`filter-category-${e.id}`,name:"category[]",value:e.value,type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",onChange:t=>o.toggleCategory(e.value)},null,40,De),(0,s.Lk)("label",{for:`filter-category-${e.id}`,class:"ml-3 whitespace-nowrap pr-6 text-sm font-medium text-gray-900"},(0,c.v_)(e.label),9,je)])))),128))])])):(0,s.Q3)("",!0)]),t[9]||(t[9]=(0,s.Lk)("div",{class:"inline-block text-sm font-bold text-gray-700"},"รายการสินค้า",-1))])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Ne,[(0,s.Lk)("section",Be,[t[11]||(t[11]=(0,s.Lk)("h2",{id:"products-heading",class:"sr-only"},"Products",-1)),(0,s.Lk)("div",Oe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.products,(e=>((0,s.uX)(),(0,s.Wv)(r,{key:e._id,to:"/shop/product/"+e._id,class:"group relative flex flex-col justify-between"},{default:(0,s.k6)((()=>[e.regularPrice>e.salePrice&&e.salePrice>0?((0,s.uX)(),(0,s.CE)("span",Ke,"Sale")):(0,s.Q3)("",!0),t[10]||(t[10]=(0,s.Lk)("div",{class:"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-lg sm:aspect-h-3 sm:aspect-w-2"},[(0,s.Lk)("img",{src:"https://tailwindui.com/img/ecommerce-images/product-page-01-featured-product-shot.jpg",alt:"Person using a pen to cross a task off a productivity paper card.",class:"h-full w-full object-cover object-center group-hover:opacity-75"})],-1)),(0,s.Lk)("div",We,[(0,s.Lk)("h3",{class:(0,c.C4)(["text-base","h-12","font-medium","text-gray-900","clamp-lines-2",{"align-top":e.name.length<26}])},(0,c.v_)(e.name),3),(0,s.Lk)("p",qe,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.formatPrice(e.regularPrice,e.salePrice),((e,t)=>((0,s.uX)(),(0,s.CE)("span",{key:t,class:(0,c.C4)(e.size),innerHTML:e.text},null,10,Re)))),128))])])])),_:2},1032,["to"])))),128))])])])])}var Ue=a(9964),ze=a(57313),Ve={data(){return{configs:r.A.get("configs"),deviceType:ze.A.deviceDetect(),sortMenuOpen:!1,categoryMenuOpen:!1,categories:[{id:0,value:"tees",label:"Tees"},{id:1,value:"crewnecks",label:"Crewnecks"},{id:2,value:"hats",label:"Hats"},{id:3,value:"bundles",label:"Bundles"},{id:4,value:"carry",label:"Carry"},{id:5,value:"objects",label:"Objects"}],selectedCategories:[],products:[]}},async mounted(){try{await this.getProductData()}catch(e){console.log(e)}},methods:{toggleSortMenu(){this.sortMenuOpen=!this.sortMenuOpen},toggleCategoryMenu(){this.categoryMenuOpen=!this.categoryMenuOpen},toggleCategory(e){const t=this.selectedCategories.indexOf(e);t>-1?this.selectedCategories.splice(t,1):this.selectedCategories.push(e)},formatPrice(e,t){return Ue.A.formatPriceRaw(e,t)},async getProductData(){try{const e=await fetch("https://gateway.cloudrestfulapi.com/api/product/query",{method:"POST",headers:{"Content-Type":"application/json","client-token-key":this.configs.key},body:JSON.stringify({method:"find",args:[{$and:[{unit:this.configs.siteID,type:"main"}]}],paging:{page:1,limit:200}})});if(e.ok){const t=await e.json();this.products=t.data}}catch(e){console.error(e)}}}};const Je=(0,fe.A)(Ve,[["render",He]]);var Ge=Je,Ye={name:"Product Index",components:{Backend:xe,Frontend:Ge},data(){return{session:r.A.get("session")}},setup(){const e=(0,o.lq)(),t=e.meta.title;(0,i.K7)(t)},computed:{componentName(){return"backend"===this.session.interface?"Backend":"frontend"===this.session.interface?"Frontend":(console.error("Invalid interface:",this.session.interface),null)}}};const Ze=(0,fe.A)(Ye,[["render",n]]);var et=Ze},87431:function(e,t,a){a.d(t,{A:function(){return c}});var s=a(20641),n=a(90033);function i(e,t,a,i,o,r){return(0,s.uX)(),(0,s.CE)("span",null,(0,n.v_)(r.formatPrice(this.regular_price))+" ฿ / "+(0,n.v_)(r.formatPrice(this.sale_price))+" ฿ ",1)}var o={props:["regular","sale"],components:{},data(){return{regular_price:this.regular,sale_price:this.sale||"0"}},methods:{formatPrice(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}}},r=a(64621);const l=(0,r.A)(o,[["render",i]]);var c=l},39833:function(e,t,a){a.d(t,{A:function(){return g}});var s=a(20641),n=a(90033);const i={key:0,class:"text-xs font-medium bg-emerald-600 pl-2 pr-2 pt-1 pb-1 ml-5 text-white"},o={key:1,class:"text-xs font-medium bg-rose-600 pl-2 pr-2 pt-1 pb-1 ml-5 text-white"};function r(e,t,a,r,l,c){const d=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)(s.FK,null,[a.check?((0,s.uX)(),(0,s.CE)("span",i,[(0,s.bF)(d,{icon:["fas","check"],class:"text-white"}),(0,s.eW)(" "+(0,n.v_)(c.translate("general-public")),1)])):(0,s.Q3)("",!0),a.check?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("span",o,[(0,s.bF)(d,{icon:["fas","times"],class:"text-white"}),(0,s.eW)(" "+(0,n.v_)(c.translate("general-unpublic")),1)]))],64)}var l=a(93426),c={props:["check"],components:{},data(){return{}},methods:{translate:l.Tl}},d=a(64621);const u=(0,d.A)(c,[["render",r]]);var g=u},87814:function(e,t,a){a.d(t,{A:function(){return _}});var s=a(20641),n=a(90033),i=a(53751);const o={class:"py-2 bg-white border-l border-r border-b border-1 border-gray-200"},r={class:"mx-auto px-2 sm:px-6 lg:px-6 xl:flex xl:items-center xl:justify-between"},l={class:"min-w-0 flex-1"},c={class:"mt-1 text-[18px] font-semibold leading-8 text-gray-700"},d={key:0,class:"text-sm text-gray-500"},u={class:"mt-5 flex xl:mt-0 xl:ml-4"},g={class:"flex items-center space-x-2"},m={class:"text-sm text-gray-400"},p=["onUpdate:modelValue","placeholder","onChange"],h={value:"",disabled:""},y=["value"],f=["onClick"],b={class:"text-sm hidden sm:inline-block ml-1"},x=["onClick"],k={class:"text-sm hidden sm:inline-block ml-1"};function v(e,t,a,v,C,w){const L=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("header",o,[(0,s.Lk)("div",r,[(0,s.Lk)("div",l,[(0,s.Lk)("h1",c,[(0,s.bF)(L,{icon:["fas",this.PageIcon],class:"text-gray-500 text-[18px]"},null,8,["icon"]),(0,s.eW)(" "+(0,n.v_)(a.pageTitle?a.pageTitle:this.PageName),1)]),a.subhead?((0,s.uX)(),(0,s.CE)("p",d,(0,n.v_)(a.subhead),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",u,[(0,s.Lk)("div",g,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.navigation,((t,a)=>((0,s.uX)(),(0,s.CE)(s.FK,{key:a},["select"===t.type?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("label",m,(0,n.v_)(t.placeholder),1),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e=>t.value=e,class:"block w-36 py-2 px-3 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-md",placeholder:t.placeholder,onChange:a=>e.$emit("toggleStatus",t.value)},[(0,s.Lk)("option",h,"-- "+(0,n.v_)(t.placeholder)+" --",1),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.options,((e,t)=>((0,s.uX)(),(0,s.CE)("option",{key:t,value:e.value},(0,n.v_)(e.name),9,y)))),128))],40,p),[[i.u1,t.value]])],64)):"call-function"===t.type?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[!1!==t.visible?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:a=>e.$emit(t.function),type:"button",class:(0,n.C4)(w.getClasses(t.class))},[(0,s.bF)(L,{icon:["fas",`${t.style}`],class:(0,n.C4)({"text-gray-500 mr-2":"icon-btn"===t.class,"text-white":"primary-btn"===t.class})},null,8,["icon","class"]),(0,s.Lk)("span",b,(0,n.v_)(t.name),1)],10,f)):(0,s.Q3)("",!0)],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:2},[!1!==t.visible?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:e=>w.handleNavigationClick(t),type:"button",class:(0,n.C4)(w.getClasses(t.class))},[(0,s.bF)(L,{icon:["fas",`${t.style}`],class:(0,n.C4)({"text-gray-500 mr-2":"icon-btn"===t.class,"text-white":"primary-btn"===t.class})},null,8,["icon","class"]),(0,s.Lk)("span",k,(0,n.v_)(t.name),1)],10,x)):(0,s.Q3)("",!0)],64))],64)))),128))])])])])}a(44114);var C=a(75220),w=a(52968),L=a(23264),P=a(93426),I={props:{navigation:{type:Array,default:()=>[]},pageTitle:{type:String,default:()=>null},subhead:{type:String,default:()=>null}},data(){const e=(0,C.lq)();return console.log("Translate",(0,P.Tl)("router-"+e.meta.parent+"-"+e.meta.key)),{PageName:(0,P.iX)(),PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page}},setup(){(0,w.K7)((0,P.iX)())},methods:{getClasses(e){const t=(0,L.c)(e);return`${t}`},handleNavigationClick(e){e.function?this.$emit(e.eventName||e.function):this.$router.push(e.link)}}},E=a(64621);const X=(0,E.A)(I,[["render",v]]);var _=X},77528:function(e,t,a){a.d(t,{A:function(){return f}});var s=a(20641),n=a(53751),i=a(90033);const o={class:"w-[420px] bg-white shadow-xl border border-gray-200 rounded-lg overflow-hidden confirmation-modal",tabindex:"0"},r={class:"bg-white border-b border-gray-200 px-4 py-3"},l={class:"flex items-center space-x-2"},c={class:"text-base font-semibold text-gray-900"},d={class:"px-4 py-4"},u=["innerHTML"],g={class:"bg-gray-50 border-t border-gray-200 px-4 py-3 flex items-center justify-end space-x-2"};function m(e,t,a,m,p,h){const y=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",{class:"z-20 fixed inset-0 flex items-center justify-center",onKeydown:[t[2]||(t[2]=(0,n.jR)(((...e)=>h.confirmDeletion&&h.confirmDeletion(...e)),["enter"])),t[3]||(t[3]=(0,n.jR)(((...e)=>h.cancelDeletion&&h.cancelDeletion(...e)),["esc"]))],ref:"popupContainer",tabindex:"0"},[t[6]||(t[6]=(0,s.Lk)("div",{class:"fixed inset-0 bg-black bg-opacity-50"},null,-1)),(0,s.Lk)("div",o,[(0,s.Lk)("div",r,[(0,s.Lk)("div",l,[(0,s.Lk)("div",{class:(0,i.C4)(["w-6 h-6 rounded-md flex items-center justify-center",h.iconBadgeClass])},[(0,s.bF)(y,{icon:h.iconType,class:"h-3 w-3 text-white"},null,8,["icon"])],2),(0,s.Lk)("div",null,[(0,s.Lk)("h2",c,(0,i.v_)(a.header),1),t[4]||(t[4]=(0,s.Lk)("p",{class:"text-xs text-gray-500"},"โปรดยืนยันการดำเนินการ",-1))])])]),(0,s.Lk)("div",d,[(0,s.Lk)("div",{class:"text-sm text-gray-700 leading-relaxed",innerHTML:a.message},null,8,u)]),(0,s.Lk)("div",g,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>h.cancelDeletion&&h.cancelDeletion(...e)),class:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors"}," ยกเลิก "),(0,s.Lk)("button",{class:(0,i.C4)([h.confirmButtonClass,"px-3 py-1.5 text-sm font-medium text-white border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors"]),onClick:t[1]||(t[1]=(...e)=>h.confirmDeletion&&h.confirmDeletion(...e))},[(0,s.bF)(y,{icon:["fas","check"],class:"h-3.5 w-3.5 mr-1.5"}),t[5]||(t[5]=(0,s.eW)(" ตกลง "))],2)])])],544)}var p={props:{header:{type:String,required:!0},message:{type:String,required:!0},type:{type:String,default:"default"}},mounted(){this.$refs.popupContainer.focus()},computed:{iconType(){return"warning"===this.type?["fas","exclamation-triangle"]:"success"===this.type?["fas","check-circle"]:"information"===this.type?["fas","info-circle"]:["fas","question-circle"]},iconBadgeClass(){return"warning"===this.type?"bg-red-500":"success"===this.type?"bg-green-500":"information"===this.type?"bg-blue-500":"bg-gray-500"},confirmButtonClass(){return"warning"===this.type?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"success"===this.type?"bg-green-600 hover:bg-green-700 focus:ring-green-500":"information"===this.type?"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500":"bg-gray-600 hover:bg-gray-700 focus:ring-gray-500"}},methods:{confirmDeletion(){this.$emit("confirm")},cancelDeletion(){this.$emit("cancel")}}},h=a(64621);const y=(0,h.A)(p,[["render",m],["__scopeId","data-v-9ba66394"]]);var f=y},38558:function(e,t,a){a.d(t,{A:function(){return _}});var s=a(20641),n=a(90033);const i={class:"flex flex-col justify-center items-center h-full"},o={key:0,class:"flex flex-wrap justify-center"},r=["disabled"],l={key:0,class:"font-medium"},c=["disabled"],d=["onClick","disabled"],u={key:1,class:"font-medium"},g=["disabled"],m=["disabled"],p={key:1,class:"text-sm text-gray-400 text-center"},h={class:"font-medium"},y={class:"text-gray-600"},f={class:"font-medium"},b={class:"text-gray-600"},x={class:"font-medium"},k={class:"text-gray-600"},v={class:"font-medium"},C={class:"text-gray-600"};function w(e,t,a,w,L,P){const I=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("div",i,["nav"===a.displayMode||"full"===a.displayMode?((0,s.uX)(),(0,s.CE)("ul",o,[(0,s.Lk)("li",{class:(0,n.C4)({"opacity-50 cursor-not-allowed":1===L.activePage})},[(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>P.handleButtonClick(L.activePage-1)),disabled:a.dataLoading||L.buttonClicked,class:"block px-2 py-2 rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"},[(0,s.bF)(I,{icon:["fas","chevron-left"],class:"text-gray-700 pl-1 pr-1 text-md"})],8,r)],2),L.activePage>2?((0,s.uX)(),(0,s.CE)("li",l,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>P.handleButtonClick(1)),disabled:a.dataLoading||L.buttonClicked,class:"block px-2 py-2 ml-1 mr-1 text-sm text-gray-700 rounded-md hover:bg-indigo-100"}," หน้าแรก ",8,c)])):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(P.pages,(e=>((0,s.uX)(),(0,s.CE)("li",{key:e,class:(0,n.C4)([{"bg-indigo-100 ml-1 mr-1 rounded-md border-indigo-500 text-indigo-600 font-semibold":L.activePage===e},"font-medium"])},[(0,s.Lk)("button",{onClick:t=>P.handleButtonClick(e),disabled:a.dataLoading||L.buttonClicked,class:"block px-2 py-2 ml-1 mr-1 text-sm text-gray-700 rounded-md hover:bg-indigo-100"},(0,n.v_)(e.toString().padStart(2,"0")),9,d)],2)))),128)),L.activePage<a.totalPages-1?((0,s.uX)(),(0,s.CE)("li",u,[(0,s.Lk)("button",{onClick:t[2]||(t[2]=e=>P.handleButtonClick(a.totalPages)),disabled:a.dataLoading||L.buttonClicked,class:"block px-2 py-2 ml-1 mr-1 text-sm text-gray-700 rounded-md hover:bg-indigo-100"}," หน้าสุดท้าย ",8,g)])):(0,s.Q3)("",!0),(0,s.Lk)("li",{class:(0,n.C4)({"opacity-50 cursor-not-allowed":L.activePage===a.totalPages})},[(0,s.Lk)("button",{onClick:t[3]||(t[3]=e=>P.handleButtonClick(L.activePage+1)),disabled:a.dataLoading||L.buttonClicked,class:"block px-2 py-2 rounded-md border border-gray-300 bg-white px-2 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50"},[(0,s.bF)(I,{icon:["fas","chevron-right"],class:"text-gray-700 pl-1 pr-1 text-md"})],8,m)],2)])):(0,s.Q3)("",!0),"summary"===a.displayMode||"full"===a.displayMode?((0,s.uX)(),(0,s.CE)("div",p,[(0,s.eW)((0,n.v_)(P.translate("paging-display"))+" ",1),(0,s.Lk)("span",h,[(0,s.Lk)("span",y,(0,n.v_)(P.startItem),1)]),(0,s.eW)(" "+(0,n.v_)(P.translate("paging-to"))+" ",1),(0,s.Lk)("span",f,[(0,s.Lk)("span",b,(0,n.v_)(P.endItem),1)]),t[4]||(t[4]=(0,s.eW)(" / ")),(0,s.Lk)("span",x,[(0,s.Lk)("span",k,(0,n.v_)(P.formatNumber(a.totalPages)),1)]),(0,s.eW)(" "+(0,n.v_)(P.translate("paging-page"))+" | "+(0,n.v_)(P.translate("paging-from"))+" ",1),(0,s.Lk)("span",v,[(0,s.Lk)("span",C,(0,n.v_)(P.formatNumber(a.totalItems)),1)]),(0,s.eW)(" "+(0,n.v_)(P.translate("paging-item")),1)])):(0,s.Q3)("",!0)])}a(44114),a(14603),a(47566),a(98721);var L=a(9964),P=a(93426),I={props:{currentPage:{type:Number,required:!0},dataLoading:{type:Boolean,required:!0},displayMode:{type:String,required:!0,default:"full"},totalPages:{type:Number,required:!0},totalItems:{type:Number,required:!0},limitItems:{type:Number,required:!0}},data(){return{activePage:this.currentPage,buttonClicked:!1}},computed:{pages(){if(window.innerWidth>=600){const e=Math.max(this.activePage-2,1),t=Math.min(this.activePage+2,this.totalPages);let a=[];for(let s=e;s<=t;s++)a.push(s);return a}{let e=Math.max(this.activePage-1,1),t=Math.min(e+2,this.totalPages);t-e<2&&(e=Math.max(t-2,1));let a=[];for(let s=e;s<=t;s++)a.push(s);return a}},startItem(){return(this.activePage-1)*this.limitItems+1},endItem(){return Math.min(this.activePage*this.limitItems,this.totalItems)}},methods:{translate:P.Tl,formatNumber(e){return L.A.formatNumber(e,"short")},goToPage(e){if(e<1||e>this.totalPages)return;const t=new URLSearchParams(window.location.search),a=t.get("searchQuery");let s="";e>1&&a?s=`?page=${e}&searchQuery=${a}`:e>1?s=`?page=${e}`:a&&(s=`?searchQuery=${a}`);const n=`${window.location.pathname}${s||""}`;window.history.pushState({path:n},"",n),this.activePage=e,this.$emit("page-changed",e)},handleButtonClick(e){this.buttonClicked||(this.buttonClicked=!0,this.goToPage(e),setTimeout((()=>{this.buttonClicked=!1}),1e3))}},watch:{currentPage(e){this.activePage=e},activePage(e){this.$emit("page-changed",e)},$route(){}},created(){const e=new URLSearchParams(window.location.search),t=e.get("page");if(t){const e=parseInt(t);isNaN(e)||this.goToPage(e)}}},E=a(64621);const X=(0,E.A)(I,[["render",w]]);var _=X},57313:function(e,t){class a{isMobile(){return window.innerWidth<=768}deviceDetect(){return this.isMobile()?"mobile":"desktop"}}const s=new a;t.A=s},23264:function(e,t,a){function s(e){switch(e){case"input-plaintext":return"pl-0 focus:outline-none focus:ring-0 shadow-none border-0";case"primary-btn":return"px-4 py-2 text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"icon-btn":return"px-4 py-2 text-gray-700 bg-transparent hover:bg-transparent hover:text-gray-800";case"default-btn":return"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"danger-btn":return"px-4 py-2 text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"success-btn":return"px-4 py-2 text-white bg-green-600 rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-50";default:return""}}a.d(t,{c:function(){return s}})}}]);
//# sourceMappingURL=2291.a16064a4.js.map