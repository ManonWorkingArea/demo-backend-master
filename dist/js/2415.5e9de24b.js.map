{"version":3,"file":"js/2415.5e9de24b.js","mappings":"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","sources":["webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/frontend/Detail.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/resource/CertOwnerSelector.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/resource/CustomModal.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/resource/CustomModal.vue?2f8d","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/resource/CertOwnerSelector.vue?cedf","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/frontend/Detail.vue?169c","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/resource/SurveyResult.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/resource/SurveyResult.vue?f2cf"],"sourcesContent":["<script>\n//import {useTitle} \tfrom 'vue-page-title';\n//import {useRoute} \tfrom 'vue-router'\nimport storageManager from '@/plugins/storage';\nimport convertUtils from \"@/plugins/convertUtils\";\nimport LoginPopup from '@/utils/LoginPopup.vue';\n//import Review from '@/utils/Review.vue';\nimport deviceUtils from \"@/plugins/DeviceUtils\";\nimport Form from '@/interface/template/BuilderRender.vue';\nimport Playlist from './Playlist.vue';\nimport Loader from '@/interface/template/Loader.vue';\n\nimport SurveyResult from '../resource/SurveyResult.vue';\n\nimport CertOwnerSelector from '../resource/CertOwnerSelector.vue'; // Adjust the path as needed\n\n\n\n//import PromptPayQRCode from '../resource/PromptPayQRCode.vue';\n//import QRCodeReader from '../resource/QRCodeReader.vue';\n\n\nimport requestClient from '@/plugins/requestClient';\nconst Request = new requestClient(false);\n\nimport debug from '@/plugins/Logger.js';\n\nconst statusArray = [\n  { name: 'pending', label: 'รอเรียน', styleClass: 'bg-gray-300 text-gray-600', icon: 'hourglass-start' },\n  { name: 'processing', label: 'กำลังเรียน', styleClass: 'bg-yellow-300 text-yellow-800', icon: 'spinner' },\n  { name: 'complete', label: 'เรียนจบแล้ว', styleClass: 'bg-green-300 text-green-800', icon: 'check' },\n];\n\nexport default {\n\tname: 'Lesson Detail',\n\tcomponents: {\n    LoginPopup,\n    Playlist,\n    Loader,\n    SurveyResult,\n    CertOwnerSelector,\n    //PromptPayQRCode,\n    //QRCodeReader,\n    //Review,\n    Form\n\t},\n\tdata() {\n\t\treturn {\n      defaultCoverUrl: 'https://vue-project.sgp1.digitaloceanspaces.com/default-coverjpg.jpg',\n\n      uniqueVisitors: null,\n      pageViewsPerDay: null,\n      pageViewsPerWeek: null,\n      pageViewsPerMonth: null,\n\n      login: storageManager.get('session','login'),\n      configs: storageManager.get('configs'),\n      session: storageManager.get('session'),\n      dataItem: this.$route.params.id,\n      enroll:storageManager.get('session','enroll'),\n      deviceType: deviceUtils.deviceDetect(),\n      playOption:'step',\n      certification:null,\n      exam:[],\n      lesson:[],\n      players:[],\n      surveyData:[],\n      surveyResults: [],\n      scoreItemLabels: [],\n      enrollData:[],\n      userSubmit:[],\n      isModalOpen:false,\n      playerDataStatus : null,\n      onsite:false,\n      onsiteForm:null,\n      loadedForm:false,\n      certOwnerType: 'personal',\n\t\t}\n\t},\n  watch: {\n    'lesson.type'(newType) {\n      this.onsite = newType === 'onsite';\n    }\n  },\n\tmethods: {\n    checkDueDate(date) {\n      const timeZoneOffset = 7 * 60; // Thailand is GMT+7, in minutes\n      // Convert posttestDate to Date object in UTC and adjust for Thailand timezone\n      const dueDate = new Date(date);\n      const dueDateInThailand = new Date(dueDate.getUTCFullYear(), dueDate.getUTCMonth(), dueDate.getUTCDate(), dueDate.getUTCHours(), dueDate.getUTCMinutes() + timeZoneOffset);\n      \n      // Now in UTC adjusted for Thailand timezone\n      const now = new Date();\n      const nowInThailand = new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes() + timeZoneOffset);\n      \n      return nowInThailand < dueDateInThailand;\n    },\n    async handleDataFromChild(data) {\n\n      debug.slack(\"*handleDataFromChild*\",data.analytics);\n      \n      this.groupedPlayers = data;\n      this.playerDataStatus = true;\n\n      if (this.loggedInComputed.enrollAccess(this.dataItem)) {\n        await this.getEnrollData();\n        /*\n        // Assuming this.enrollData.analytics is already the latest or fetched data\n        const currentAnalytics = this.enrollData.analytics;\n        //const currentAnalytics = data.analytics;\n\n        // Construct updated analytics by merging current with new data for pre and post\n        const updatedAnalytics = {\n          ...currentAnalytics,\n          pre: data.analytics.pre,  // Update pre\n          post: data.analytics.post  // Update post\n        };\n\n        // Making a PUT request to update the server state\n        const enroll2API = await Request.PUT(`enroll/${this.enrollData._id}`, {\n          data: { analytics: updatedAnalytics },\n          options: {},\n        }, this.configs.key);\n\n        if (enroll2API.status !== 200) {\n          debug.log(\"Failed to update enrollment data\");\n        }\n        */\n      }\n    },\n\n\n    async getEnrollData() {\n      try {\n        const resAPIEnroll = await Request.POST('enroll/query', {\n          method: 'find',\n          args: [{ $and: [{ courseID: this.dataItem, userID: this.session.userID }] }]\n        }, this.configs.key, true);\n\n        if (resAPIEnroll.status !== 200) {\n          throw new Error(`Failed to fetch enroll data from API`);\n        }\n        const enrollReturn = resAPIEnroll.data[0];\n        this.enrollData = enrollReturn;\n        //debug.slack(this.enrollData);\n      } catch (error) {\n        console.error(error);\n      }\n    },\n    stripHtmlTags(html) {\n      const tempElement = document.createElement(\"div\");\n      tempElement.innerHTML = html;\n      return tempElement.textContent || tempElement.innerText || \"\";\n    },\n    handleLoginSuccess() {\n      debug.log(\"Login Success\");\n    },\n    getStatus(status) {\n      const statusObj = statusArray.find(item => item.name === status);\n      if (statusObj) {\n        return `<p class=\"inline-flex rounded-full px-2 text-xs font-semibold leading-5 capitalize ${statusObj.styleClass}\">\n        <i class=\"fa fa-${statusObj.icon} mr-1 mt-1\"></i>${statusObj.label}\n        </p>`;\n      }\n      return '';\n    },\n    checkExam(type) {\n      return this.exam.some(item => item.type === type);\n    },\n    formatSeconds(seconds) {\n      return convertUtils.secondsToTime(seconds);\n    },\n    formatThaidate(date) {\n      return convertUtils.toThaiDatetime(date);\n    },\n    formatPrice(regular,sale) {\n      return convertUtils.formatPrice(regular,sale);\n    },\n    getFilteredExams(type) {\n      if (this.exam && this.exam.length) {\n        return this.exam.filter((exam) => exam.type === type);\n      }\n      return [];\n    },\n    async getData() {\n      try {\n        this.loading_sources = false;\n        const responseHost   = await Request.GET(`course/${this.dataItem}`, this.configs.key, true);\n        if(responseHost.status === 200) {\n          this.lesson     = responseHost.data;\n          this.playOption = this.lesson.display\n          if (typeof this.lesson.visibility === 'undefined') {\n            this.lesson.visibility = true;\n          }\n          this.playerDataStatus = this.lesson && this.lesson.type !== 'onsite' ? false : true;\n          this.onsite = (this.lesson?.type ?? '') === 'onsite';\n\n          console.log(\"lesson 4\",this.lesson.type);\n\n          console.log(\"getCertification\");\n          const certificationData = await this.getCertification();\n\n          console.log(\"getCertification 3\");\n\n          if (Array.isArray(certificationData) && certificationData.length > 0) {\n            // If the result is an array and has at least one item, use the last item\n            this.certification = certificationData[certificationData.length - 1];\n          } else {\n            // If not an array or an empty array, use the data as is\n            this.certification = certificationData;\n          }\n          console.log(\"getCertification 4\");\n          \n\n          console.log(\"onsite\",this.lesson.type);\n\n          if(this.lesson.type==='onsite') {\n            console.log(\"onsite X\");\n            if(this.lesson.formID) {\n              console.log(\"getSubmitForm\");\n              this.userSubmit = await this.getSubmitForm();\n              this.onsiteForm = this.lesson.formID\n              this.loadedForm = true\n            } else {\n              console.log(\"onsite Y\");\n              const formID    = await this.getForm();\n\n              console.log(\"getSubmitForm\");\n              this.userSubmit = await this.getSubmitForm();\n\n              console.log(\"userSubmit\",this.userSubmit);\n              this.onsiteForm = formID\n              this.loadedForm = true\n            }\n          }\n          else\n          {\n            console.log(\"not onsite 2\");\n          }\n          // Define certOwnerType based on certification data\n          this.certOwnerType = this.certification.owner_type || 'personal';\n          //this.lesson.scoreDate=\"2024-06-23T02:00:00.000Z\";\n          this.$setPageTitle(\"หลักสูตร \" + this.lesson.name);\n        }\n      } catch (error) {\n        debug.log(error)\n      }\n    },\n    async getCertification() {\n      try {\n        const requestData = {\n          method: 'find',\n          args: [\n          {\n            $and: [\n              { userID: this.session.userID },\n              { courseID: this.lesson._id }\n            ]\n          }\n        ]\n        };\n\n        const resAPISurvey = await Request.POST('certification/query', requestData, this.configs.key);\n\n        if (resAPISurvey.status !== 200) {\n          console.log(\"getCertification 2\");\n          throw new Error(`Failed to fetch player data from API`);\n        }\n        return resAPISurvey.data[0]\n\n      } catch (error) {\n        console.error('An error occurred while fetching player data:', error);\n        throw error;\n      }\n    },\n    async getForm() {\n      try {\n        const requestData = {\n          method: 'find',\n          args: [{ $and: [{ owner: this.configs.siteID, type:'form', action:'course', default:true }] }],\n        };\n\n        const resAPISurvey = await Request.POST('post/query', requestData, this.configs.key);\n\n        if (resAPISurvey.status !== 200) {\n          throw new Error(`Failed to fetch player data from API`);\n        }\n        return resAPISurvey.data[0]._id\n\n      } catch (error) {\n        console.error('An error occurred while fetching player data:', error);\n        throw error;\n      }\n    },\n    async getSubmitForm(formID) {\n      try {\n        const requestData = {\n          method: 'find',\n          args: [{ $and: [{ courseID: this.dataItem, userID:this.session.userID, formID:formID }] }],\n        };\n\n        console.log(\"courseID\",this.dataItem);\n        console.log(\"userID\",this.session.userID);\n        console.log(\"formID\",formID);\n\n\n        const resAPISurvey = await Request.POST('form/query', requestData, this.configs.key);\n\n        if (resAPISurvey.status !== 200) {\n          throw new Error(`Failed to fetch player data from API`);\n        }\n        return resAPISurvey.data[0]\n\n      } catch (error) {\n        console.error('An error occurred while fetching player data:', error);\n        throw error;\n      }\n    },\n    async enrollCourse(id) {\n      let finalRes = null;\n      if (this.login) {\n        try {\n          this.activeBlock = true;\n\n          // Create an order\n          const orderAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/order/\", {\n            method: 'POST',\n            headers: {'Content-Type': 'application/json', 'client-token-key': this.configs.key},\n            body: JSON.stringify({\n              data: {\n                \"userID\": this.session.userID,\n                \"courseID\": id,\n                \"unit\": this.configs.siteID,\n              },\n              options: {}\n            })\n          });\n\n          const orderRes = await orderAPI.json();\n          debug.log(\"orderRes\", orderRes);\n\n          if (orderAPI.status === 200) {\n            // Proceed with enrolling\n            const enrollAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/enroll/\", {\n              method: 'POST',\n              headers: {'Content-Type': 'application/json', 'client-token-key': this.configs.key},\n              body: JSON.stringify({\n                data: {\n                  \"userID\": this.session.userID,\n                  \"courseID\": id,\n                  \"orderID\": orderRes._id, // Include the order ID in the enroll data\n                  \"unit\": this.configs.siteID,\n                },\n                options: {}\n              })\n            });\n\n            finalRes = await enrollAPI.json();\n            debug.log(\"finalRes\", finalRes);\n\n            if (enrollAPI.status === 200) {\n              this.activeBlock = false;\n\n              /*\n              Make No Add Enroll \n              await fetch(\"https://gateway.cloudrestfulapi.com/api/course/\" + id + \"/enroll\", {\n                method: 'POST',\n                headers: {'Content-Type': 'application/json', 'client-token-key': this.configs.key},\n                body: JSON.stringify({\n                  action: \"add\",\n                  element: finalRes._id,\n                  type: \"string\",\n                })\n              });\n\n              */\n\n              const queryAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/enroll/query\", {\n                method: 'POST',\n                headers: {'Content-Type': 'application/json', 'client-token-key': this.configs.key},\n                body: JSON.stringify({\n                  method: 'find',\n                  hidden:  ['userID'],\n                  args: [\n                    {\n                      $and: [\n                        { userID: this.session.userID }\n                      ]\n                    }\n                  ]\n                })\n              });\n\n              const getEnroll  = await queryAPI.json();\n\n              if (queryAPI.status === 200) {\n                const session = {\n                  enroll: getEnroll,\n                };\n                storageManager.update('session', session);\n                debug.log(\"session\", session);\n\n                const groupedPlayers  = this.groupedPlayers.allItems;\n                const firstPlayer     = groupedPlayers.find(item => item.type !== 'folder');\n                let firstrun = \"\";\n                if (firstPlayer.canPlay === false) {\n                  debug.log(\"ยังไม่ได้สอบก่อนเรียน\");\n                  debug.log(this.getFilteredExams('pre'))\n                  const preExam = this.getFilteredExams('pre');\n                  firstrun = \"/lesson/assessment/\" + id + \"/\" + preExam[0]._id\n\n                }\n                else {\n                  debug.log(\"ไม่มีแบบทดสอบก่อนเรียน\");\n                  firstrun = '/lesson/play/' + id + '/' + firstPlayer._id\n                }\n\n                this.$swal({\n                  icon: 'success',\n                  title: 'ลงทะเบียนหลักสูตรเรียบร้อยแล้ว',\n                  text: 'ระบบกำลังดึงข้อมูลหลักสูตรของคุณ กรุณารอสักครู่',\n                  showCancelButton: false,\n                  confirmButtonText: 'OK',\n                }).then(() => {\n                  this.$router.push(firstrun);\n                });\n              }\n            }\n          }\n        } catch (error) {\n          debug.log(error)\n        }\n      }\n    },\n    orderCourse() {\n      this.$router.push('/lesson/subscribe/' + this.dataItem);\n    },\n    async saveSurveyResult(result) {\n      this.surveyResults = result;\n      debug.log(\"Survey Result Saved:\", result);\n\n      // Fetch Enroll Data\n      try {\n        const resAPIESubmission = await Request.POST('survey_submission', {\n          data: {\n            \"userId\": this.session.userID,\n            \"courseId\": this.dataItem,\n            \"surveyId\": this.lesson.surveyId,\n            \"survey\": result,\n          }\n        }, this.configs.key);\n\n        if (resAPIESubmission.status !== 200) {\n          throw new Error(`Failed to fetch enroll data from API`);\n        }\n\n        const submissionReturn = resAPIESubmission.data;\n        this.closeModal()\n        this.assignCertification()\n        debug.log(\"submissionReturn\",submissionReturn);\n        // Handle submissionReturn if needed\n      } catch (error) {\n        console.error(\"Error while fetching enroll data:\", error);\n        // Handle the error appropriately\n      }\n    },\n    closeModal() {\n      this.isModalOpen = false; // Close the modal\n      // Enable body scroll\n      document.body.style.overflow = 'auto';\n    },\n    async assignCertification() {\n      if(this.login) {\n        try {\n          // Fetch Enroll Data\n          const resAPISubmission = await Request.POST('survey_submission/query', {\n              method: 'find',\n              args: [{ $and: [{ courseId: this.dataItem, userId: this.session.userID }] }]\n          }, this.configs.key);\n          if (resAPISubmission.status !== 200) {\n              throw new Error(`Failed to fetch enroll data from API`);\n          }\n          const submissionReturn = resAPISubmission.data;\n\n          if(this.lesson.survey===\"yes\" && Array.isArray(submissionReturn) && submissionReturn.length === 0) {\n\n            let surveyId = null\n\n            if (this.lesson.surveyId === undefined || this.lesson.surveyId === null) {\n              const resAPIEnroll = await Request.POST('survey/query', {\n                method: 'find',\n                args: [{ $and: [{ unit: this.session.current._id, default: true }] }]\n              }, this.configs.key);\n              if (resAPIEnroll.status !== 200) {\n                throw new Error(`Failed to fetch enroll data from API`);\n              }\n              const surveyReturn = resAPIEnroll.data;\n              this.lesson.surveyId = surveyId\n              surveyId = surveyReturn[0]._id\n            } else {\n              surveyId = this.lesson.surveyId\n            }\n\n            //Show Survey\n            const responseSurvey = await Request.GET(`survey/${surveyId}`, this.configs.key);\n            if (responseSurvey.status !== 200) {\n              throw new Error(`Failed to fetch course data from API`);\n            }\n            this.surveyData       = responseSurvey.data;\n            this.scoreItemLabels  = this.surveyData.label.slice();\n            this.isModalOpen      = true;\n            document.body.style.overflow = 'hidden';\n\n            debug.log(this.surveyData);\n\n          } else {\n            if(!this.certification) {\n            this.activeBlock = true\n            const resAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/certification/\", {\n              method: 'POST',\n              headers: {'Content-Type': 'application/json','client-token-key':this.configs.key},\n              body: JSON.stringify({\n                data: {\n                  \"userID\":this.session.userID,\n                  \"courseID\":this.dataItem,\n                  \"course\":this.lesson,\n                  \"user\":this.session.user,\n                  \"unit\":this.configs.siteID,\n                  \"asset\":this.configs.siteName,\n                },\n                options: {}\n              })\n            });\n            const certReturn = await resAPI.json();\n\n            if(resAPI.status===200) {\n              this.activeBlock      = false\n              this.certification    = certReturn\n              if(this.lesson.cert_owner_corperate) {\n                //location.reload()\n              } else {\n                window.location.href = '/lesson/certification/'+ this.certification._id\n                debug.log(\"Assign Certification Complete\");\n              }\n            }\n          } else {\n            window.location.href = '/lesson/certification/'+ this.certification._id\n            debug.log(\"Open Certification\",this.certification);\n          }\n          }\n        } catch (error) {\n          debug.log(error)\n        }\n      }\n    },\n\t},\n  async mounted () {\n    try {\n      await this.getData();\n    } catch (error) {\n      debug.log(Error);\n    }\n  },\n  setup() {},\n  computed: {\n    loggedInComputed() {\n      const login   = storageManager.get('session', 'login');\n      const enroll  = storageManager.get('session', 'enroll');\n\n      if (login) {\n        return {\n          enrollAccess(courseId) {\n            if (!enroll || enroll.length === 0) {\n              return false;\n            }\n            const course = enroll.find(item => item.courseID === courseId);\n            return !!course;\n          }\n        };\n      } else {\n        return {\n          enrollAccess() {\n            return false;\n          }\n        };\n      }\n    },\n  },\n};\n</script> \n\n\n<template>\n  <templete v-if=\"this.lesson && this.lesson.type !== 'onsite'\">\n    <div v-if=\"!playerDataStatus\" class=\"text-center\"><Loader/></div>\n  </templete>\n\n  <div v-if=\"isModalOpen\" class=\"fixed inset-0 flex items-center justify-center z-50\">\n    <div class=\"bg-black opacity-50 fixed inset-0\"></div>\n    <div class=\"bg-white rounded shadow-lg w-full md:w-3/5 relative\">\n      <div class=\"bg-blue-500 text-white px-4 py-2 rounded-t flex justify-between\">\n        <h2 class=\"text-lg font-semibold\">{{ surveyData.name }}</h2>\n        <button @click=\"closeModal\" class=\"text-white hover:text-red-500 transition\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path>\n          </svg>\n        </button>\n      </div>\n      <div class=\"p-4 overflow-y-auto max-h-[95vh]\">\n        <SurveyResult\n          :surveyData=\"surveyData\"\n          :scoreItemLabels=\"scoreItemLabels\"\n          :surveyResults=\"surveyResults\"\n          @save-result=\"saveSurveyResult\"\n        />\n      </div>\n    </div>\n  </div>\n\n\n  <div class=\"bg-gray-100\">\n\n    <div v-if=\"this.deviceType==='desktop'\" class=\"mx-auto max-w-2xl px-4 pt-3 pb-3 sm:px-18 sm:pt-3 sm:pb-3 lg:grid lg:max-w-7xl lg:grid-cols-2 lg:gap-x-4 \">\n        <div class=\"lg:flex lg:items-center lg:justify-between\">\n            <div class=\"min-w-0 flex-1\">\n                <nav class=\"flex\" aria-label=\"Breadcrumb\">\n                    <ol role=\"list\" class=\"flex items-center space-x-4\">\n                      <li>\n                        <div>\n                          <router-link :to=\"'/'\" class=\"text-gray-400 hover:text-gray-500\">\n                            <svg class=\"h-5 w-5 flex-shrink-0\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\">\n                                <path fill-rule=\"evenodd\" d=\"M9.293 2.293a1 1 0 011.414 0l7 7A1 1 0 0117 11h-1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-3a1 1 0 00-1-1H9a1 1 0 00-1 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-6H3a1 1 0 01-.707-1.707l7-7z\" clip-rule=\"evenodd\" />\n                              </svg>\n                              <span class=\"sr-only\">Home</span>\n                          </router-link>\n                        </div>\n                      </li>\n\n                      <template v-if=\"this.lesson.standalone\">\n                        <li>\n                          <div class=\"flex items-center\">\n                            <svg class=\"h-5 w-5 flex-shrink-0 text-gray-300\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                              <path d=\"M5.555 17.776l8-16 .894.448-8 16-.894-.448z\" />\n                            </svg>\n                            <router-link :to=\"'/user/profile'\" class=\"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700\">หน้าหลัก</router-link>\n                          </div>\n                        </li>\n                      </template>\n                      <template v-else>\n                        <li>\n                          <div class=\"flex items-center\">\n                            <svg class=\"h-5 w-5 flex-shrink-0 text-gray-300\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                              <path d=\"M5.555 17.776l8-16 .894.448-8 16-.894-.448z\" />\n                            </svg>\n                            <router-link :to=\"session.mode === 'bypass' ? '/user/employee' : '/lesson/home'\" class=\"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700\">หลักสูตร</router-link>\n                          </div>\n                        </li>\n                      </template>\n                  \n                      <li>\n                        <div class=\"flex items-center\">\n                          <svg class=\"h-5 w-5 flex-shrink-0 text-gray-300\" fill=\"currentColor\" viewBox=\"0 0 20 20\" aria-hidden=\"true\">\n                            <path d=\"M5.555 17.776l8-16 .894.448-8 16-.894-.448z\" />\n                          </svg>\n                          <span class=\"ml-4 text-sm font-bold text-gray-600 hover:text-gray-700\">{{this.lesson.name}}</span>\n                        </div>\n                      </li>\n\n                    </ol>\n                </nav>\n            </div>\n        </div>\n      </div>\n\n      <div v-if=\"this.deviceType==='mobile'\" class=\"mx-auto max-w-2xl px-4 pt-3 pb-3 sm:px-18 sm:pt-3 sm:pb-3 lg:grid lg:max-w-7xl lg:grid-cols-2 lg:gap-x-4 \">\n        <div class=\"lg:flex lg:items-center lg:justify-between\">\n\n          <template v-if=\"this.lesson.standalone\">\n            <router-link :to=\"'/user/profile'\" class=\"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700\"><font-awesome-icon :icon=\"['fas', 'chevron-left']\" /> ย้อนกลับ</router-link>\n          </template>\n          <template v-else>\n            <router-link :to=\"'/lesson/home'\" class=\"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700\"><font-awesome-icon :icon=\"['fas', 'chevron-left']\" /> ย้อนกลับ</router-link>\n          </template>\n          \n          \n        </div>\n      </div>\n\n      <!-- Product -->\n      <div class=\"bg-white border-t border-gray-200\">\n\n        <div v-if=\"playerDataStatus\" class=\"mx-auto max-w-2xl px-4 pb-12 pt-8 sm:px-6 sm:pb-12 sm:pt-6 lg:grid lg:max-w-7xl lg:grid-cols-2 lg:gap-x-8 lg:px-8\">\n\n          <div class=\"mt-5 lg:col-span-2\">\n            <h1 class=\"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl\">{{this.lesson.name}}</h1>\n          </div>\n\n          <div class=\"mt-5\">\n            \n            <section aria-labelledby=\"information-heading\" class=\"mt-4 mb-4\">\n              <h2 id=\"information-heading\" class=\"sr-only\">Product information</h2>\n  \n              <div class=\"flex items-center\">\n\n                <p class=\"text-lg text-gray-900 sm:text-xl\" v-html=\"formatPrice(this.lesson.regular_price, this.lesson.sale_price)\"></p>\n  \n                <!-- \n                  <div class=\"ml-4 border-l border-gray-300 pl-4\">\n                    <h2 class=\"sr-only\">Reviews</h2>\n                    <div class=\"flex items-center\">\n                      <div>\n                        <div class=\"flex items-center\">\n                            <font-awesome-icon icon=\"star\" class=\"text-yellow-400 h-5 w-5 flex-shrink-0\"/>\n                            <font-awesome-icon icon=\"star\" class=\"text-yellow-400 h-5 w-5 flex-shrink-0\"/>\n                            <font-awesome-icon icon=\"star\" class=\"text-yellow-400 h-5 w-5 flex-shrink-0\"/>\n                            <font-awesome-icon icon=\"star\" class=\"text-yellow-400 h-5 w-5 flex-shrink-0\"/>\n                            <font-awesome-icon icon=\"star\" class=\"text-gray-300 h-5 w-5 flex-shrink-0\"/>\n                        </div>\n                        <p class=\"sr-only\">4 out of 5 stars</p>\n                      </div>\n                      <p class=\"ml-2 text-sm text-gray-500\">0 reviews</p>\n                    </div>\n                  </div> \n                -->\n              </div>\n  \n              <div class=\"mt-4 space-y-6\">\n                <div class=\"text-base text-gray-500\" v-if=\"this.lesson.short_description\" v-html=\"this.lesson.short_description\"></div>\n                <div class=\"text-base text-gray-500\" v-else v-html=\"this.lesson.description\"></div>\n              </div>\n            \n              <div class=\"mt-6 flex items-center\">\n                <font-awesome-icon class=\"h-5 w-5 flex-shrink-0 text-green-500\" :icon=\"['fas', 'check']\" />\n                <p class=\"ml-2 text-sm text-gray-500\">This course includes:</p>\n              </div>\n              \n            </section>\n\n            <section aria-labelledby=\"options-heading\">\n\n              <div class=\"\">\n                  <div class=\"mt-1 grid grid-cols-3 gap-1 sm:grid-cols-3\">\n\n                    <div class=\"relative block rounded-lg border border-gray-300 p-2 focus:outline-none\">\n                      <div class=\"flex items-center mb-1\">\n                        <span class=\"text-xl text-gray-500 mr-2\">\n                          <font-awesome-icon :icon=\"['fas', 'book']\" />\n                        </span>\n                        <p class=\"text-sm font-semibold text-gray-900\">เนื้อหาอัดแน่น</p>\n                      </div>\n                      <p class=\"text-sm text-gray-500\">{{this.players.length}} บท / {{this.lesson.hours}} ชม. เต็ม</p>\n                      <div class=\"pointer-events-none absolute -inset-px rounded-lg border-2\" aria-hidden=\"true\"></div>\n                    </div>\n                    \n                    <div :class=\"{ 'opacity-30': !checkExam('post') }\" class=\"relative block rounded-lg border border-gray-300 p-2 focus:outline-none\">\n                      <div class=\"flex items-center mb-1\">\n                        <span class=\"text-xl text-gray-500 mr-2\">\n                          <font-awesome-icon :icon=\"['fas', 'check-square']\" />\n                        </span>\n                        <p class=\"text-sm font-semibold text-gray-900\">ประเมินผลการเรียน</p>\n                      </div>\n                      <p class=\"text-sm text-gray-500\">วัดผลการเรียน</p>\n                      <div class=\"pointer-events-none absolute -inset-px rounded-lg border-2\" aria-hidden=\"true\"></div>\n                    </div>\n\n                    <div :class=\"{ 'opacity-30': this.lesson.certification === 'no' }\" class=\"relative block rounded-lg border border-gray-300 p-2 focus:outline-none\">\n                      <div class=\"flex items-center mb-1\">\n                        <span class=\"text-xl text-gray-500 mr-2\">\n                          <font-awesome-icon :icon=\"['fas', 'certificate']\" />\n                        </span>\n                        <p class=\"text-sm font-semibold text-gray-900\">ใบประกาศ</p>\n                      </div>\n                      <p class=\"text-sm text-gray-500\">รับใบประกาศเมื่อสอบผ่านเกณฑ์</p>\n                      <div class=\"pointer-events-none absolute -inset-px rounded-lg border-2\" aria-hidden=\"true\"></div>\n                    </div>\n                  \n                  </div>\n              </div>\n              \n                <div class=\"mt-4\">\n                  <a href=\"#\" class=\"group inline-flex text-sm text-gray-500 hover:text-gray-700\">\n                    <span>วิธีการลงทะเบียน ?</span>\n                    <font-awesome-icon class=\"ml-2 h-4 w-4 flex-shrink-0 text-gray-400 group-hover:text-gray-500\" :icon=\"['fas', 'question-circle']\" />\n                  </a>\n                </div>\n\n                <div v-if=\"this.lesson.type!='onsite'\">\n                  <div class=\"mt-5\">\n\n                    <template v-if=\"this.login\">\n\n                      <template v-if=\"loggedInComputed.enrollAccess(this.dataItem) && groupedPlayers\">\n                        \n                        <button\n                          type=\"button\" \n                          class=\"flex w-full items-center justify-center rounded-md border border-transparent bg-indigo-600 px-8 py-3 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50\">\n                          <span class=\"flex items-center\">\n                            <font-awesome-icon :icon=\"['fas', 'graduation-cap']\" class=\"mr-5 w-6 h-6\" />\n                          </span>\n                          <span class=\"text-left font-semibold\">ลงทะเบียนแล้ว<br><p class=\"text-sm text-gray-100 font-normal\">ความคืบหน้า <span class=\"font-semibold\">{{ groupedPlayers.analytics.percent }} % </span>({{ groupedPlayers.analytics.message }})</p></span>\n                        </button>\n\n                        \n\n\n\n                        <!-- <button v-if=\"groupedPlayers.analytics.certification.status\" @click=\"assignCertification()\"\n                            :readonly=\"groupedPlayers.analytics.percent < 100\"\n                            :style=\"{ opacity: groupedPlayers.analytics.percent < 100 ? '0.3' : '1' }\"\n                            type=\"button\"\n                            class=\"flex w-full mt-5 items-center justify-center rounded-md border border-transparent bg-yellow-400 px-4 py-3 text-base font-medium text-black hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50\">\n                            <font-awesome-icon :icon=\"['fas', 'certificate']\" class=\"mr-5 w-6 h-6\" />\n                            <span class=\"text-left font-semibold\">ใบรับรอง (e-Certification)<br><p class=\"text-sm text-gray-500 font-normal\">{{ this.certification.length ? 'เปิด' : 'สร้าง' }} ใบรับรองของคุณ</p></span>\n                          </button>\n                  \n                        <button v-if=\"!groupedPlayers.analytics.certification.status\"\n                          type=\"button\" \n                          :class=\"{\n                            'opacity-50': true,\n                            'cursor-not-allowed': true\n                          }\"\n                          :disabled=\"groupedPlayers.analytics.percent < 100\"\n                          class=\"flex w-full mt-5 items-center justify-center rounded-md border border-transparent bg-gray-200 px-4 py-2 text-base font-medium text-black hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50\">\n                          <span class=\"flex items-center\">\n                            <font-awesome-icon :icon=\"['fas', 'certificate']\" class=\"mr-5 w-6 h-6\" />\n                          </span>\n                          <span class=\"text-left font-semibold\">ใบรับรอง (e-Certification)<br><p class=\"text-sm text-gray-500 font-normal\">{{ groupedPlayers.analytics.certification.message }}</p></span>\n                        </button> -->\n\n                        <template v-if=\"this.lesson.scoreDate && checkDueDate(this.lesson.scoreDate)\">\n\n                          <button \n                            :readonly=\"true\"\n                            :style=\"{ opacity:'0.3'}\"\n                            type=\"button\"\n                            class=\"flex w-full mt-5 items-center justify-center rounded-md border border-transparent bg-yellow-400 px-4 py-3 text-base font-medium text-black hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50\">\n                            <font-awesome-icon :icon=\"['fas', 'certificate']\" class=\"mr-5 w-6 h-6\" />\n                            <span class=\"text-left font-semibold\">ใบรับรอง (e-Certification)<br><p class=\"text-sm text-gray-500 font-normal\">ประกาศผลสอบ {{formatThaidate(this.lesson.scoreDate)}} </p></span>\n                          </button>\n\n                        </template>\n\n                        <template v-else >\n\n                          <div :class=\"{\n                            'cert-panel': lesson && lesson.cert_owner_corperate,\n                            'mt-3': !(lesson && lesson.cert_owner_corperate)\n                          }\">\n\n                            <template v-if=\"enrollData?.analytics?.retest && enrollData?.analytics?.retest?.score >= enrollData?.analytics?.retest?.measure\">\n                              <button\n                                @click=\"assignCertification()\"\n                                type=\"button\"\n                                class=\"flex w-full items-center justify-center rounded-md border border-transparent bg-yellow-400 px-4 py-3 text-base font-medium text-black hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50\">\n                                <font-awesome-icon :icon=\"['fas', 'certificate']\" class=\"mr-5 w-6 h-6\" />\n                                <span class=\"text-left font-semibold\">ใบรับรอง (e-Certification)<br><p class=\"text-sm text-gray-500 font-normal\">{{ this.certification ? 'เปิด' : 'สร้าง' }} ใบรับรองของคุณ</p></span>\n                              </button>\n                            </template>\n                            <template v-else-if=\"enrollData?.analytics?.retest\">\n                              \n                              <button v-if=\"!groupedPlayers.analytics.certification.status\"\n                                type=\"button\" \n                                :class=\"{\n                                  'opacity-50': true,\n                                  'cursor-not-allowed': true\n                                }\"\n                                :disabled=\"groupedPlayers.analytics.percent < 100\"\n                                class=\"flex w-full items-center justify-center rounded-md border border-transparent bg-gray-200 px-4 py-2 text-base font-medium text-black hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50\">\n                                <span class=\"flex items-center\">\n                                  <font-awesome-icon :icon=\"['fas', 'certificate']\" class=\"mr-5 w-6 h-6\" />\n                                </span>\n                                <span class=\"text-left font-semibold\">ใบรับรอง (e-Certification)<br><p class=\"text-sm text-gray-500 font-normal\">{{ groupedPlayers.analytics.certification.message }}</p></span>\n                              </button>\n\n                            </template>\n                            <template v-else>\n\n                              <button v-if=\"groupedPlayers.analytics.certification.status\" \n                              @click=\"assignCertification()\"\n                              :readonly=\"groupedPlayers.analytics.percent < 100\"\n                              :style=\"{ opacity: groupedPlayers.analytics.percent < 100 ? '0.3' : '1' }\"\n                              type=\"button\"\n                              :class=\"{\n                                'flex w-full items-center justify-center border border-transparent bg-yellow-400 px-4 py-3 text-base font-medium text-black hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50': true,\n                                'rounded-md': !(this.certification && lesson.cert_owner_corperate),\n                                'rounded-t-md': this.certification && lesson.cert_owner_corperate\n                              }\">\n                              <font-awesome-icon :icon=\"['fas', 'certificate']\" class=\"mr-5 w-6 h-6\" />\n                              <span class=\"text-left font-semibold\">\n                                ใบรับรอง (e-Certification)\n                                <br>\n                                <p class=\"text-sm text-gray-500 font-normal\">{{ this.certification ? 'เปิด' : 'สร้าง' }} ใบรับรองของคุณ</p>\n                              </span>\n                            </button>\n                            \n                      \n                              <button v-if=\"!groupedPlayers.analytics.certification.status\"\n                                type=\"button\" \n                                :class=\"{\n                                  'opacity-50': true,\n                                  'cursor-not-allowed': true\n                                }\"\n                                :disabled=\"groupedPlayers.analytics.percent < 100\"\n                                class=\"flex w-full items-center justify-center rounded-md border border-transparent bg-gray-200 px-4 py-2 text-base font-medium text-black hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50\">\n                                <span class=\"flex items-center\">\n                                  <font-awesome-icon :icon=\"['fas', 'certificate']\" class=\"mr-5 w-6 h-6\" />\n                                </span>\n                                <span class=\"text-left font-semibold\">ใบรับรอง (e-Certification)<br><p class=\"text-sm text-gray-500 font-normal\">{{ groupedPlayers.analytics.certification.message }}</p></span>\n                              </button>\n                            \n                            </template>\n\n                            <!-- Display panel if cert_owner_corperate is true -->\n                            <div v-if=\"lesson && lesson.cert_owner_corperate\" class=\"\">\n                              <!-- Use the CertOwnerSelector component -->\n                                <CertOwnerSelector\n                                v-if=\"certification\"\n                                v-model:certOwnerType=\"certOwnerType\"\n                                :certification=\"certification\"\n                                @edit=\"handleEdit\"\n                              />\n                            </div>\n\n                          </div>\n\n                        </template>\n                  \n                      </template>\n\n                      <template v-else>\n\n                        <span v-if=\"!this.lesson.visibility\">\n                          <button\n                            type=\"button\"\n                            class=\"flex w-full items-center justify-center rounded-md border border-transparent bg-gray-600 px-8 py-3 text-base font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50\"\n                          >\n                          <font-awesome-icon class=\"ml-2 mr-2 h-4 w-4 flex-shrink-0 text-white group-hover:text-gray-500\" :icon=\"['fas', 'lock']\" />\n                          หลักสูตรนี้เปิดลงทะเบียนแบบ Private เท่านั้น\n                          </button>\n                        </span>\n                        \n                        <span v-else>\n                          <button\n                          v-if=\"this.lesson.sale_price > 0 && !this.lesson.standalone\"\n                          @click=\"orderCourse()\"\n                          type=\"button\"\n                          class=\"flex w-full items-center justify-center rounded-md border border-transparent bg-indigo-600 px-8 py-3 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50\"\n                          >\n                          <font-awesome-icon class=\"ml-2 mr-2 h-4 w-4 flex-shrink-0 text-white group-hover:text-gray-500\" :icon=\"['fas', 'shopping-cart']\" />\n                          สั่งซื้อ\n                          </button>\n                          <button\n                          v-if=\"!this.lesson.standalone\"\n                            @click=\"enrollCourse(this.lesson._id)\"\n                            type=\"button\"\n                            class=\"flex w-full items-center justify-center rounded-md border border-transparent bg-indigo-600 px-8 py-3 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50\"\n                          >\n                            <font-awesome-icon class=\"ml-2 mr-2 h-4 w-4 flex-shrink-0 text-white group-hover:text-gray-500\" :icon=\"['fas', 'play']\" />\n                            {{ session.mode === 'bypass' ? 'เริ่มเรียนหลักสูตรนี้' : 'ลงทะเบียนหลักสูตรนี้' }}\n                          </button>\n                        </span>\n\n                      </template>\n                      \n                    </template>\n\n                    <template v-else>\n\n                      <LoginPopup @login-success=\"handleLoginSuccess\" v-if=\"!this.lesson.standalone\"/>\n\n                    </template>\n                    \n                  </div>\n\n                  \n\n                  <div class=\"mt-6 text-center\">\n                    <a href=\"javascript:void(0);\" class=\"group inline-flex text-base font-medium\">\n                      <font-awesome-icon class=\"mr-2 h-6 w-6 flex-shrink-0 text-gray-400 group-hover:text-gray-500\" :icon=\"['fas', 'laptop']\" />\n                      <span class=\"text-gray-500 hover:text-gray-700\">เรียนออนไลน์ ได้ทุกที่ ทุกเวลาตลอด 24 ชั่วโมง</span>\n                    </a>\n                  </div>\n\n                </div>\n\n            </section>\n          </div>\n\n          <div class=\"mt-10\">\n            <div class=\"lg:col-start-2 lg:row-span-2 lg:mt-0 lg:self-center\">\n\n              <figure class=\"mt-16\">\n                <img class=\"aspect-video rounded-xl bg-gray-50 object-cover\"\n                :src=\"lesson.cover || defaultCoverUrl\"\n                alt=\"\">\n              </figure>\n\n            </div>\n          </div>\n\n        </div>\n\n        <div class=\"mx-auto max-w-7xl sm:px-3 lg:px-4 pb-10\">\n          <div>\n            <h3 class=\"text-lg font-bold text-blue-600\">คำอธิบายรายวิชา</h3>\n            <div class=\"text-md text-gray-500\" v-if=\"this.lesson.description\" v-html=\"this.lesson.description\"></div>\n          </div>\n          <div>\n            <h3 class=\"text-lg font-bold text-blue-600\">วัตถุประสงค์</h3>\n            <div class=\"text-md text-gray-500\" v-if=\"this.lesson.objective\" v-html=\"this.lesson.objective\"></div>\n          </div>\n        </div>\n\n      </div>\n\n        <div class=\"bg-gray-100 py-6\">\n\n          <!-- <div class=\"flex items-center justify-center space-x-4 p-4\">\n            <div class=\"w-1/2 flex justify-center\">\n              <PromptPayQRCode\n                :mobileNo=\"'0956528573'\"\n                :amount=\"10.0\"\n                message=\"Hello World!\"\n              />\n            </div>\n            <div class=\"w-1/2 flex justify-center\">\n              <QRCodeReader />\n            </div>\n          </div> -->\n\n          <template v-if=\"this.lesson.type!='onsite'\">\n            <div class=\"mx-auto max-w-7xl sm:px-3 lg:px-4\">\n\n              <div class=\"mx-auto max-w-2xl px-2 py-3 sm:px-3 sm:py-3 lg:max-w-7xl lg:px-4\">\n                <section aria-labelledby=\"details-heading\">\n                  <div class=\"flex flex-col items-center text-center\">\n                    <h2 id=\"details-heading\" class=\"text-2xl font-bold tracking-tight text-gray-900 sm:text-2xl\">รายละเอียดเนื้อหา</h2>\n                    <p class=\"mt-3 max-w-3xl text-lg text-gray-600\">รายละเอียดเนื้อหาของหลักสูตรนี้ คุณต้องทำการเข้าเรียนตามลำดับแต่ละบทเรียน</p>\n                  </div>\n                </section>\n              </div>\n\n              <div class=\"overflow-hidden bg-white shadow sm:rounded-md\">\n                \n                <Playlist \n                :dataItem=\"this.dataItem\"\n                :courseData=\"this.lesson\" \n                :playerItem=\"null\" \n                :playOption=\"this.playOption\" \n                @data-fetched=\"handleDataFromChild\"\n                :debug=\"false\"></Playlist>\n\n              </div>\n            </div>\n\n          </template>\n\n          <template v-else>\n\n            <template v-if=\"this.login\">\n\n              <template v-if=\"userSubmit\">\n                {{onsite}}\n                <div class=\"mx-auto max-w-7xl sm:px-3 lg:px-4\">\n\n                  <div class=\"mx-auto max-w-2xl px-2 py-3 sm:px-3 sm:py-3 lg:max-w-7xl lg:px-4\">\n                    <section aria-labelledby=\"details-heading\">\n                      <div class=\"flex flex-col items-center text-center\">\n                        <h2 id=\"details-heading\" class=\"text-2xl font-bold tracking-tight text-gray-900 sm:text-2xl\">แบบฟอร์มการลงทะเบียน</h2>\n                        <p class=\"mt-3 max-w-3xl text-lg text-gray-600\">คุณได้ทำการลงทะเบียนหลักสูตรนี้เรียบร้อยแล้ว ทีมงานจะทำการตรวจสอบข้อมูลและจะแจ้งการดำเนินการในขั้นตอนต่อไป</p>\n                      </div>\n                    </section>\n                  </div>\n    \n                </div>\n              </template>\n              <template v-else>\n\n                <div class=\"mx-auto max-w-7xl sm:px-3 lg:px-4\">\n\n                  <div class=\"mx-auto max-w-2xl px-2 py-3 sm:px-3 sm:py-3 lg:max-w-7xl lg:px-4\">\n                    <section aria-labelledby=\"details-heading\">\n                      <div class=\"flex flex-col items-center text-center\">\n                        <h2 id=\"details-heading\" class=\"text-2xl font-bold tracking-tight text-gray-900 sm:text-2xl\">แบบฟอร์มการลงทะเบียน</h2>\n                        <p class=\"mt-3 max-w-3xl text-lg text-gray-600\">แบบฟอร์มสำหรับลงทะเบียนหลักสูตรนี้</p>\n                      </div>\n                    </section>\n                  </div>\n    \n                </div>\n\n                <Form v-if=\"loadedForm\" :dataItem=\"this.onsiteForm\" :masterItem=\"this.lesson._id\" :mode=\"'id'\"/>\n              </template>\n            </template>\n\n            <template v-else>\n              <div class=\"mx-auto max-w-7xl sm:px-3 lg:px-4\">\n\n                <div class=\"mx-auto max-w-2xl px-2 py-3 sm:px-3 sm:py-3 lg:max-w-7xl lg:px-4\">\n                  <section aria-labelledby=\"details-heading\">\n                    <div class=\"flex flex-col items-center text-center\">\n                      <h2 id=\"details-heading\" class=\"text-2xl font-bold tracking-tight text-gray-900 sm:text-2xl\">แบบฟอร์มการลงทะเบียน</h2>\n                      <p class=\"mt-3 max-w-3xl text-lg text-gray-600\">หากคุณต้องการลงทะเบียนหลักสูตรนี้ ต้องเข้าสู่ระบบหรือสมัครสมาชิกใหม่ก่อนลงทะเบียน</p>\n                      <LoginPopup @login-success=\"handleLoginSuccess\"/>\n                    </div>\n                  </section>\n                </div>\n  \n              </div>\n              \n            </template>\n\n          </template>\n\n        </div>\n\n        <!-- <section aria-labelledby=\"reviews-heading\" class=\"bg-white\">\n          <div class=\"mx-auto max-w-2xl px-4 py-12 sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-12 lg:gap-x-8 lg:px-8 lg:py-12\">\n            <Review/>\n          </div>\n        </section> -->\n      \n    </div>\n</template>\n\n<style scoped>\n.title {\nfont-family: \"Quicksand\", \"Source Sans Pro\", -apple-system, BlinkMacSystemFont,\n    \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;\ndisplay: block;\nfont-weight: 400;\nfont-size: 100px;\ncolor: #2E495E;\nletter-spacing: 1px;\nfont-size: 6em;\n}\n.green {\ncolor: #00C48D;\n}\n\n.subtitle {\nfont-weight: 300;\nfont-size: 3em;\ncolor: #2E495E;\nword-spacing: 5px;\npadding-bottom: 15px;\n}\n\n.links {\npadding-top: 15px;\n}\n\n:root {\n--plyr-color-main: #ff0000; /* use --color-btn-primary for NBC Theme */\n}\n\n.plyr--video {\nborder-radius: 10px;\n}\n\na.block {\n  position: relative;\n}\n\na.block::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 20px;\n  height: 20px;\n}\n\na.block::before.not-available {\n  content: \"Not Available\";\n  font-size: 14px;\n  text-align: center;\n  background-color: #ccc;\n  color: #fff;\n  padding: 4px;\n  border-radius: 4px;\n}\n\na.block::before.play {\n  content: \"►\";\n  font-size: 20px;\n  color: #000;\n}\n\n.cert-panel {\n  padding: 8px;\n  background: #ffffff;\n  margin-top: 5px;\n  border-radius: 7px;\n  border: 1px solid #e2e2e2;\n}\n\n</style>","<template>\n    <div>\n        <div class=\"flex flex-col w-full space-y-2\">\n            <!-- Your existing panel code -->\n            <div class=\"flex flex-col md:flex-row items-start md:items-center justify-between bg-gray-100 border border-gray-300 border-t rounded-b-md rounded-t-none p-3 w-full\">\n              <div class=\"text-gray-700 font-bold w-full md:w-auto mb-4 md:mb-0 text-sm\">\n                ออกใบรับรองในนาม\n              </div>\n              <div class=\"flex flex-col space-y-4 md:space-y-0 md:flex-row md:space-x-6 w-full md:w-auto\">\n                <div class=\"flex items-center space-x-2 w-full md:w-auto\">\n                  <label class=\"inline-flex items-center w-full md:w-auto\">\n                    <input \n                      type=\"radio\" \n                      name=\"cert_owner\" \n                      value=\"personal\" \n                      v-model=\"localCertOwnerType\" \n                      @change=\"updateCertOwnerType\"\n                    />\n                    <span class=\"ml-2 text-gray-600 text-sm\">บุคคลธรรมดา</span>\n                  </label>\n                  <!-- <button class=\"text-gray-500 hover:text-gray-700 flex-shrink-0\" @click=\"openModal('personal')\">\n                    <font-awesome-icon icon=\"pencil-alt\" class=\"text-xs\"/> แก้ไข\n                  </button> -->\n                </div>\n                <div class=\"flex items-center space-x-2 w-full md:w-auto\">\n                  <label class=\"inline-flex items-center w-full md:w-auto\">\n                    <input \n                      type=\"radio\" \n                      name=\"cert_owner\" \n                      value=\"corporate\" \n                      v-model=\"localCertOwnerType\" \n                      @change=\"updateCertOwnerType\"\n                    />\n                    <span class=\"ml-2 text-gray-600 text-sm\">นิติบุคคล</span>\n                  </label>\n                  <button class=\"text-gray-500 hover:text-gray-700 flex-shrink-0 text-[13px]\" @click=\"openModal('corporate')\">\n                    <font-awesome-icon icon=\"pencil-alt\" class=\"text-[10px]\"/> แก้ไขข้อมูลนิติบุคคล\n                  </button>\n                </div>\n              </div>\n            </div>\n          \n            <!-- New row with the paragraph -->\n            <p class=\"text-gray-500 text-sm w-full\">\n              ** หลักสูตรนี้สามารถแก้ไขข้อมูลของผู้รับใบรับรองได้ระหว่าง ชื่อผู้อบรมหรือชื่อนิติบุคคล\n            </p>\n          </div>\n          \n  \n      <!-- Include the custom modal component -->\n      <CustomModal \n        :showModal=\"isModalVisible\" \n        :type=\"modalType\" \n        :data=\"certification.owner_data\"\n        @close=\"closeModal\" \n        @save=\"handleSave\"\n      />\n    </div>\n  </template>\n  \n  <script>\n  import CustomModal from './CustomModal.vue'; // Adjust the path as needed\n  import storageManager from '@/plugins/storage';\n  import requestClient from '@/plugins/requestClient';\n  const Request = new requestClient(false);\n  \n  export default {\n    components: {\n      CustomModal\n    },\n    props: {\n      certOwnerType: {\n        type: String,\n        required: true\n      },\n      certification: {\n        type: Object,\n        required: true\n      }\n    },\n    data() {\n      return {\n        configs: storageManager.get('configs'),\n        session: storageManager.get('session'),\n        localCertOwnerType: this.certOwnerType, // Sync prop with local data\n        isModalVisible: false,\n        modalType: '',\n        enrollData: null // To store the fetched data\n      };\n    },\n    watch: {\n      certOwnerType(newValue) {\n        this.localCertOwnerType = newValue;\n      }\n    },\n    methods: {\n      async updateCertOwnerType() {\n        this.$emit('update:certOwnerType', this.localCertOwnerType);\n        \n        try {\n          // Update certification owner type using PUT request\n          const response = await Request.PUT(\n            `certification/${this.certification._id}`, // Replace with actual certification ID\n            { \n              data: { \n                owner_type: this.localCertOwnerType // Update owner_type with the new value\n              } \n            },\n            this.configs.key\n          );\n          \n          console.log('Certification updated:', response);\n  \n          // Handle success response if needed\n        } catch (error) {\n          console.error('Error updating certification:', error);\n          // Handle error if needed\n        }\n      },\n      async handleSave(formData) {\n        console.log('Saved data:', formData);\n        \n        try {\n          // Update owner information using PUT request\n          const response = await Request.PUT(\n            `certification/${this.certification._id}`, // Replace with actual certification ID\n            { \n              data: { \n                owner_data: formData // Update owner_information with formData\n              } \n            },\n            this.configs.key\n          );\n          \n          console.log('Owner information updated:', response);\n          location.reload()\n  \n          // Handle success response if needed\n        } catch (error) {\n          console.error('Error updating owner information:', error);\n          // Handle error if needed\n        }\n      },\n      openModal(type) {\n        this.modalType = type;\n        this.isModalVisible = true;\n      },\n      closeModal() {\n        this.isModalVisible = false;\n      }\n    }\n  };\n  </script>\n  \n  <style scoped>\n  /* Add any component-specific styles here */\n  </style>\n  ","<!-- CustomModal.vue -->\n<template>\n    <div v-if=\"showModal\" class=\"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50\">\n      <div class=\"bg-white rounded-md shadow-lg p-6 w-full max-w-lg\">\n        <div class=\"flex justify-between items-center border-b pb-4\">\n          <h3 class=\"text-lg font-bold\">{{ modalTitle }}</h3>\n          <button @click=\"closeModal\" class=\"text-gray-500 hover:text-gray-700\">\n            <font-awesome-icon icon=\"times\"/>\n          </button>\n        </div>\n        <div class=\"mt-4\">\n          <!-- Display warning message at the top -->\n          <p v-if=\"type === 'corporate'\" class=\"text-red-500 text-sm mb-4\">\n            แก้ไขข้อมูลบริษัทได้ครั้งเดียวเท่านั้น กรุณาตรวจสอบให้ถูกต้องก่อนบันทึกข้อมูล\n          </p>\n          <!-- Render form based on modal type -->\n          <div v-if=\"type === 'personal'\" class=\"flex flex-wrap md:flex-nowrap\">\n            <!-- Left Column: Prefix -->\n            <div class=\"w-full md:w-1/5 pr-4 mb-4\">\n              <label class=\"block mb-2\">คำนำหน้า</label>\n              <select v-model=\"formData.prefix\" class=\"p-2 border rounded w-full\">\n                <option value=\"mr\">นาย</option>\n                <option value=\"mrs\">นาง</option>\n                <option value=\"ms\">นางสาว</option>\n              </select>\n            </div>\n            <!-- Middle Column: First Name -->\n            <div class=\"w-full md:w-2/5 pr-4 mb-4\">\n              <label class=\"block mb-2\">ชื่อ</label>\n              <input type=\"text\" v-model=\"formData.firstName\" class=\"p-2 border rounded w-full\"/>\n            </div>\n            <!-- Right Column: Last Name -->\n            <div class=\"w-full md:w-2/5 mb-4\">\n              <label class=\"block mb-2\">นามสกุล</label>\n              <input type=\"text\" v-model=\"formData.lastName\" class=\"p-2 border rounded w-full\"/>\n            </div>\n          </div>\n          <div v-else-if=\"type === 'corporate'\">\n            <label class=\"block mb-2\">ชื่อบริษัท</label>\n            <input type=\"text\" v-model=\"formData.corpName\" class=\"mb-4 p-2 border rounded w-full\" />\n            <label class=\"block mb-2\">ที่อยู่</label>\n            <textarea v-model=\"formData.address\" class=\"p-2 border rounded w-full\" rows=\"4\"></textarea>\n          </div>\n        </div>\n        <div class=\"flex justify-end mt-4\">\n          <button \n            @click=\"save\" \n            class=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n            :disabled=\"!isInitialEmpty && formData.corpName !== ''\"\n            :style=\"{ opacity: !isInitialEmpty && formData.corpName !== '' ? 0.5 : 1 }\"\n          >\n            บันทึก\n          </button>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    props: {\n      showModal: {\n        type: Boolean,\n        default: false\n      },\n      data: {\n        type: Object,\n        default: () => ({}) // Default to an empty object if no data is passed\n      },\n      type: {\n        type: String,\n        required: true\n      }\n    },\n    data() {\n      return {\n        formData: {\n          prefix: '',\n          firstName: '',\n          lastName: '',\n          corpName: '',\n          address: ''\n        },\n        isInitialEmpty: true // Flag to track if initial data is empty\n      };\n    },\n    computed: {\n      modalTitle() {\n        return this.type === 'personal' ? 'แก้ไขบุคคลธรรมดา' : 'แก้ไขข้อมูลนิติบุคคล';\n      }\n    },\n    watch: {\n      data: {\n        immediate: true, // Trigger watcher immediately on component creation\n        handler(newData) {\n          this.formData = { ...this.formData, ...newData }; // Merge prop data into formData\n          // Check if initial data is empty and set the flag\n          this.isInitialEmpty = !newData.corpName;\n        }\n      }\n    },\n    methods: {\n      closeModal() {\n        this.$emit('close');\n      },\n      save() {\n        const dataToSave = {\n          ...this.formData,\n          type: this.type // Add type to the saved data\n        };\n        this.$emit('save', dataToSave);\n        this.closeModal();\n      }\n    }\n  };\n  </script>\n  \n  <style scoped>\n  /* Add any modal-specific styles here */\n  </style>\n  ","import { render } from \"./CustomModal.vue?vue&type=template&id=bb2c66ba&scoped=true\"\nimport script from \"./CustomModal.vue?vue&type=script&lang=js\"\nexport * from \"./CustomModal.vue?vue&type=script&lang=js\"\n\nimport \"./CustomModal.vue?vue&type=style&index=0&id=bb2c66ba&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bb2c66ba\"]])\n\nexport default __exports__","import { render } from \"./CertOwnerSelector.vue?vue&type=template&id=e993d442&scoped=true\"\nimport script from \"./CertOwnerSelector.vue?vue&type=script&lang=js\"\nexport * from \"./CertOwnerSelector.vue?vue&type=script&lang=js\"\n\nimport \"./CertOwnerSelector.vue?vue&type=style&index=0&id=e993d442&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e993d442\"]])\n\nexport default __exports__","import { render } from \"./Detail.vue?vue&type=template&id=56d4dffb&scoped=true\"\nimport script from \"./Detail.vue?vue&type=script&lang=js\"\nexport * from \"./Detail.vue?vue&type=script&lang=js\"\n\nimport \"./Detail.vue?vue&type=style&index=0&id=56d4dffb&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-56d4dffb\"]])\n\nexport default __exports__","<template>\n  <div class=\"survey-layout p-2 mb-3\">\n    <div class=\"flex flex-col\">\n      <div class=\"mb-4\">\n        <div>\n          <span class=\"font-semibold\">Name:</span> {{ surveyData.name }}\n        </div>\n        <div>\n          <span class=\"font-semibold\">Description:</span> {{ surveyData.description }}\n        </div>\n      </div>\n\n      <div class=\"\">\n        <div v-for=\"(choiceGroup, groupIndex) in surveyData.choiceGroups\" :key=\"groupIndex\" :class=\"{'error-class': choiceGroup.error}\" class=\"choice-group border border-b-0 border-gray-400 mb-2 rounded-sm\">\n\n          <template v-if=\"choiceGroup.groupType === 'custom'\">\n            <div class=\"flex border-b border-gray-400 p-1 bg-gray-100\">\n              <h3 class=\"w-2/5 text-md font-semibold\">{{ groupIndex + 1 }}. {{ choiceGroup.groupName }}</h3>\n              <div class=\"w-3/5 space-y-0\">\n\n                  <div v-for=\"(choice, choiceIndex) in choiceGroup.choices\" :key=\"choiceIndex\" class=\"flex items-center\">\n                    <template v-if=\"choice.type === 'radio'\">\n                      <div class=\"w-full flex justify-start\">\n                        <label class=\"flex items-center px-2 text-sm\">\n                          <input type=\"radio\" v-model=\"choiceGroup.selectedChoice\" :value=\"choice.choiceText\" class=\"mr-2 text-sm\"> {{ choice.choiceText }}\n                        </label>\n                      </div>\n                    </template>\n                    <template v-else-if=\"choice.type === 'textarea'\">\n                      <textarea v-model=\"choice.choiceValue\" class=\"w-full p-1 h-32 rounded-sm\"></textarea>\n                    </template>\n                  </div>\n              \n              </div>\n            </div>\n          </template>\n          \n          <template v-if=\"choiceGroup.groupType==='score'\">\n\n            <h3 class=\"text-md font-semibold p-1 border-b border-gray-400 bg-gray-100\">{{ groupIndex + 1 }}. {{ choiceGroup.groupName }}</h3>\n            <div class=\"space-y-0\">\n              <div v-for=\"(choice, choiceIndex) in choiceGroup.choices\" :key=\"choiceIndex\" :class=\"{'error-class': choiceGroup.error}\" class=\"flex items-center border-b border-gray-400 p-1 flex-col md:flex-row\">\n                <div class=\"w-full md:w-2/5 flex flex-col justify-start\">\n                  <p class=\"mb-1 px-2 text-sm\">{{ groupIndex + 1 }}.{{ choiceIndex + 1 }}. {{ choice.choiceText }}</p>\n                </div>\n                <div class=\"w-full md:w-3/5 mt-2 md:mt-0\">\n\n                  <template v-if=\"choice.type === 'radio'\">\n                    <div :class=\"['grid', 'gap-0', 'md:grid-cols-' + surveyData.score, 'md:grid-rows-1', 'grid-cols-1', 'md:grid-cols-' + surveyData.score]\">\n                      <label v-for=\"(count, optionIndex) in surveyData.score\" :key=\"count\" class=\"flex items-center px-2 text-sm\">\n                        <input type=\"radio\" :value=\"count\" v-model=\"choice.choiceValue\" @change=\"updateCustomScore(choice)\" class=\"mr-2 text-sm\">\n                        {{ scoreItemLabels[optionIndex] }}\n                      </label>\n                    </div>\n                  </template>\n                  \n                  <template v-else-if=\"choice.type === 'textarea'\">\n                    <textarea v-model=\"choice.choiceValue\" class=\"w-full p-1 h-32 rounded-sm\"></textarea>\n                  </template>\n\n                </div>\n              </div>\n              \n            </div>\n\n          </template>\n\n        </div>\n      </div>\n    </div>\n\n    <div class=\"mt-2\">\n      <p class=\"font-semibold\">Summary Score: {{ summaryScore }}</p>\n    </div>\n\n    <div class=\"mt-2 space-x-2 mb-5\">\n      <button @click=\"saveResult\" class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\">ส่งข้อมูล</button>\n      <button @click=\"clearSurvey\" class=\"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600\">เคลียร์ข้อมูล</button>\n    </div>\n\n    <div v-if=\"hasErrors\" class=\"mt-2 p-4 bg-red-200 border border-red-400 rounded\">\n      <h3 class=\"font-semibold text-red-700\">เกิดข้อผิดพลาด (s):</h3>\n      <ul>\n        <li v-for=\"(error, index) in errors\" :key=\"index\" class=\"text-red-700\">{{ error }}</li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\n  import debug from '@/plugins/Logger.js';\n  export default {\n    props: {\n      surveyData: Object,\n      scoreItemLabels: Array,\n      surveyResults: Array\n    },\n    data() {\n      return {\n        errors: [],\n        hasErrors: false,\n        preview:[]\n      };\n    },\n    computed: {\n      summaryScore() {\n        let totalScore = 0;\n        this.surveyData.choiceGroups.forEach((choiceGroup) => {\n          if (choiceGroup.groupType !== 'custom') {\n            choiceGroup.choices.forEach((choice) => {\n              if (choice.type === 'radio') {\n                const choiceValue = Number(choice.choiceValue) || 0;\n                if (choiceValue === 5 && choice.hasCustomScore) {\n                  const customScore = Number(choice.customScore) || 0;\n                  totalScore += customScore;\n                } else {\n                  totalScore += choiceValue;\n                }\n              }\n            });\n          }\n        });\n        return totalScore;\n      }\n    },\n    methods: {\n      updateCustomScore(choice) {\n        debug.log(\"choice\",choice);\n      },\n      sanitizeString(str) {\n        const correctedPattern = /[,!@#$%^&*();/|<>\"']+/g;\n        return str.replace(correctedPattern, '');\n      },\n      saveResult() {\n        this.errors = [];\n        this.hasErrors = false;\n        this.surveyData.choiceGroups.forEach((choiceGroup) => {\n          choiceGroup.choices.forEach(() => {\n            choiceGroup.error = false;\n          });\n            if (choiceGroup.groupType === 'custom') {\n              let hasRequiredChoice = choiceGroup.choices.some(choice => choice.isRequested && choice.type === 'radio');\n              if (hasRequiredChoice && !choiceGroup.selectedChoice) {\n                this.errors.push(`ตัวเลือกในกลุ่ม \"${choiceGroup.groupName}\" ยังไม่ได้เลือกคำตอบ.`);\n                choiceGroup.error = true;\n              }\n              choiceGroup.choices.forEach((choice) => {\n                if (choice.isRequested && choice.type === 'textarea' && !choice.choiceValue) {\n                  this.errors.push(`ข้อความ \"${choiceGroup.groupName}\" ยังไม่ได้กรอกข้อมูล.`);\n                  choiceGroup.error = true;\n                }\n              });\n            } else {\n              choiceGroup.choices.forEach((choice) => {\n                if (choice.isRequested && choice.type === 'radio' && choice.choiceValue === null) {\n                  this.errors.push(`ตัวเลือก \"${choice.choiceText}\" ยังไม่ได้เลือกคำตอบ.`);\n                  choiceGroup.error = true;\n                } else if (choice.isRequested && choice.type === 'textarea' && !choice.choiceValue) {\n                  this.errors.push(`ข้อความ \"${choice.choiceText}\" ยังไม่ได้กรอกข้อมูล.`);\n                  choiceGroup.error = true;\n                }\n              });\n            }\n          });\n        if (this.errors.length > 0) {\n          this.hasErrors = true;\n        } else {\n          const result = {\n            name: this.surveyData.name,\n            score: this.surveyData.score,\n            scoreSummary: this.summaryScore,\n            choiceGroups: this.surveyData.choiceGroups.map((choiceGroup) => {\n              if (choiceGroup.groupType === 'custom') {\n                return {\n                  groupName: choiceGroup.groupName,\n                  groupType: choiceGroup.groupType,\n                  choices: choiceGroup.choices.map((choice) => ({\n                    choiceText: choice.choiceText,\n                    type: choice.type,\n                  })),\n                  selectedChoice: choiceGroup.choices.some(choice => choice.type === 'textarea')\n                  ? this.sanitizeString(choiceGroup.choices.find(choice => choice.type === 'textarea' && choice.choiceValue)?.choiceValue || '')\n                  : choiceGroup.selectedChoice,\n                };\n              } else {\n                return {\n                  groupName: choiceGroup.groupName,\n                  groupType: choiceGroup.groupType,\n                  choices: choiceGroup.choices.map((choice) => {\n                    return {\n                      choiceText: choice.choiceText,\n                      type: choice.type,\n                      choiceValue: choice.type === 'textarea' ? this.sanitizeString(choice.choiceValue || '') : choice.choiceValue, // Apply sanitizeString if textarea\n                    };\n                  }),\n                };\n              }\n            }),\n          };\n          this.preview = result\n          this.$emit(\"save-result\", result);\n        }\n      },\n      clearSurvey() {\n        this.surveyData.choiceGroups.forEach((choiceGroup) => {\n          if (choiceGroup.groupType === 'custom') {\n            choiceGroup.selectedChoice = null;\n          } else {\n            choiceGroup.choices.forEach((choice) => {\n              if (choice.type === 'radio') {\n                choice.choiceValue = null;\n              } else if (choice.type === 'textarea') {\n                choice.choiceValue = '';\n              }\n            });\n          }\n        });\n      },\n    }\n  };\n  </script>\n  \n<style scoped>\n.error-class { \n  border: 2px solid #ff8e8e;\n}\n</style>\n","import { render } from \"./SurveyResult.vue?vue&type=template&id=e54faf52&scoped=true\"\nimport script from \"./SurveyResult.vue?vue&type=script&lang=js\"\nexport * from \"./SurveyResult.vue?vue&type=script&lang=js\"\n\nimport \"./SurveyResult.vue?vue&type=style&index=0&id=e54faf52&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e54faf52\"]])\n\nexport default __exports__"],"names":["key","class","role","href","type","readonly","style","opacity","_createElementBlock","_Fragment","lesson","this","_createBlock","_component_templete","default","_withCtx","$data","playerDataStatus","_createCommentVNode","_hoisted_1","_createVNode","_component_Loader","_","isModalOpen","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","surveyData","name","onClick","_cache","args","$options","closeModal","xmlns","fill","viewBox","stroke","d","_hoisted_6","_component_SurveyResult","scoreItemLabels","surveyResults","onSaveResult","saveSurveyResult","_hoisted_7","deviceType","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_component_router_link","to","standalone","_hoisted_13","_hoisted_14","_createTextVNode","_hoisted_15","_hoisted_16","session","mode","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_component_font_awesome_icon","icon","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","id","_hoisted_27","innerHTML","formatPrice","regular_price","sale_price","_hoisted_28","_hoisted_29","short_description","_hoisted_30","description","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","players","length","hours","_normalizeClass","checkExam","_hoisted_40","_hoisted_41","certification","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","login","loggedInComputed","enrollAccess","dataItem","_ctx","groupedPlayers","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","analytics","percent","message","scoreDate","checkDueDate","_hoisted_53","_hoisted_54","_hoisted_55","formatThaidate","cert_owner_corperate","enrollData","retest","score","measure","$event","assignCertification","_hoisted_56","_hoisted_57","status","disabled","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_58","_normalizeStyle","_hoisted_63","_hoisted_64","_hoisted_62","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_65","_hoisted_69","_component_CertOwnerSelector","certOwnerType","onEdit","handleEdit","visibility","_hoisted_72","orderCourse","enrollCourse","_id","_hoisted_70","_hoisted_71","_component_LoginPopup","onLoginSuccess","handleLoginSuccess","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","src","cover","defaultCoverUrl","alt","_hoisted_78","_hoisted_79","_hoisted_80","objective","_hoisted_81","_hoisted_82","_hoisted_83","_createStaticVNode","_hoisted_84","_component_Playlist","courseData","playerItem","playOption","onDataFetched","handleDataFromChild","debug","userSubmit","onsite","loadedForm","_component_Form","onsiteForm","masterItem","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","value","localCertOwnerType","onChange","updateCertOwnerType","openModal","_component_CustomModal","showModal","isModalVisible","modalType","data","$props","owner_data","onClose","onSave","handleSave","modalTitle","formData","prefix","firstName","lastName","corpName","address","rows","save","isInitialEmpty","props","Boolean","Object","String","required","computed","watch","immediate","handler","newData","methods","$emit","dataToSave","__exports__","Request","requestClient","components","CustomModal","configs","storageManager","get","newValue","response","PUT","owner_type","console","log","error","location","reload","statusArray","label","styleClass","LoginPopup","Playlist","Loader","SurveyResult","CertOwnerSelector","Form","uniqueVisitors","pageViewsPerDay","pageViewsPerWeek","pageViewsPerMonth","$route","params","enroll","deviceUtils","deviceDetect","exam","newType","date","timeZoneOffset","dueDate","Date","dueDateInThailand","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","now","nowInThailand","slack","getEnrollData","resAPIEnroll","POST","method","$and","courseID","userID","Error","enrollReturn","stripHtmlTags","html","tempElement","document","createElement","textContent","innerText","getStatus","statusObj","find","item","some","formatSeconds","seconds","convertUtils","secondsToTime","toThaiDatetime","regular","sale","getFilteredExams","filter","getData","loading_sources","responseHost","GET","display","certificationData","getCertification","Array","isArray","formID","getSubmitForm","getForm","$setPageTitle","requestData","resAPISurvey","owner","siteID","action","finalRes","activeBlock","orderAPI","fetch","headers","body","JSON","stringify","options","orderRes","json","enrollAPI","queryAPI","hidden","getEnroll","update","allItems","firstPlayer","firstrun","canPlay","preExam","$swal","title","text","showCancelButton","confirmButtonText","then","$router","push","result","resAPIESubmission","surveyId","submissionReturn","overflow","resAPISubmission","courseId","userId","survey","undefined","unit","current","surveyReturn","responseSurvey","slice","window","resAPI","user","siteName","certReturn","mounted","setup","course","render","_renderList","choiceGroups","choiceGroup","groupIndex","groupType","groupName","choices","choice","choiceIndex","selectedChoice","choiceText","choiceValue","count","optionIndex","updateCustomScore","summaryScore","saveResult","clearSurvey","hasErrors","errors","index","preview","totalScore","forEach","Number","hasCustomScore","customScore","sanitizeString","str","correctedPattern","replace","hasRequiredChoice","isRequested","scoreSummary","map"],"sourceRoot":""}