"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[2667],{12667:function(e,t,o){o.r(t),o.d(t,{default:function(){return g}});var s=o(20641),n=o(90033),i=o(53751);const r={class:"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-100"},a={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},l={class:"mt-1"};function c(e,t,o,c,u,m){return(0,s.uX)(),(0,s.CE)("div",r,[t[5]||(t[5]=(0,s.Lk)("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[(0,s.Lk)("h2",{class:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900"},"ลืมรหัสผ่าน"),(0,s.Lk)("p",{class:"mt-2 text-center text-sm text-gray-600"},[(0,s.eW)(" หรือ "),(0,s.Lk)("a",{href:"login",class:"font-medium text-indigo-600 hover:text-indigo-500"},"เข้าสู่ระบบ")])],-1)),(0,s.Lk)("div",a,[(0,s.Lk)("div",{class:(0,n.C4)(["bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 container",[u.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},[(0,s.Lk)("form",{class:"space-y-6",onSubmit:t[1]||(t[1]=(0,i.D$)(((...e)=>m.login&&m.login(...e)),["prevent"]))},[(0,s.Lk)("div",null,[t[2]||(t[2]=(0,s.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"อีเมล์/ชื่อผู้ใช้งาน",-1)),(0,s.Lk)("div",l,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>u.username=e),name:"username",placeholder:"ชื่อผู้ใช้",type:"email",autocomplete:"email",required:"",class:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"},null,512),[[i.Jo,u.username]])])]),t[3]||(t[3]=(0,s.Lk)("p",{class:"block text-sm font-medium text-gray-700"},"กรอกชื่อผู้ใช้งาน/อีเมล์ ที่ลงทะเบียนไว้กับเรา เพื่อขอรับลิงค์สำหรับตั้งค่ารหัสผ่านใหม่",-1)),t[4]||(t[4]=(0,s.Lk)("div",null,[(0,s.Lk)("button",{type:"submit",class:"flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},"ขอรับรหัสผ่านใหม่")],-1))],32)],2)])])}o(44114);var u=o(40475),m={name:"ContactUs",data(){return{username:"",activeBlock:!1}},components:{},methods:{async login(){try{this.activeBlock=!0;const e=await fetch("https://weiscp.fti.or.th/connector/api/user/login",{method:"POST",body:JSON.stringify({username:this.username,password:this.password}),headers:{"API-KEY":"h1MFg89fZh","SECRET-KEY":"f03y28LikajofkavhTN5P57lKnuUTT"}}),t=await e.json();if(t.login){let e=t.access.token;const o={token:e,login:!0,current:"none"};u.A.update("session",o),console.log("Login"),this.$swal({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,icon:"success",title:"แจ้งเตือน",text:"เข้าสู่ระบบเรียบร้อยแล้ว"}).then((()=>{this.$router.push("/member"),this.$router.go(this.$router.currentRoute)}))}else this.$swal({title:"เกิดข้อผิดพลาด",text:t.return,icon:"error",confirmButtonText:"ตกลง"}).then((()=>{this.activeBlock=!1}))}catch(e){console.log(e)}}},setup(){},mounted(){}},d=o(64621);const f=(0,d.A)(m,[["render",c]]);var g=f}}]);
//# sourceMappingURL=2667.468ce3fd.js.map