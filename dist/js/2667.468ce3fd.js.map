{"version":3,"file":"js/2667.468ce3fd.js","mappings":"oNAiGOA,MAAM,6E,GASJA,MAAM,yC,GAKEA,MAAM,Q,0CAdrBC,EAAAA,EAAAA,IA4BM,MA5BNC,EA4BM,cA3BJC,EAAAA,EAAAA,IAMM,OANDH,MAAM,oCAAkC,EAC3CG,EAAAA,EAAAA,IAA6F,MAAzFH,MAAM,oEAAmE,gBAC7EG,EAAAA,EAAAA,IAGI,KAHDH,MAAM,0CAAwC,EApGvDI,EAAAA,EAAAA,IAoGwD,WAEhDD,EAAAA,EAAAA,IAAyF,KAAtFE,KAAK,QAAQL,MAAM,qDAAoD,mBAAW,KAIzFG,EAAAA,EAAAA,IAkBM,MAlBNG,EAkBM,EAjBJH,EAAAA,EAAAA,IAgBM,OAhBDH,OA3GXO,EAAAA,EAAAA,IAAA,CA2GiB,6DAA4D,CAAsEC,EAAAC,YAAW,yBAA/E,eAAc,4C,EACrFN,EAAAA,EAAAA,IAaO,QAbDH,MAAM,YAAaU,SAAMC,EAAA,KAAAA,EAAA,IA5GvCC,EAAAA,EAAAA,KAAA,IAAAC,IA4GiDC,EAAAC,OAAAD,EAAAC,SAAAF,IAAK,e,EAC5CV,EAAAA,EAAAA,IAKM,yBAJJA,EAAAA,EAAAA,IAA+F,SAAxFa,IAAI,QAAQhB,MAAM,2CAA0C,wBAAoB,KACvFG,EAAAA,EAAAA,IAEM,MAFNc,EAEM,WADJd,EAAAA,EAAAA,IAA0S,SAhHxT,sBAAAQ,EAAA,KAAAA,EAAA,GAAAO,GAgH8BV,EAAAW,SAAQD,GAAEE,KAAK,WAAWC,YAAY,aAAaC,KAAK,QAAQC,aAAa,QAAQC,SAAA,GAASxB,MAAM,uL,iBAApGQ,EAAAW,gBAAQ,aAI5BhB,EAAAA,EAAAA,IAA8I,KAA3IH,MAAM,2CAA0C,2FAAuF,iBAE1IG,EAAAA,EAAAA,IAEM,aADJA,EAAAA,EAAAA,IAAuR,UAA/QmB,KAAK,SAAStB,MAAM,kOAAiO,uBAAiB,gB,yBAjH1R,GACEoB,KAAM,YACNK,IAAAA,GACE,MAAO,CACLN,SAAU,GACVV,aAAa,EAEjB,EACAiB,WAAY,CACZ,EACAC,QAAS,CACP,WAAMZ,GACF,IAEEa,KAAKnB,aAAc,EACnB,MAAMoB,QAAeC,MAAM,oDAC3B,CACEC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACnBf,SAAUS,KAAKT,SACfgB,SAAUP,KAAKO,WAEjBC,QAAS,CACP,UAAW,aACX,aAAc,oCAIZC,QAAmBR,EAAOS,OAEhC,GAAGD,EAAStB,MACZ,CAEE,IAAIwB,EAAYF,EAASG,OAAOC,MAEhC,MAAMC,EAAU,CACdD,MAAOF,EACPxB,OAAO,EACP4B,QAAS,QAEXC,EAAAA,EAAeC,OAAO,UAAUH,GAGhCI,QAAQC,IAAI,SACZnB,KAAKoB,MAAM,CACPC,OAAO,EACPC,SAAU,aACVC,mBAAmB,EACnBC,MAAO,IACPC,KAAM,UACNC,MAAO,YACPC,KAAM,6BACPC,MAAK,KAGN5B,KAAK6B,QAAQC,KAAK,WAClB9B,KAAK6B,QAAQE,GAAG/B,KAAK6B,QAAQG,aAAa,GAE9C,MAIEhC,KAAKoB,MAAM,CACXM,MAAO,iBACPC,KAAMlB,EAASwB,OACfR,KAAM,QACNS,kBAAmB,SAChBN,MAAK,KACN5B,KAAKnB,aAAc,CAAK,GAG9B,CACA,MAAOsD,GAELjB,QAAQC,IAAIgB,EACd,CACJ,GAEFC,KAAAA,GACA,EAEAC,OAAAA,GAEE,G,WCpFJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://node-backend/./src/extensions/modules/system/member/view/ForgotForm.vue","webpack://node-backend/./src/extensions/modules/system/member/view/ForgotForm.vue?3e3a"],"sourcesContent":["<script>\n\n// Component\nimport storageManager from '@/plugins/storage';\n// Plugin\n\nexport default {\n  name: 'ContactUs',\n  data() {\n    return {\n      username: '',\n      activeBlock: false\n    }\n  },\n  components: {    \n  },\n  methods: {\n    async login() {\n        try \n        {\n          this.activeBlock = true;\n          const resAPI = await fetch(\"https://weiscp.fti.or.th/connector/api/user/login\",\n          {\n            method: 'POST',\n            body: JSON.stringify({\n              username: this.username,\n              password: this.password\n            }),\n            headers: {\n              'API-KEY': 'h1MFg89fZh',\n              'SECRET-KEY': 'f03y28LikajofkavhTN5P57lKnuUTT',\n            }\n          });\n\n          const finalRes   = await resAPI.json();\n\n          if(finalRes.login)\n          {\n            //toast.success(\"เข้าสู่ระบบเรียบร้อยแล้ว.....\", {timeout:1000});\n            let userToken = finalRes.access.token;\n            // --------------------------------------------\n            const session = {\n              token: userToken,\n              login: true,\n              current: \"none\",\n            };\n            storageManager.update('session',session)\n            // --------------------------------------------\n\n            console.log(\"Login\")\n            this.$swal({\n                toast: true,\n                position: 'bottom-end',\n                showConfirmButton: false,\n                timer: 2000,\n                icon: 'success',\n                title: 'แจ้งเตือน',\n                text: 'เข้าสู่ระบบเรียบร้อยแล้ว',\n            }).then(() => \n            {\n              //location.reload();\n              this.$router.push('/member')\n              this.$router.go(this.$router.currentRoute)\n            });\n          }\n          else\n          {\n            //toast.error(finalRes.return, {timeout:1000});\n            this.$swal({\n            title: 'เกิดข้อผิดพลาด',\n            text: finalRes.return,\n            icon: 'error',\n            confirmButtonText: 'ตกลง'\n            }).then(() => {\n              this.activeBlock = false;\n            })\n          }\n        } \n        catch (error) \n        {\n          console.log(error)\n        }\n    }\n  },\n  setup() {\n  },\n \n  mounted() {\n    // let my_cookie_value = this.cookies.get(\"myCoookie\");\n    // console.log(my_cookie_value);\n  }\n}\n</script>\n\n<template>\n  \n\n  <div class=\"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-100\">\n    <div class=\"sm:mx-auto sm:w-full sm:max-w-md\">\n      <h2 class=\"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900\">ลืมรหัสผ่าน</h2>\n      <p class=\"mt-2 text-center text-sm text-gray-600\">\n        หรือ\n        <a href=\"login\" class=\"font-medium text-indigo-600 hover:text-indigo-500\">เข้าสู่ระบบ</a>\n      </p>\n    </div>\n\n    <div class=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n      <div class=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 container\" :data-content=\"'กำลังติดต่อฐานข้อมูล กรุณารอสักครู่.....'\" :class=\"[(activeBlock?'isblock' : 'isunblock')]\">\n        <form class=\"space-y-6\" @submit.prevent=\"login\">\n          <div>\n            <label for=\"email\" class=\"block text-sm font-medium text-gray-700\">อีเมล์/ชื่อผู้ใช้งาน</label>\n            <div class=\"mt-1\">\n              <input v-model=\"username\" name=\"username\" placeholder=\"ชื่อผู้ใช้\" type=\"email\" autocomplete=\"email\" required class=\"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm\">\n            </div>\n          </div>\n\n          <p class=\"block text-sm font-medium text-gray-700\">กรอกชื่อผู้ใช้งาน/อีเมล์ ที่ลงทะเบียนไว้กับเรา เพื่อขอรับลิงค์สำหรับตั้งค่ารหัสผ่านใหม่</p>\n\n          <div>\n            <button type=\"submit\" class=\"flex w-full justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">ขอรับรหัสผ่านใหม่</button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n\n</template>","import { render } from \"./ForgotForm.vue?vue&type=template&id=ea1c5aaa\"\nimport script from \"./ForgotForm.vue?vue&type=script&lang=js\"\nexport * from \"./ForgotForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createTextVNode","href","_hoisted_2","_normalizeClass","$data","activeBlock","onSubmit","_cache","_withModifiers","args","$options","login","for","_hoisted_3","$event","username","name","placeholder","type","autocomplete","required","data","components","methods","this","resAPI","fetch","method","body","JSON","stringify","password","headers","finalRes","json","userToken","access","token","session","current","storageManager","update","console","log","$swal","toast","position","showConfirmButton","timer","icon","title","text","then","$router","push","go","currentRoute","return","confirmButtonText","error","setup","mounted","__exports__","render"],"sourceRoot":""}