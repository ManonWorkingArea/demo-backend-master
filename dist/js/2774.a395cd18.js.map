{"version":3,"file":"js/2774.a395cd18.js","mappings":"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","sources":["webpack://node-backend/./src/extensions/modules/multiverse/origin/component/collection/Collection.vue","webpack://node-backend/./src/extensions/modules/multiverse/origin/component/collection/CollectionService.js","webpack://node-backend/./src/extensions/modules/multiverse/origin/component/collection/Collection.vue?e48d","webpack://node-backend/./src/utils/authen.vue","webpack://node-backend/./src/utils/authen.vue?6a92"],"sourcesContent":["<script>\n\n// Component\nimport feather from 'feather-icons';\nimport Loader from '@/interface/template/Loader.vue';\nimport storageManager from '@/plugins/storage';\nimport CollectionService from './CollectionService.js';\n\nexport default {\n    inject: ['apiServerName','saltSecret'],\n    data() {\n      return {\n        accessToken: storageManager.get('session','token'),\n        listItems: [],\n        loading_sources: true,\n        hostkey: this.$Key,\n        collectionService: null,\n        error: null,\n        isRefreshing: false,\n        viewMode: 'grid', // grid หรือ list\n        searchTerm: '',\n        sortBy: 'name_asc',\n        selectedItems: [],\n        bulkActions: false,\n        openCardMenu: null,\n        stats: {\n          total: 0,\n          active: 0,\n          empty: 0,\n          totalAssets: 0\n        },\n        showMobileSidebar: false,\n        selectedCollection: null,\n        sidebarMenuItems: [\n          { value: 'all', label: 'ทั้งหมด', icon: 'fas fa-folder', count: 0 },\n          { value: 'active', label: 'ใช้งานได้', icon: 'fas fa-check-circle', count: 0 },\n          { value: 'empty', label: 'ว่างเปล่า', icon: 'fas fa-exclamation-triangle', count: 0 },\n          { value: 'incomplete', label: 'ไม่สมบูรณ์', icon: 'fas fa-times-circle', count: 0 }\n        ],\n        activeFilter: 'all'\n      }\n    },\n    components: {\n      Loader\n    },\n    computed: {\n      filteredCollections() {\n        let filtered = this.listItems;\n\n        // Filter by status\n        if (this.activeFilter !== 'all') {\n          filtered = filtered.filter(item => this.getCollectionStatus(item) === this.activeFilter);\n        }\n\n        // Filter by search term\n        if (this.searchTerm) {\n          const search = this.searchTerm.toLowerCase();\n          filtered = filtered.filter(item => \n            (item.siteName && item.siteName.toLowerCase().includes(search)) ||\n            (item.hostname && item.hostname.toLowerCase().includes(search))\n          );\n        }\n\n        // Sort collections\n        return this.sortCollections(filtered);\n      }\n    },\n    methods: {\n      async getData() {\n        if (!storageManager.get('session','login')) {\n          return;\n        }\n\n        try {\n          this.loading_sources = false;\n          this.error = null;\n\n          // ใช้ CollectionService แทนการเรียก API โดยตรง\n          const collections = await this.collectionService.getCollectionsWithAssets();\n          \n          this.listItems = collections;\n          this.loading_sources = true;\n          this.calculateStats();\n\n        } catch (error) {\n          console.error('Error loading collections:', error);\n          this.error = 'ไม่สามารถโหลดข้อมูล Collection ได้';\n          this.loading_sources = true;\n        }\n      },\n\n      async refreshData() {\n        if (this.isRefreshing) return;\n        \n        try {\n          this.isRefreshing = true;\n          const collections = await this.collectionService.refreshData();\n          this.listItems = collections;\n        } catch (error) {\n          console.error('Error refreshing collections:', error);\n          this.error = 'ไม่สามารถรีเฟรชข้อมูลได้';\n        } finally {\n          this.isRefreshing = false;\n        }\n      },\n\n      async deleteData(id) {\n        if (!storageManager.get('session','login')) {\n          return;\n        }\n\n        if (!confirm('คุณแน่ใจหรือไม่ที่จะลบ Collection นี้?')) {\n          return;\n        }\n\n        try {\n          this.loading_sources = false;\n          \n          await this.collectionService.deleteCollection(id);\n          \n          // โหลดข้อมูลใหม่หลังจากลบ\n          await this.getData();\n\n        } catch (error) {\n          console.error('Error deleting collection:', error);\n          this.error = 'ไม่สามารถลบ Collection ได้';\n          this.loading_sources = true;\n        }\n      },\n\n      // เพิ่ม method สำหรับการจัดการ error\n      dismissError() {\n        this.error = null;\n      },\n\n      // Toggle card menu\n      toggleCardMenu(collectionId) {\n        this.openCardMenu = this.openCardMenu === collectionId ? null : collectionId;\n      },\n\n      closeCardMenu() {\n        this.openCardMenu = null;\n      },\n\n      // Handle click outside\n      handleClickOutside(event) {\n        if (this.openCardMenu && !event.target.closest('.dropdown-menu')) {\n          this.closeCardMenu();\n        }\n      },\n\n      // Toggle select all\n      toggleSelectAll(event) {\n        if (event.target.checked) {\n          this.selectedItems = this.listItems.map(item => item._id);\n          this.bulkActions = true;\n        } else {\n          this.selectedItems = [];\n          this.bulkActions = false;\n        }\n      },\n\n      // Toggle individual selection\n      toggleSelection(collectionId) {\n        const index = this.selectedItems.indexOf(collectionId);\n        if (index > -1) {\n          this.selectedItems.splice(index, 1);\n        } else {\n          this.selectedItems.push(collectionId);\n        }\n        this.bulkActions = this.selectedItems.length > 0;\n      },\n\n      // Bulk delete\n      async bulkDelete() {\n        if (!confirm(`คุณแน่ใจหรือไม่ที่จะลบ Collection ${this.selectedItems.length} รายการ?`)) {\n          return;\n        }\n\n        try {\n          this.loading_sources = false;\n          \n          for (const id of this.selectedItems) {\n            await this.collectionService.deleteCollection(id);\n          }\n          \n          this.selectedItems = [];\n          this.bulkActions = false;\n          await this.getData();\n\n        } catch (error) {\n          console.error('Error bulk deleting collections:', error);\n          this.error = 'ไม่สามารถลบ Collections ได้';\n          this.loading_sources = true;\n        }\n      },\n\n      // Get collection status\n      getCollectionStatus(collection) {\n        if (!collection.hostname || !collection.siteName) return 'incomplete';\n        if ((collection.assetsCount || 0) === 0) return 'empty';\n        return 'active';\n      },\n\n      // Get status class\n      getStatusClass(status) {\n        const statusClasses = {\n          'active': 'border-green-200 bg-green-50',\n          'empty': 'border-yellow-200 bg-yellow-50',\n          'incomplete': 'border-red-200 bg-red-50'\n        };\n        return statusClasses[status] || 'border-gray-200 bg-white';\n      },\n\n      // Calculate stats\n      calculateStats() {\n        const active = this.listItems.filter(item => this.getCollectionStatus(item) === 'active').length;\n        const empty = this.listItems.filter(item => this.getCollectionStatus(item) === 'empty').length;\n        const incomplete = this.listItems.filter(item => this.getCollectionStatus(item) === 'incomplete').length;\n        \n        this.stats = {\n          total: this.listItems.length,\n          active: active,\n          empty: empty,\n          totalAssets: this.listItems.reduce((sum, item) => sum + (item.assetsCount || 0), 0)\n        };\n\n        // Update sidebar menu counts\n        this.sidebarMenuItems.forEach(item => {\n          switch(item.value) {\n            case 'all':\n              item.count = this.stats.total;\n              break;\n            case 'active':\n              item.count = active;\n              break;\n            case 'empty':\n              item.count = empty;\n              break;\n            case 'incomplete':\n              item.count = incomplete;\n              break;\n          }\n        });\n      },\n\n      // Sidebar methods\n      toggleMobileSidebar() {\n        this.showMobileSidebar = !this.showMobileSidebar;\n      },\n\n      selectFilter(filterValue) {\n        this.activeFilter = filterValue;\n        this.filterCollections();\n        this.selectedCollection = null;\n        if (this.showMobileSidebar) {\n          this.toggleMobileSidebar(); // Close mobile sidebar after selection\n        }\n      },\n\n      filterCollections() {\n        // This method can be used to filter collections based on activeFilter\n        // For now, we'll handle filtering in computed property\n      },\n\n      sortCollections(collections) {\n        return collections.sort((a, b) => {\n          switch(this.sortBy) {\n            case 'name_asc':\n              return (a.siteName || '').localeCompare(b.siteName || '');\n            case 'name_desc':\n              return (b.siteName || '').localeCompare(a.siteName || '');\n            case 'assets_desc':\n              return (b.assetsCount || 0) - (a.assetsCount || 0);\n            case 'assets_asc':\n              return (a.assetsCount || 0) - (b.assetsCount || 0);\n            case 'date_desc':\n              return new Date(b.createdAt || 0) - new Date(a.createdAt || 0);\n            case 'date_asc':\n              return new Date(a.createdAt || 0) - new Date(b.createdAt || 0);\n            default:\n              return 0;\n          }\n        });\n      },\n\n      selectCollection(collection) {\n        this.selectedCollection = collection;\n      },\n\n      closeCollectionDetail() {\n        this.selectedCollection = null;\n      },\n\n      updated() {\n        feather.replace();\n      },\n    },\n    async mounted () {\n      try {\n        // สร้าง CollectionService instance\n        this.collectionService = new CollectionService(this.hostkey);\n        \n        // Add event listener for click outside\n        document.addEventListener('click', this.handleClickOutside);\n        \n        await this.getData();\n      } catch (error) {\n        console.error('Error initializing component:', error);\n        this.error = 'ไม่สามารถเริ่มต้นระบบได้';\n      }\n    },\n    beforeUnmount() {\n      // Remove event listener\n      document.removeEventListener('click', this.handleClickOutside);\n    },\n    setup() {\n      //console.log(\"Setup\");\n    },\n};\n</script>\n\n<template>\n  <div class=\"bg-gray-50 flex collection-container h-full\">\n    <!-- Sidebar -->\n    <div class=\"hidden lg:flex lg:w-64 lg:flex-col\">\n      <div class=\"flex flex-col flex-grow bg-white border-r border-gray-200 h-full\">\n        <!-- Sidebar Header -->\n        <div class=\"flex items-center justify-between px-4 py-4 border-b border-gray-200 flex-shrink-0\">\n          <h2 class=\"text-lg font-semibold text-gray-900\">Collections</h2>\n          <router-link\n            to=\"/origin/collection/add\"\n            class=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200\"\n            title=\"เพิ่ม Collection\"\n          >\n            <i class=\"fas fa-plus\"></i>\n          </router-link>\n        </div>\n\n        <!-- Quick Stats -->\n        <div class=\"px-4 py-4 border-b border-gray-200\">\n          <div class=\"grid grid-cols-2 gap-3\">\n            <div class=\"bg-blue-50 rounded-lg p-3\">\n              <div class=\"text-blue-600 text-xs font-medium\">ทั้งหมด</div>\n              <div class=\"text-blue-900 text-lg font-bold\">{{ stats.total }}</div>\n            </div>\n            <div class=\"bg-green-50 rounded-lg p-3\">\n              <div class=\"text-green-600 text-xs font-medium\">Assets</div>\n              <div class=\"text-green-900 text-lg font-bold\">{{ stats.totalAssets }}</div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Search -->\n        <div class=\"px-4 py-3 border-b border-gray-200\">\n          <div class=\"relative\">\n            <input\n              v-model=\"searchTerm\"\n              type=\"text\"\n              placeholder=\"ค้นหา Collections...\"\n              class=\"w-full pl-9 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n            <i class=\"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"></i>\n          </div>\n        </div>\n\n        <!-- Navigation Menu -->\n        <div class=\"px-4 py-4 border-b border-gray-200\">\n          <div class=\"space-y-1\">\n            <button\n              v-for=\"item in sidebarMenuItems\"\n              :key=\"item.value\"\n              @click=\"selectFilter(item.value)\"\n              :class=\"[\n                'w-full flex items-center justify-between px-3 py-2 text-sm rounded-lg transition-colors duration-200',\n                activeFilter === item.value \n                  ? 'bg-blue-100 text-blue-700 border-l-4 border-blue-500' \n                  : 'text-gray-700 hover:bg-gray-100'\n              ]\"\n            >\n              <div class=\"flex items-center gap-3\">\n                <i :class=\"item.icon\"></i>\n                <span>{{ item.label }}</span>\n              </div>\n              <span class=\"bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs\">\n                {{ item.count }}\n              </span>\n            </button>\n          </div>\n        </div>\n\n        <!-- Sort Options -->\n        <div class=\"px-4 py-4\">\n          <label class=\"block text-xs font-medium text-gray-700 mb-2\">เรียงลำดับ</label>\n          <select\n            v-model=\"sortBy\"\n            class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          >\n            <option value=\"name_asc\">ชื่อ A-Z</option>\n            <option value=\"name_desc\">ชื่อ Z-A</option>\n            <option value=\"assets_desc\">Assets มาก-น้อย</option>\n            <option value=\"assets_asc\">Assets น้อย-มาก</option>\n            <option value=\"date_desc\">วันที่ใหม่-เก่า</option>\n            <option value=\"date_asc\">วันที่ เก่า-ใหม่</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <!-- Main Content -->\n    <div class=\"flex-1 flex flex-col min-w-0 h-full\">\n      <!-- Mobile Header -->\n      <div class=\"lg:hidden bg-white border-b border-gray-200 px-4 py-3\">\n        <div class=\"flex items-center justify-between\">\n          <button\n            @click=\"toggleMobileSidebar\"\n            class=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg\"\n          >\n            <i class=\"fas fa-bars\"></i>\n          </button>\n          <h1 class=\"text-lg font-semibold text-gray-900\">Collections</h1>\n          <router-link\n            to=\"/origin/collection/add\"\n            class=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg\"\n          >\n            <i class=\"fas fa-plus\"></i>\n          </router-link>\n        </div>\n      </div>\n\n      <!-- Header Section -->\n      <div class=\"bg-white border-b border-gray-200 px-4 py-3\">\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center gap-4\">\n            <h1 class=\"hidden lg:block text-xl font-bold text-gray-900\">Collections Management</h1>\n            <button\n              @click=\"refreshData\"\n              :disabled=\"isRefreshing\"\n              class=\"flex items-center gap-2 px-3 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50\"\n            >\n              <i :class=\"['fas', isRefreshing ? 'fa-spinner fa-spin' : 'fa-refresh']\"></i>\n              <span class=\"hidden sm:inline\">{{ isRefreshing ? 'กำลังรีเฟรช...' : 'รีเฟรช' }}</span>\n            </button>\n          </div>\n          \n          <!-- View Mode Toggle -->\n          <div class=\"flex bg-gray-100 rounded-lg p-1\">\n            <button\n              @click=\"viewMode = 'grid'\"\n              :class=\"[\n                'px-3 py-1 rounded-md text-sm font-medium transition-colors duration-200',\n                viewMode === 'grid' ? 'bg-white text-gray-900 shadow' : 'text-gray-500 hover:text-gray-700'\n              ]\"\n            >\n              <i class=\"fas fa-th\"></i>\n            </button>\n            <button\n              @click=\"viewMode = 'list'\"\n              :class=\"[\n                'px-3 py-1 rounded-md text-sm font-medium transition-colors duration-200',\n                viewMode === 'list' ? 'bg-white text-gray-900 shadow' : 'text-gray-500 hover:text-gray-700'\n              ]\"\n            >\n              <i class=\"fas fa-list\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Main Content Area -->\n      <div class=\"flex-1 p-4 overflow-auto\">\n        <!-- Loading State -->\n        <div v-if=\"!loading_sources\" class=\"flex items-center justify-center py-20\">\n          <Loader/>\n        </div>\n\n        <!-- Error Message -->\n        <div v-else-if=\"error\" class=\"mb-4\">\n          <div class=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\n            <strong class=\"font-bold\">เกิดข้อผิดพลาด!</strong>\n            <span class=\"block sm:inline\"> {{ error }}</span>\n            <span class=\"absolute top-0 bottom-0 right-0 px-4 py-3\" @click=\"dismissError\">\n              <svg class=\"fill-current h-6 w-6 text-red-500\" role=\"button\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                <title>ปิด</title>\n                <path d=\"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\"/>\n              </svg>\n            </span>\n          </div>\n        </div>\n\n        <!-- Bulk Actions Bar -->\n        <div v-else-if=\"bulkActions && selectedItems.length > 0\" class=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4\">\n          <div class=\"flex items-center justify-between\">\n            <span class=\"text-blue-800 font-medium\">เลือกแล้ว {{ selectedItems.length }} รายการ</span>\n            <div class=\"flex items-center gap-3\">\n              <button\n                @click=\"bulkDelete\"\n                class=\"px-4 py-2 text-red-700 bg-red-100 border border-red-300 rounded-lg hover:bg-red-200 transition-colors duration-200\"\n              >\n                <i class=\"fas fa-trash mr-2\"></i>\n                ลบทั้งหมด\n              </button>\n              <button\n                @click=\"selectedItems = []; bulkActions = false\"\n                class=\"px-4 py-2 text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200 transition-colors duration-200\"\n              >\n                ยกเลิก\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- Collections Content -->\n        <div v-else-if=\"loading_sources\">\n          <!-- Grid View -->\n          <div v-if=\"viewMode === 'grid'\" class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\n            <router-link\n              v-for=\"collection in filteredCollections\"\n              :key=\"collection._id\"\n              :to=\"`/origin/collection/detail/${collection._id}`\"\n              class=\"relative bg-white rounded-lg shadow-md overflow-hidden transition-all duration-200 cursor-pointer content-card group\"\n              :class=\"[\n                getStatusClass(getCollectionStatus(collection)),\n                selectedItems.includes(collection._id) ? 'ring-2 ring-blue-500' : ''\n              ]\"\n            >\n              <!-- Selection Checkbox -->\n              <div class=\"absolute top-2 left-2 z-10\">\n                <input\n                  type=\"checkbox\"\n                  :checked=\"selectedItems.includes(collection._id)\"\n                  @click.stop.prevent=\"toggleSelection(collection._id)\"\n                  class=\"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500\"\n                />\n              </div>\n              <!-- Card Menu -->\n              <div class=\"absolute top-2 right-2 z-10\">\n                <button\n                  @click.stop.prevent=\"toggleCardMenu(collection._id)\"\n                  class=\"p-1 bg-white/80 hover:bg-white rounded-full shadow-sm transition-colors duration-200\"\n                >\n                  <i class=\"fas fa-ellipsis-v text-gray-600\"></i>\n                </button>\n                <!-- Dropdown Menu -->\n                <div\n                  v-if=\"openCardMenu === collection._id\"\n                  class=\"absolute right-0 mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 dropdown-menu z-20\"\n                >\n                  <router-link\n                    :to=\"`/origin/collection/detail/${collection._id}`\"\n                    class=\"flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    @click=\"closeCardMenu\"\n                  >\n                    <i class=\"fas fa-eye text-blue-500\"></i>\n                    <span>ดูรายละเอียด</span>\n                  </router-link>\n                  <router-link\n                    :to=\"`/origin/package/management/${collection._id}`\"\n                    class=\"flex items-center gap-3 px-4 py-2 text-sm text-purple-700 hover:bg-purple-50\"\n                    @click=\"closeCardMenu\"\n                  >\n                    <i class=\"fas fa-cog text-purple-500\"></i>\n                    <span>จัดการ Package</span>\n                  </router-link>\n                  <router-link\n                    :to=\"`/origin/collection/edit/${collection._id}`\"\n                    class=\"flex items-center gap-3 px-4 py-2 text-sm text-yellow-700 hover:bg-yellow-50\"\n                    @click=\"closeCardMenu\"\n                  >\n                    <i class=\"fas fa-edit text-yellow-500\"></i>\n                    <span>แก้ไข</span>\n                  </router-link>\n                  <div class=\"border-t border-gray-200 my-1\"></div>\n                  <button\n                    @click.stop=\"deleteData(collection._id); closeCardMenu()\"\n                    class=\"flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left\"\n                  >\n                    <i class=\"fas fa-trash text-red-500\"></i>\n                    <span>ลบ</span>\n                  </button>\n                </div>\n              </div>\n              <!-- Collection Image -->\n              <div class=\"relative h-32 bg-gray-100\">\n                <img\n                  v-if=\"collection.image\"\n                  :src=\"collection.image\"\n                  :alt=\"collection.siteName\"\n                  class=\"w-full h-full object-cover\"\n                />\n                <div v-else class=\"w-full h-full flex items-center justify-center\">\n                  <i class=\"fas fa-folder text-gray-400 text-3xl\"></i>\n                </div>\n                <!-- Status Badge -->\n                <div class=\"absolute bottom-2 left-2\">\n                  <span :class=\"[\n                    'px-2 py-1 text-xs font-medium rounded-full',\n                    getCollectionStatus(collection) === 'active' ? 'bg-green-100 text-green-800' :\n                    getCollectionStatus(collection) === 'empty' ? 'bg-yellow-100 text-yellow-800' :\n                    'bg-red-100 text-red-800'\n                  ]\">\n                    {{ getCollectionStatus(collection) === 'active' ? 'ใช้งานได้' :\n                      getCollectionStatus(collection) === 'empty' ? 'ว่างเปล่า' : 'ไม่สมบูรณ์' }}\n                  </span>\n                </div>\n              </div>\n              <!-- Collection Info -->\n              <div class=\"p-4\">\n                <h3 class=\"font-medium text-gray-900 truncate\">{{ collection.siteName || 'ไม่มีชื่อ' }}</h3>\n                <p class=\"text-sm text-gray-600 truncate mt-1\">{{ collection.hostname || 'ไม่มี hostname' }}</p>\n                <div v-if=\"collection.package\" class=\"mt-2\">\n                  <span class=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800\">\n                    <i class=\"fas fa-gift mr-1\"></i>\n                    {{ collection.package.name }}\n                  </span>\n                  <div class=\"text-xs text-gray-500 mt-1\">\n                    ฿{{ collection.package.price }}/{{ collection.package.duration }}\n                  </div>\n                </div>\n                <div class=\"flex items-center justify-between mt-3\">\n                  <span class=\"text-xs text-gray-500\">{{ collection.assetsCount || 0 }} Assets</span>\n                  <span class=\"text-xs text-gray-500\">{{ collection.createdAt ? new Date(collection.createdAt).toLocaleDateString('th-TH') : '' }}</span>\n                </div>\n              </div>\n            </router-link>\n            <!-- Add New Collection Card -->\n            <router-link\n              to=\"/origin/collection/add\"\n              class=\"relative bg-white border-2 border-dashed border-gray-300 rounded-lg overflow-hidden transition-all duration-200 hover:border-blue-400 hover:bg-blue-50 content-card flex items-center justify-center min-h-[200px]\"\n            >\n              <div class=\"text-center\">\n                <i class=\"fas fa-plus text-gray-400 text-3xl mb-2\"></i>\n                <p class=\"text-gray-600 font-medium\">เพิ่ม Collection ใหม่</p>\n              </div>\n            </router-link>\n          </div>\n          <!-- List View -->\n          <div v-else-if=\"viewMode === 'list'\" class=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\n            <div class=\"overflow-x-auto\">\n              <table class=\"min-w-full divide-y divide-gray-200\">\n                <thead class=\"bg-gray-50\">\n                  <tr>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      <input\n                        type=\"checkbox\"\n                        @change=\"toggleSelectAll\"\n                        class=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500\"\n                      />\n                    </th>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Collection</th>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">สถานะ</th>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Package</th>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Assets</th>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">วันที่สร้าง</th>\n                    <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">การจัดการ</th>\n                  </tr>\n                </thead>\n                <tbody class=\"bg-white divide-y divide-gray-200\">\n                  <tr v-for=\"collection in filteredCollections\" :key=\"collection._id\" class=\"hover:bg-gray-50\">\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\n                      <input\n                        type=\"checkbox\"\n                        :checked=\"selectedItems.includes(collection._id)\"\n                        @change=\"toggleSelection(collection._id)\"\n                        class=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500\"\n                      />\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\n                      <div class=\"flex items-center\">\n                        <div class=\"flex-shrink-0 h-10 w-10\">\n                          <div class=\"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center\">\n                            <i class=\"fas fa-folder text-gray-400\"></i>\n                          </div>\n                        </div>\n                        <div class=\"ml-4\">\n                          <div class=\"text-sm font-medium text-gray-900\">{{ collection.siteName || 'ไม่มีชื่อ' }}</div>\n                          <div class=\"text-sm text-gray-500\">{{ collection.hostname || 'ไม่มี hostname' }}</div>\n                        </div>\n                      </div>\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\n                      <span :class=\"[\n                        'inline-flex px-2 py-1 text-xs font-semibold rounded-full',\n                        getCollectionStatus(collection) === 'active' ? 'bg-green-100 text-green-800' :\n                        getCollectionStatus(collection) === 'empty' ? 'bg-yellow-100 text-yellow-800' :\n                        'bg-red-100 text-red-800'\n                      ]\">\n                        {{ getCollectionStatus(collection) === 'active' ? 'ใช้งานได้' :\n                           getCollectionStatus(collection) === 'empty' ? 'ว่างเปล่า' : 'ไม่สมบูรณ์' }}\n                      </span>\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\n                      <div v-if=\"collection.package\" class=\"flex items-center\">\n                        <span class=\"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800\">\n                          {{ collection.package.name }}\n                        </span>\n                        <div class=\"ml-2 text-xs text-gray-500\">\n                          ฿{{ collection.package.price }}/{{ collection.package.duration }}\n                        </div>\n                      </div>\n                      <span v-else class=\"text-sm text-gray-400\">ไม่มี Package</span>\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {{ collection.assetsCount || 0 }}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {{ collection.createdAt ? new Date(collection.createdAt).toLocaleDateString('th-TH') : '-' }}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n                      <router-link\n                        :to=\"`/origin/collection/detail/${collection._id}`\"\n                        class=\"text-blue-600 hover:text-blue-900 mr-3\"\n                      >\n                        ดู\n                      </router-link>\n                      <router-link\n                        :to=\"`/origin/collection/edit/${collection._id}`\"\n                        class=\"text-yellow-600 hover:text-yellow-900 mr-3\"\n                      >\n                        แก้ไข\n                      </router-link>\n                      <button\n                        @click=\"deleteData(collection._id)\"\n                        class=\"text-red-600 hover:text-red-900\"\n                      >\n                        ลบ\n                      </button>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <!-- Empty State -->\n          <div v-if=\"filteredCollections.length === 0\" class=\"text-center py-12\">\n            <i class=\"fas fa-folder-open text-gray-400 text-5xl mb-4\"></i>\n            <h3 class=\"text-lg font-medium text-gray-900 mb-2\">ไม่พบ Collections</h3>\n            <p class=\"text-gray-600 mb-6\">ลองเปลี่ยนตัวกรองหรือเพิ่ม Collection ใหม่</p>\n            <router-link\n              to=\"/origin/collection/add\"\n              class=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200\"\n            >\n              <i class=\"fas fa-plus\"></i>\n              <span>เพิ่ม Collection</span>\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Mobile Sidebar Overlay -->\n    <div \n      v-if=\"showMobileSidebar\" \n      class=\"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-50\"\n      @click=\"toggleMobileSidebar\"\n    >\n      <div \n        class=\"fixed left-0 top-0 h-full w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out\"\n        @click.stop\n      >\n        <!-- Mobile Sidebar Content (same as desktop sidebar) -->\n        <div class=\"flex flex-col h-full\">\n          <!-- Sidebar Header -->\n          <div class=\"flex items-center justify-between px-4 py-4 border-b border-gray-200\">\n            <h2 class=\"text-lg font-semibold text-gray-900\">Collections</h2>\n            <button @click=\"toggleMobileSidebar\" class=\"p-2 text-gray-600 hover:bg-gray-100 rounded-lg\">\n              <i class=\"fas fa-times\"></i>\n            </button>\n          </div>\n\n          <!-- Quick Stats -->\n          <div class=\"px-4 py-4 border-b border-gray-200\">\n            <div class=\"grid grid-cols-2 gap-3\">\n              <div class=\"bg-blue-50 rounded-lg p-3\">\n                <div class=\"text-blue-600 text-xs font-medium\">ทั้งหมด</div>\n                <div class=\"text-blue-900 text-lg font-bold\">{{ stats.total }}</div>\n              </div>\n              <div class=\"bg-green-50 rounded-lg p-3\">\n                <div class=\"text-green-600 text-xs font-medium\">Assets</div>\n                <div class=\"text-green-900 text-lg font-bold\">{{ stats.totalAssets }}</div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Search -->\n          <div class=\"px-4 py-3 border-b border-gray-200\">\n            <div class=\"relative\">\n              <input\n                v-model=\"searchTerm\"\n                type=\"text\"\n                placeholder=\"ค้นหา Collections...\"\n                class=\"w-full pl-9 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n              <i class=\"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"></i>\n            </div>\n          </div>\n\n          <!-- Navigation Menu -->\n          <div class=\"px-4 py-4 border-b border-gray-200\">\n            <div class=\"space-y-1\">\n              <button\n                v-for=\"item in sidebarMenuItems\"\n                :key=\"item.value\"\n                @click=\"selectFilter(item.value)\"\n                :class=\"[\n                  'w-full flex items-center justify-between px-3 py-2 text-sm rounded-lg transition-colors duration-200',\n                  activeFilter === item.value \n                    ? 'bg-blue-100 text-blue-700 border-l-4 border-blue-500' \n                    : 'text-gray-700 hover:bg-gray-100'\n                ]\"\n              >\n                <div class=\"flex items-center gap-3\">\n                  <i :class=\"item.icon\"></i>\n                  <span>{{ item.label }}</span>\n                </div>\n                <span class=\"bg-gray-200 text-gray-700 px-2 py-1 rounded-full text-xs\">\n                  {{ item.count }}\n                </span>\n              </button>\n            </div>\n          </div>\n\n          <!-- Sort Options -->\n          <div class=\"px-4 py-4\">\n            <label class=\"block text-xs font-medium text-gray-700 mb-2\">เรียงลำดับ</label>\n            <select\n              v-model=\"sortBy\"\n              class=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            >\n              <option value=\"name_asc\">ชื่อ A-Z</option>\n              <option value=\"name_desc\">ชื่อ Z-A</option>\n              <option value=\"assets_desc\">Assets มาก-น้อย</option>\n              <option value=\"assets_asc\">Assets น้อย-มาก</option>\n              <option value=\"date_desc\">วันที่ใหม่-เก่า</option>\n              <option value=\"date_asc\">วันที่ เก่า-ใหม่</option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n/* Collection container with full height */\n.collection-container {\n  height: 100vh;\n  max-height: 100vh;\n}\n\n/* Responsive adjustments */\n@media (max-width: 1024px) { \n  .sidebar-desktop {\n    display: none;\n  }\n}\n\n@media (max-width: 768px) { \n  .gap-3 {\n    gap: 0.5rem;\n  }\n  \n  .p-4 {\n    padding: 0.75rem;\n  }\n  \n  .text-sm {\n    font-size: 0.8rem;\n  }\n}\n\n/* Collection card animations */\n.content-card {\n  transition: all 0.2s ease-in-out;\n  position: relative;\n  overflow: hidden;\n}\n\n.content-card:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n}\n\n/* Sidebar menu item active state */\n.sidebar-menu-item {\n  position: relative;\n  overflow: hidden;\n}\n\n.sidebar-menu-item::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 3px;\n  height: 100%;\n  background: transparent;\n  transition: background-color 0.2s ease-in-out;\n}\n\n.sidebar-menu-item.active::before {\n  background: #3b82f6;\n}\n\n/* Mobile sidebar animation */\n.mobile-sidebar-enter {\n  transform: translateX(-100%);\n}\n\n.mobile-sidebar-enter-active {\n  transition: transform 0.3s ease-out;\n}\n\n.mobile-sidebar-enter-to {\n  transform: translateX(0);\n}\n\n.mobile-sidebar-leave {\n  transform: translateX(0);\n}\n\n.mobile-sidebar-leave-active {\n  transition: transform 0.3s ease-in;\n}\n\n.mobile-sidebar-leave-to {\n  transform: translateX(-100%);\n}\n\n/* Button hover effects */\n.btn-primary {\n  background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);\n  transition: all 0.2s ease-in-out;\n}\n\n.btn-primary:hover {\n  background: linear-gradient(135deg, #1d4ed8 0%, #1e40af 100%);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);\n}\n\n/* Status badges */\n.status-badge {\n  position: relative;\n  overflow: hidden;\n}\n\n.status-badge::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: -100%;\n  width: 100%;\n  height: 100%;\n  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);\n  transition: left 0.3s ease-in-out;\n}\n\n.status-badge:hover::before {\n  left: 100%;\n}\n\n/* Loading states */\n.loading-spinner {\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* Smooth transitions */\n.transition-all {\n  transition: all 0.2s ease-in-out;\n}\n\n.transition-colors {\n  transition: color 0.2s ease-in-out, background-color 0.2s ease-in-out;\n}\n\n.transition-transform {\n  transition: transform 0.3s ease-in-out;\n}\n\n/* Focus states */\n.focus\\:ring-2:focus {\n  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);\n}\n\n/* Line clamp utilities */\n.line-clamp-1 {\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.line-clamp-2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n/* Hover effects */\n.hover\\:shadow-md:hover {\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n}\n\n/* Dark mode support (if needed) */\n@media (prefers-color-scheme: dark) {\n  .dark-mode {\n    background-color: #1f2937;\n    color: #f9fafb;\n  }\n  \n  .dark-mode .bg-white {\n    background-color: #374151;\n  }\n  \n  .dark-mode .border-gray-200 {\n    border-color: #4b5563;\n  }\n  \n  .dark-mode .text-gray-900 {\n    color: #f9fafb;\n  }\n  \n  .dark-mode .text-gray-700 {\n    color: #d1d5db;\n  }\n  \n  .dark-mode .text-gray-600 {\n    color: #9ca3af;\n  }\n}\n\n/* High contrast mode */\n@media (prefers-contrast: high) {\n  .border-gray-200 {\n    border-color: #000;\n  }\n  \n  .text-gray-600 {\n    color: #000;\n  }\n  \n  .bg-gray-50 {\n    background-color: #fff;\n  }\n}\n\n/* Reduced motion */\n@media (prefers-reduced-motion: reduce) {\n  * {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n  }\n}\n\n/* Focus visible for accessibility */\n.focus-visible:focus {\n  outline: 2px solid #3b82f6;\n  outline-offset: 2px;\n}\n\n/* Skip link for accessibility */\n.skip-link {\n  position: absolute;\n  top: -40px;\n  left: 6px;\n  background: #3b82f6;\n  color: white;\n  padding: 8px;\n  text-decoration: none;\n  border-radius: 4px;\n  z-index: 1000;\n}\n\n.skip-link:focus {\n  top: 6px;\n}\n\n/* Add Content Card specific styles */\n.add-content-card {\n  transition: all 0.2s ease-in-out;\n}\n\n.add-content-card:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);\n}\n\n/* Dropdown menu styles */\n.dropdown-menu {\n  animation: fadeIn 0.2s ease-out;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-4px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Scrollbar styling */\n.overflow-auto::-webkit-scrollbar {\n  width: 6px;\n}\n\n.overflow-auto::-webkit-scrollbar-track {\n  background: #f1f5f9;\n  border-radius: 3px;\n}\n\n.overflow-auto::-webkit-scrollbar-thumb {\n  background: #cbd5e1;\n  border-radius: 3px;\n}\n\n.overflow-auto::-webkit-scrollbar-thumb:hover {\n  background: #94a3b8;\n}\n</style>","// Collection Service - จัดการ API calls และ business logic\nclass CollectionService {\n  constructor(hostkey) {\n    this.hostkey = hostkey;\n    this.baseUrl = 'https://gateway.cloudrestfulapi.com/api/hostname';\n    this.cache = {\n      collections: null,\n      assets: new Map(),\n      lastFetch: null\n    };\n    this.CACHE_DURATION = 5 * 60 * 1000; // 5 นาที\n  }\n\n  // ตรวจสอบว่า cache ยังใช้ได้อยู่ไหม\n  isCacheValid() {\n    return this.cache.lastFetch && \n           (Date.now() - this.cache.lastFetch) < this.CACHE_DURATION;\n  }\n\n  // ดึงข้อมูล Collections พร้อม Assets count และ Package data\n  async getCollectionsWithAssets() {\n    try {\n      // ใช้ cache ถ้ายังใหม่อยู่\n      if (this.isCacheValid() && this.cache.collections) {\n        return this.cache.collections;\n      }\n\n      // ดึงข้อมูล Collections\n      const collections = await this.fetchCollections();\n      \n      // ดึงข้อมูล Assets ทั้งหมดในครั้งเดียว (แทนที่จะทีละ collection)\n      const allAssets = await this.fetchAllAssets();\n      \n      // ดึงข้อมูล Packages ทั้งหมด\n      const allPackages = await this.fetchAllPackages();\n      \n      // นับ Assets และเพิ่ม Package info สำหรับแต่ละ Collection\n      const collectionsWithData = collections.map(collection => {\n        const assetsCount = allAssets.filter(asset => asset.parent === collection._id).length;\n        const packageInfo = allPackages.find(pkg => pkg._id === collection.packageId);\n        \n        return {\n          ...collection,\n          assetsCount,\n          package: packageInfo || null\n        };\n      });\n\n      // บันทึก cache\n      this.cache.collections = collectionsWithData;\n      this.cache.lastFetch = Date.now();\n\n      return collectionsWithData;\n    } catch (error) {\n      console.error('Error fetching collections with assets:', error);\n      throw error;\n    }\n  }\n\n  // ดึงข้อมูล Collections\n  async fetchCollections() {\n    const response = await fetch(`${this.baseUrl}/query`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'client-token-key': this.hostkey\n      },\n      body: JSON.stringify({\n        method: 'find',\n        args: [{ siteType: 'collection' }]\n      })\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    return await response.json();\n  }\n\n  // ดึงข้อมูล Assets ทั้งหมดในครั้งเดียว\n  async fetchAllAssets() {\n    const response = await fetch(`${this.baseUrl}/query`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'client-token-key': this.hostkey\n      },\n      body: JSON.stringify({\n        method: 'find',\n        args: [{ siteType: 'asset' }]\n      })\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    return await response.json();\n  }\n\n  // ดึงข้อมูล Packages ทั้งหมด\n  async fetchAllPackages() {\n    try {\n      const response = await fetch('https://gateway.cloudrestfulapi.com/api/package/query', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'client-token-key': this.hostkey\n        },\n        body: JSON.stringify({\n          method: 'find',\n          args: [{ status: true }]\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      return await response.json();\n    } catch (error) {\n      console.error('Error fetching packages:', error);\n      return []; // Return empty array if packages can't be fetched\n    }\n  }\n\n  // ลบ Collection\n  async deleteCollection(id) {\n    try {\n      const response = await fetch(`${this.baseUrl}/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'client-token-key': this.hostkey\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      // ล้าง cache หลังจากลบ\n      this.clearCache();\n      \n      return await response.json();\n    } catch (error) {\n      console.error('Error deleting collection:', error);\n      throw error;\n    }\n  }\n\n  // ดึงข้อมูล Assets ของ Collection เฉพาะ\n  async getAssetsByCollection(collectionId) {\n    try {\n      // ตรวจสอบ cache ก่อน\n      if (this.cache.assets.has(collectionId)) {\n        return this.cache.assets.get(collectionId);\n      }\n\n      const response = await fetch(`${this.baseUrl}/query`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'client-token-key': this.hostkey\n        },\n        body: JSON.stringify({\n          method: 'find',\n          args: [{\n            $and: [\n              { siteType: 'asset' },\n              { parent: collectionId }\n            ]\n          }]\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const assets = await response.json();\n      \n      // บันทึก cache\n      this.cache.assets.set(collectionId, assets);\n      \n      return assets;\n    } catch (error) {\n      console.error('Error fetching assets for collection:', collectionId, error);\n      throw error;\n    }\n  }\n\n  // ล้าง cache\n  clearCache() {\n    this.cache.collections = null;\n    this.cache.assets.clear();\n    this.cache.lastFetch = null;\n  }\n\n  // Refresh cache โดยบังคับ\n  async refreshData() {\n    this.clearCache();\n    return await this.getCollectionsWithAssets();\n  }\n\n  // ตรวจสอบ Package limits\n  async validatePackageLimits(collectionId, type = 'asset') {\n    try {\n      // ดึงข้อมูล Collection และ Package\n      const collections = await this.getCollectionsWithAssets();\n      const collection = collections.find(c => c._id === collectionId);\n      \n      if (!collection || !collection.package) {\n        throw new Error('Collection หรือ Package ไม่พบ');\n      }\n\n      const packageLimits = collection.package.limits;\n      const currentCounts = {\n        assets: collection.assetsCount || 0,\n        users: await this.getUserCount(collectionId)\n      };\n\n      // ตรวจสอบ limits\n      const validation = {\n        isValid: true,\n        message: '',\n        limits: packageLimits,\n        current: currentCounts\n      };\n\n      if (type === 'asset' && packageLimits.maxAssets) {\n        if (currentCounts.assets >= packageLimits.maxAssets) {\n          validation.isValid = false;\n          validation.message = `ไม่สามารถเพิ่ม Asset ได้ เนื่องจากเกินขีดจำกัด (${currentCounts.assets}/${packageLimits.maxAssets})`;\n        }\n      }\n\n      if (type === 'user' && packageLimits.maxUsers) {\n        if (currentCounts.users >= packageLimits.maxUsers) {\n          validation.isValid = false;\n          validation.message = `ไม่สามารถเพิ่ม User ได้ เนื่องจากเกินขีดจำกัด (${currentCounts.users}/${packageLimits.maxUsers})`;\n        }\n      }\n\n      return validation;\n    } catch (error) {\n      console.error('Error validating package limits:', error);\n      throw error;\n    }\n  }\n\n  // ดึงจำนวน Users ใน Collection\n  async getUserCount(collectionId) {\n    try {\n      const response = await fetch('https://gateway.cloudrestfulapi.com/api/user/query', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'client-token-key': this.hostkey\n        },\n        body: JSON.stringify({\n          method: 'find',\n          args: [{\n            collection: { $in: [collectionId] }\n          }]\n        })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const users = await response.json();\n      return users.length;\n    } catch (error) {\n      console.error('Error getting user count:', error);\n      return 0;\n    }\n  }\n\n  // ตรวจสอบ Storage usage\n  async validateStorageLimits(collectionId, additionalSizeGB = 0) {\n    try {\n      const collections = await this.getCollectionsWithAssets();\n      const collection = collections.find(c => c._id === collectionId);\n      \n      if (!collection || !collection.package) {\n        throw new Error('Collection หรือ Package ไม่พบ');\n      }\n\n      const storageLimit = collection.package.limits.storageGB;\n      if (!storageLimit) {\n        return { isValid: true, message: 'ไม่มีขีดจำกัด Storage' };\n      }\n\n      // ดึงข้อมูล Storage usage ปัจจุบัน\n      const currentUsage = await this.getStorageUsage(collectionId);\n      const totalUsage = currentUsage + additionalSizeGB;\n\n      const validation = {\n        isValid: totalUsage <= storageLimit,\n        message: totalUsage > storageLimit ? \n          `ไม่สามารถใช้ Storage ได้ เนื่องจากเกินขีดจำกัด (${totalUsage.toFixed(2)}/${storageLimit} GB)` : \n          `Storage ใช้งานได้ (${totalUsage.toFixed(2)}/${storageLimit} GB)`,\n        limits: { storageGB: storageLimit },\n        current: { storageGB: currentUsage },\n        additional: additionalSizeGB\n      };\n\n      return validation;\n    } catch (error) {\n      console.error('Error validating storage limits:', error);\n      throw error;\n    }\n  }\n\n  // ดึงข้อมูล Storage usage\n  async getStorageUsage(collectionId) {\n    try {\n      const pipeline = [\n        {\n          $match: {\n            parent: collectionId\n          }\n        },\n        {\n          $group: {\n            _id: null,\n            totalSize: { $sum: \"$size\" }\n          }\n        }\n      ];\n\n      const response = await fetch('https://gateway.cloudrestfulapi.com/api/storage/aggregate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'client-token-key': this.hostkey\n        },\n        body: JSON.stringify({ pipeline })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const result = await response.json();\n      const totalBytes = result[0]?.totalSize || 0;\n      const totalGB = totalBytes / (1024 * 1024 * 1024); // Convert to GB\n      \n      return totalGB;\n    } catch (error) {\n      console.error('Error getting storage usage:', error);\n      return 0;\n    }\n  }\n}\n\nexport default CollectionService;\n","import { render } from \"./Collection.vue?vue&type=template&id=4324c899&scoped=true\"\nimport script from \"./Collection.vue?vue&type=script&lang=js\"\nexport * from \"./Collection.vue?vue&type=script&lang=js\"\n\nimport \"./Collection.vue?vue&type=style&index=0&id=4324c899&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4324c899\"]])\n\nexport default __exports__","<script>\nimport {useRoute} from 'vue-router';\nimport debug from '@/plugins/Logger.js';\nimport storageManager from '../plugins/storage.js';\n\nexport default {\n\tname: 'Authen',\n    data() {\n      return {\n        configs: storageManager.get('configs'),\n        session: storageManager.get('session'),\n      };\n    },\n    created() {\n        debug.option(this.$route);\n    },\n    computed: {\n    },\n\tcomponents: {\n\t},\n\tmounted() {\n    this.checkAuth();\n\t},\n\tupdated() {\n\t},\n\tmethods: {\n        async checkAuth()\n        {\n            const route      = useRoute();\n            const pageAuth   = route.meta.auth;\n            const page       = route.name;\n\n            const session \t\t= storageManager.get('session');\n            let accessToken     = session.token;\n            let hasLogin        = session.login;\n            let activeSchool    = session.current;\n\n            debug.log(\"hasLogin\",hasLogin)\n            debug.log(\"Page -> Auth:\",pageAuth)\n            debug.log(\"User -> Token:\",accessToken)\n            debug.log(\"User -> Login:\",hasLogin)\n\n            if(this.session.interface===\"frontend\")\n            {\n                debug.log(\"Front-End\");\n            }\n            else if(this.session.interface===\"backend\")\n            {\n                debug.log(\"Back-End\");\n                if(hasLogin) {// ถ้าเข้าสู๋ระบบแล้ว\n                    if (page==\"Login\" || activeSchool==undefined) { // ห้ามเข้าสู่ระบบซ้ำ || ยังไม่ได้เลือกโรงเรียน\n                        debug.log(\"Not Login Again\");\n                        this.$router.replace({path: '/'});\n                    } else {// เลือกโรงเรียนแล้ว\n                        debug.log(\"Has School Active\");\n                        if(pageAuth) {\n                            debug.log(\"This page is : Authen Request\");\n                            if(accessToken===\"\" || accessToken ===null || accessToken==undefined) {\n                                debug.log(\"Your Cannot Access\");\n                            } else {\n                                debug.log(\"Your Can Access\");\n                            }\n                        } else {\n                            debug.log(\"This page is : No Authen Request\");\n                        }\n                    }\n                    debug.log(\"Login\");\n                } else {// ยังไม่ได้เข้าสู่ระบบ\n                    debug.log(\"Not Login\");\n                    if(page!=\"Login\") { \n                        window.location.href = \"/member/login\"\n                        //this.$router.replace({path: '/member/login'});\n                        debug.log(\"Not Login Page\",page);\n                    } else {\n                        debug.log(\"Login Page\",page);\n                    }\n                }\n            }\n        },\n    },\n    setup() { \n    },\n};\n</script>\n\n<template>\n<div></div>\n</template>","import { render } from \"./authen.vue?vue&type=template&id=588dd34a\"\nimport script from \"./authen.vue?vue&type=script&lang=js\"\nexport * from \"./authen.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","role","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_router_link","to","title","default","_withCtx","_cache","_","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","$data","stats","total","_hoisted_9","_hoisted_10","totalAssets","_hoisted_11","_hoisted_12","$event","searchTerm","type","placeholder","_hoisted_13","_hoisted_14","_Fragment","_renderList","sidebarMenuItems","item","value","onClick","$options","selectFilter","_normalizeClass","activeFilter","_hoisted_16","icon","label","_hoisted_17","count","_hoisted_15","_hoisted_18","sortBy","_createStaticVNode","_hoisted_19","_hoisted_20","_hoisted_21","args","toggleMobileSidebar","_hoisted_22","_hoisted_23","_hoisted_24","refreshData","disabled","isRefreshing","_hoisted_26","_hoisted_25","_hoisted_27","viewMode","_hoisted_28","loading_sources","error","_hoisted_30","_hoisted_31","_hoisted_32","dismissError","xmlns","viewBox","d","bulkActions","selectedItems","length","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","bulkDelete","_createTextVNode","_hoisted_37","_hoisted_38","filteredCollections","collection","_createBlock","_id","getStatusClass","getCollectionStatus","includes","_hoisted_39","checked","_withModifiers","toggleSelection","_hoisted_40","_hoisted_41","toggleCardMenu","_hoisted_42","openCardMenu","_hoisted_43","closeCardMenu","deleteData","_hoisted_44","_createCommentVNode","_hoisted_45","image","src","alt","siteName","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","hostname","package","_hoisted_52","_hoisted_53","name","_hoisted_54","price","duration","_hoisted_55","_hoisted_56","assetsCount","_hoisted_57","createdAt","Date","toLocaleDateString","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","onChange","toggleSelectAll","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75","_hoisted_76","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_29","_component_Loader","showMobileSidebar","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","_hoisted_88","_hoisted_89","_hoisted_90","_hoisted_91","_hoisted_92","_hoisted_93","_hoisted_95","_hoisted_96","_hoisted_94","_hoisted_97","CollectionService","constructor","hostkey","this","baseUrl","cache","collections","assets","Map","lastFetch","CACHE_DURATION","isCacheValid","now","getCollectionsWithAssets","fetchCollections","allAssets","fetchAllAssets","allPackages","fetchAllPackages","collectionsWithData","map","filter","asset","parent","packageInfo","find","pkg","packageId","console","response","fetch","method","headers","body","JSON","stringify","siteType","ok","Error","status","json","deleteCollection","id","clearCache","getAssetsByCollection","collectionId","has","get","$and","set","clear","validatePackageLimits","c","packageLimits","limits","currentCounts","users","getUserCount","validation","isValid","message","current","maxAssets","maxUsers","$in","validateStorageLimits","additionalSizeGB","storageLimit","storageGB","currentUsage","getStorageUsage","totalUsage","toFixed","additional","pipeline","$match","$group","totalSize","$sum","result","totalBytes","totalGB","inject","data","accessToken","storageManager","listItems","$Key","collectionService","active","empty","selectedCollection","components","Loader","computed","filtered","search","toLowerCase","sortCollections","methods","getData","calculateStats","confirm","handleClickOutside","event","target","closest","index","indexOf","splice","push","statusClasses","incomplete","reduce","sum","forEach","filterValue","filterCollections","sort","a","b","localeCompare","selectCollection","closeCollectionDetail","updated","feather","mounted","document","addEventListener","beforeUnmount","removeEventListener","setup","__exports__","render","configs","session","created","debug","option","$route","checkAuth","route","useRoute","pageAuth","meta","auth","page","token","hasLogin","login","activeSchool","log","interface","undefined","$router","replace","path","window","location","href"],"sourceRoot":""}