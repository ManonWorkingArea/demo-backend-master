"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[2781],{32781:function(e,s,t){t.r(s),t.d(s,{default:function(){return R}});var a=t(20641);function l(e,s,t,l,r,n){return(0,a.uX)(),(0,a.Wv)((0,a.$y)(n.componentName))}var r=t(52968),n=t(75220),c=t(40475),o=t(53751),i=t(90033);const u={class:"container mx-auto p-6"},d={class:"mb-2 flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4"},f={key:0,class:"bg-white"},p={key:0,class:"mt-6"},h={key:0},x={key:1},m={key:1,class:"text-sm text-gray-500 mt-4"},b={key:1,class:"mt-6 text-gray-500"};function g(e,s,t,l,r,n){return(0,a.uX)(),(0,a.CE)("div",u,[s[10]||(s[10]=(0,a.Lk)("div",{class:"mb-10 mt-12"},[(0,a.Lk)("div",{class:"w-full text-center text-2xl font-bold mb-2"},"ระบบสืบค้นข้อมูลใบประกาศนียบัตร"),(0,a.Lk)("div",{class:"text-center text-gray-600"},"หลักสูตรผู้ควบคุมการขายวัตถุอันตรายทางการเกษตร สําหรับให้ผู้อบรมและเจ้าหน้าที่ กรมวิชาการเกษตรในการค้นหาข้อมูล")],-1)),(0,a.Lk)("div",d,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>r.searchQuery=e),onKeyup:s[1]||(s[1]=(0,o.jR)(((...e)=>n.fetchResults&&n.fetchResults(...e)),["enter"])),type:"text",placeholder:"พิมพ์หมายเลขบัตรประชาชน เบอร์โทร หรืออีเมล์ที่ลงทะเบียน...",class:"p-3 border border-gray-300 rounded-lg flex-1 text-gray-700 focus:ring-2 focus:ring-blue-400 focus:outline-none"},null,544),[[o.Jo,r.searchQuery]]),(0,a.Lk)("button",{onClick:s[2]||(s[2]=(...e)=>n.fetchResults&&n.fetchResults(...e)),class:"bg-blue-500 text-white px-6 py-3 rounded-lg shadow-md hover:bg-blue-600 transition-all"},s[4]||(s[4]=[(0,a.Lk)("i",{class:"fas fa-search text-lg"},null,-1),(0,a.eW)(" ค้นหา ")]))]),r.user?((0,a.uX)(),(0,a.CE)("div",f,[r.user.enrollments.length?((0,a.uX)(),(0,a.CE)("div",p,[(0,a.Lk)("div",{class:(0,i.C4)(["mt-6 p-6 rounded-lg text-center",{"bg-green-100 text-green-700":"Pass"===n.overallResult.status,"bg-red-100 text-red-700":"No Pass"===n.overallResult.status,"bg-gray-100 text-gray-500":!r.user}])},["Pass"===n.overallResult.status?((0,a.uX)(),(0,a.CE)("div",h,[s[6]||(s[6]=(0,a.Lk)("p",{class:"text-2xl font-extrabold"},"คุณผ่านหลักสูตรนี้เรียบร้อยแล้ว",-1)),s[7]||(s[7]=(0,a.Lk)("p",{class:"mt-4 text-black"},"โปรดคลิกปุ่มด้านล่างเพื่อดูใบประกาศนียบัตรของคุณ",-1)),(0,a.Lk)("button",{class:"mt-6 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-all",onClick:s[3]||(s[3]=e=>n.openCertification(n.overallResult.course))},s[5]||(s[5]=[(0,a.Lk)("i",{class:"fas fa-id-card text-xl"},null,-1),(0,a.eW)(" ดูใบประกาศนียบัตร ")]))])):"No Pass"===n.overallResult.status?((0,a.uX)(),(0,a.CE)("div",x,s[8]||(s[8]=[(0,a.Fv)('<p class="text-2xl font-extrabold text-red-700">ท่านยังสอบหลักสูตรนี้ไม่ผ่าน</p><p class="mt-4 text-black">โปรดติดต่อ FTI Academy เพื่อลงทะเบียนสมัครอบรม</p><p class="mt-4 text-black">ติดต่อสอบถามได้ที่:</p><div class="flex justify-center space-x-4 mt-4 text-black"><a href="tel:+1234567890" class="flex items-center space-x-2"><i class="fas fa-phone-alt text-xl"></i><span>1453 กด 12</span></a><a href="https://lin.ee/xBi6NnY" class="flex items-center space-x-2"><img width="24" height="24" src="https://img.icons8.com/fluency-systems-filled/50/line-me.png" alt="line-me"><span>LINE</span></a><a href="https://doa.fti.or.th/" class="flex items-center space-x-2"><i class="fas fa-globe text-xl"></i><span>Website</span></a></div>',4)]))):(0,a.Q3)("",!0)],2)])):((0,a.uX)(),(0,a.CE)("div",m,"No enrollments found."))])):r.searched?((0,a.uX)(),(0,a.CE)("div",b,s[9]||(s[9]=[(0,a.Fv)('<div class="mt-6 p-6 rounded-lg text-center bg-gray-100 text-gray-700"><div><p class="text-2xl font-extrabold">ยังไม่มีข้อมูลของท่านในระบบ</p><p class="mt-4">โปรดติดต่อ FTI Academy เพื่อลงทะเบียนสมัครอบรม</p><p class="mt-4">ติดต่อสอบถามได้ที่:</p><div class="flex justify-center space-x-4 mt-4"><a href="tel:+1234567890" class="flex items-center space-x-2"><i class="fas fa-phone-alt text-xl"></i><span>1453 กด 12</span></a><a href="https://lin.ee/xBi6NnY" class="flex items-center space-x-2"><img width="24" height="24" src="https://img.icons8.com/fluency-systems-filled/50/line-me.png" alt="line-me"><span>LINE</span></a><a href="https://doa.fti.or.th/" class="flex items-center space-x-2"><i class="fas fa-globe text-xl"></i><span>Website</span></a></div></div></div>',1)]))):(0,a.Q3)("",!0)])}var y=t(94335),v={data(){return{searchQuery:"",user:null,searched:!1,configs:c.A.get("configs"),session:c.A.get("session"),courseIDs:["646399b1db2e5913d490fdc1","646399b3db2e5913d490fdc2","646399b5db2e5913d490fdc3","646399b6db2e5913d490fdc4","646399b8db2e5913d490fdc5","65c967c4e83775a8e0d42771","64ba0f8e95b73060a5db8674"]}},methods:{courseId(){return this.overallResult.courseId},openCertification(e){this.courseIDs.includes(e._id)?window.open("https://node-frontend.pages.dev/certification-force?token="+this.user.token+"&session="+e.lesson_old_id,"_blank"):window.open("https://doa.fti.or.th/lesson/certification/"+e._id+"/"+this.user._id,"_blank")},async fetchResults(){this.searched=!1;try{const e={keyword:this.searchQuery.trim(),site:this.configs.siteID},s=await y.A.post("https://gateway.cloudrestfulapi.com/certification/search?key=DU1eYMDG7j8yb199YDPg3",e);this.user=s.data?.data||null}catch(e){console.error("Error fetching results:",e),this.user=null}finally{this.searched=!0}}},computed:{overallResult(){if(!this.user||!this.user.enrollments.length)return{status:"No Pass",courseId:null};for(const e of this.user.enrollments){const{post:s,retest:t}=e.analytics;if(s.score>=s.measure)return{status:"Pass",course:e.course,courseId:e.course?._id||null};if(t?.score>=t.measure)return{status:"Pass",course:e.course,courseId:e.course?._id||null}}return{status:"No Pass",courseId:null}}}},k=t(64621);const w=(0,k.A)(v,[["render",g]]);var C=w,L={name:"Certification Search",components:{Frontend:C},data(){return{session:c.A.get("session")}},setup(){const e=(0,n.lq)(),s=e.meta.title;(0,r.K7)(s)},computed:{componentName(){return"Frontend"}}};const I=(0,k.A)(L,[["render",l]]);var R=I}}]);
//# sourceMappingURL=2781.1f223951.js.map