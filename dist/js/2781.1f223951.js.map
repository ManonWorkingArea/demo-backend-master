{"version":3,"file":"js/2781.1f223951.js","mappings":"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","sources":["webpack://node-backend/./src/extensions/modules/elearning/lesson/view/course/Search.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/frontend/Search.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/frontend/Search.vue?ff4a","webpack://node-backend/./src/extensions/modules/elearning/lesson/view/course/Search.vue?8df5"],"sourcesContent":["<template>\n    <component :is=\"componentName\" />\n    </template>\n    \n    <script>\n    import { useTitle } from 'vue-page-title';\n    import { useRoute } from 'vue-router';\n    import storageManager from '@/plugins/storage';\n    import Frontend from '../../component/course/frontend/Search.vue';\n    \n    export default {\n    name: 'Certification Search',\n    components: {\n        Frontend,\n    },\n    data() {\n        return {\n            session: storageManager.get('session')\n        };\n    },\n    setup() {\n        const route = useRoute();\n        const routeName = route.meta.title;\n        useTitle(routeName);\n    },\n    computed: {\n        componentName() {\n            return 'Frontend';\n        }\n    }\n    };\n    </script>\n        ","<template>\n  <div class=\"container mx-auto p-6\">\n    <div class=\"mb-10 mt-12\">\n      <div class=\"w-full text-center text-2xl font-bold mb-2\">ระบบสืบค้นข้อมูลใบประกาศนียบัตร</div>\n      <div class=\"text-center text-gray-600\">หลักสูตรผู้ควบคุมการขายวัตถุอันตรายทางการเกษตร สําหรับให้ผู้อบรมและเจ้าหน้าที่ กรมวิชาการเกษตรในการค้นหาข้อมูล</div>\n    </div>\n    <!-- Search Bar -->\n    <div class=\"mb-2 flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4\">\n      \n      <input\n        v-model=\"searchQuery\"\n        @keyup.enter=\"fetchResults\"\n        type=\"text\"\n        placeholder=\"พิมพ์หมายเลขบัตรประชาชน เบอร์โทร หรืออีเมล์ที่ลงทะเบียน...\"\n        class=\"p-3 border border-gray-300 rounded-lg flex-1 text-gray-700 focus:ring-2 focus:ring-blue-400 focus:outline-none\"\n      />\n      <button\n        @click=\"fetchResults\"\n        class=\"bg-blue-500 text-white px-6 py-3 rounded-lg shadow-md hover:bg-blue-600 transition-all\"\n      >\n      <i class=\"fas fa-search text-lg\"></i> ค้นหา\n      </button>\n    </div>\n  \n    <!-- User Details -->\n    <div v-if=\"user\" class=\"bg-white \">\n\n      <div v-if=\"user.enrollments.length\" class=\"mt-6\">\n\n        <div class=\"mt-6 p-6 rounded-lg text-center\"\n        :class=\"{\n          'bg-green-100 text-green-700': overallResult.status === 'Pass',\n          'bg-red-100 text-red-700': overallResult.status === 'No Pass',\n          'bg-gray-100 text-gray-500': !user\n        }\">\n        <div v-if=\"overallResult.status === 'Pass'\">\n          <p class=\"text-2xl font-extrabold\">คุณผ่านหลักสูตรนี้เรียบร้อยแล้ว</p>\n          <p class=\"mt-4 text-black\">โปรดคลิกปุ่มด้านล่างเพื่อดูใบประกาศนียบัตรของคุณ</p>\n          <button\n            class=\"mt-6 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-all\"\n            @click=\"openCertification(overallResult.course)\"\n          >\n          <i class=\"fas fa-id-card text-xl\"></i> ดูใบประกาศนียบัตร\n          </button>\n        </div>\n        <div v-else-if=\"overallResult.status === 'No Pass'\">\n          <p class=\"text-2xl font-extrabold text-red-700\">ท่านยังสอบหลักสูตรนี้ไม่ผ่าน</p>\n          <p class=\"mt-4 text-black\">โปรดติดต่อ FTI Academy เพื่อลงทะเบียนสมัครอบรม</p>\n          <p class=\"mt-4 text-black\">ติดต่อสอบถามได้ที่:</p>\n          <div class=\"flex justify-center space-x-4 mt-4  text-black\">\n            <a href=\"tel:+1234567890\" class=\"flex items-center space-x-2\">\n              <i class=\"fas fa-phone-alt text-xl\"></i>\n              <span>1453 กด 12</span>\n            </a>\n            <a href=\"https://lin.ee/xBi6NnY\" class=\"flex items-center space-x-2\">\n              <img width=\"24\" height=\"24\" src=\"https://img.icons8.com/fluency-systems-filled/50/line-me.png\" alt=\"line-me\"/>\n              <span>LINE</span>\n            </a>\n            <a href=\"https://doa.fti.or.th/\" class=\"flex items-center space-x-2\">\n              <i class=\"fas fa-globe text-xl\"></i>\n              <span>Website</span>\n            </a>\n          </div>\n        </div>\n      </div>\n\n      </div>\n      <div v-else class=\"text-sm text-gray-500 mt-4\">No enrollments found.</div>\n    </div>\n\n    <!-- No Results -->\n    <div v-else-if=\"searched\" class=\"mt-6 text-gray-500\">\n\n      <div class=\"mt-6 p-6 rounded-lg text-center bg-gray-100 text-gray-700\">\n        <div>\n          <p class=\"text-2xl font-extrabold\">ยังไม่มีข้อมูลของท่านในระบบ</p>\n          <p class=\"mt-4\">โปรดติดต่อ FTI Academy เพื่อลงทะเบียนสมัครอบรม</p>\n          <p class=\"mt-4\">ติดต่อสอบถามได้ที่:</p>\n          <div class=\"flex justify-center space-x-4 mt-4\">\n            <a href=\"tel:+1234567890\" class=\"flex items-center space-x-2\">\n              <i class=\"fas fa-phone-alt text-xl\"></i>\n              <span>1453 กด 12</span>\n            </a>\n            <a href=\"https://lin.ee/xBi6NnY\" class=\"flex items-center space-x-2\">\n              <img width=\"24\" height=\"24\" src=\"https://img.icons8.com/fluency-systems-filled/50/line-me.png\" alt=\"line-me\"/>\n              <span>LINE</span>\n            </a>\n            <a href=\"https://doa.fti.or.th/\" class=\"flex items-center space-x-2\">\n              <i class=\"fas fa-globe text-xl\"></i>\n              <span>Website</span>\n            </a>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport storageManager from '@/plugins/storage';\n\nexport default {\n  data() {\n    return {\n      searchQuery: '',\n      user: null,\n      searched: false,\n      configs: storageManager.get('configs'),\n      session: storageManager.get('session'),\n      courseIDs: ['646399b1db2e5913d490fdc1', '646399b3db2e5913d490fdc2', '646399b5db2e5913d490fdc3', '646399b6db2e5913d490fdc4', '646399b8db2e5913d490fdc5', '65c967c4e83775a8e0d42771', '64ba0f8e95b73060a5db8674'],\n    };\n  },\n  methods: {\n    courseId() {\n      return this.overallResult.courseId;\n    },\n    openCertification(course) {\n      if (this.courseIDs.includes(course._id)) {\n        window.open('https://node-frontend.pages.dev/certification-force?token=' + this.user.token + '&session=' + course.lesson_old_id, '_blank');\n      } else {\n        window.open('https://doa.fti.or.th/lesson/certification/' + course._id + '/' + this.user._id, '_blank');\n      }\n    },\n    async fetchResults() {\n      this.searched = false;\n      try {\n        const body = {\n          keyword: this.searchQuery.trim(),\n          site: this.configs.siteID,\n        };\n        const response = await axios.post(\n          'https://gateway.cloudrestfulapi.com/certification/search?key=DU1eYMDG7j8yb199YDPg3',\n          body\n        );\n        this.user = response.data?.data || null;\n      } catch (error) {\n        console.error('Error fetching results:', error);\n        this.user = null;\n      } finally {\n        this.searched = true;\n      }\n    },\n  },\n  computed: {\n    overallResult() {\n      if (!this.user || !this.user.enrollments.length) return { status: 'No Pass', courseId: null };\n\n      for (const enroll of this.user.enrollments) {\n        const { post, retest } = enroll.analytics;\n\n        if (post.score >= post.measure) {\n          return { status: 'Pass', course:enroll.course, courseId: enroll.course?._id || null };\n        }\n\n        if (retest?.score >= retest.measure) {\n          return { status: 'Pass', course:enroll.course, courseId: enroll.course?._id || null };\n        }\n      }\n\n      return { status: 'No Pass', courseId: null };\n    },\n  }\n};\n</script>\n\n<style>\n.container {\n  max-width: 800px;\n}\n</style>\n","import { render } from \"./Search.vue?vue&type=template&id=5415b3ae\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport \"./Search.vue?vue&type=style&index=0&id=5415b3ae&lang=css\"\n\nimport exportComponent from \"../../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Search.vue?vue&type=template&id=decb3250\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_resolveDynamicComponent","$options","componentName","class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_cache","$event","$data","searchQuery","onKeyup","_withKeys","args","fetchResults","type","placeholder","onClick","_createTextVNode","user","_hoisted_3","enrollments","length","_hoisted_4","_normalizeClass","overallResult","status","_hoisted_5","openCertification","course","_hoisted_6","_createStaticVNode","_createCommentVNode","_hoisted_7","searched","_hoisted_8","data","configs","storageManager","get","session","courseIDs","methods","courseId","this","includes","_id","window","open","token","lesson_old_id","body","keyword","trim","site","siteID","response","axios","post","error","console","computed","enroll","retest","analytics","score","measure","__exports__","name","components","Frontend","setup","route","useRoute","routeName","meta","title","useTitle","render"],"sourceRoot":""}