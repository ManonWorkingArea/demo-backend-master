{"version":3,"file":"js/3176.74a35859.js","mappings":"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","sources":["webpack://node-backend/./src/extensions/modules/elearning/school/view/user/Add.vue","webpack://node-backend/./src/extensions/modules/elearning/school/component/user/Add.vue","webpack://node-backend/./src/extensions/modules/elearning/school/component/user/Add.vue?dadf","webpack://node-backend/./src/extensions/modules/elearning/school/view/user/Add.vue?7dd7","webpack://node-backend/./src/interface/template/outline/Breadcrumbs.vue","webpack://node-backend/./src/interface/template/outline/Breadcrumbs.vue?411a","webpack://node-backend/./src/utils/authen.vue","webpack://node-backend/./src/utils/authen.vue?6a92","webpack://node-backend/./src/plugins/email/emailTemplate.js","webpack://node-backend/./src/plugins/sendEmail.js"],"sourcesContent":["<script>\nimport {useTitle} \tfrom 'vue-page-title';\nimport {useRoute} \tfrom 'vue-router'\nimport Dashboard \tfrom '../../component/user/Add.vue';\nimport Authen \t\tfrom '@/utils/authen.vue';\nimport storageManager from '@/plugins/storage';\n\nexport default {\n\tname: 'Home',\n\tcomponents: {\n\t\tDashboard,\n\t\tAuthen\n\t},\n\tdata() { return { login: storageManager.get('session','login') } },\n\tmethods: {},\n\tmounted() {},\n\tsetup() {\n        const route     = useRoute();\n        const routeName = route.meta.title;\n        useTitle(routeName);\n\t\tconsole.log(\"Dashboard\");\n    },\n};\n</script>\n\n<template>\n<Authen/> \n<Dashboard v-if=\"this.login\"/> \n</template>","<script>\nimport Breadcrumbs from '@/interface/template/outline/Breadcrumbs.vue';\nimport CryptoJS from 'crypto-js';\nimport storageManager from '@/plugins/storage';\nimport { sendEmail } from '@/plugins/sendEmail';\n\nexport default {\n  name: 'ContactUs',\n  inject: ['apiServer'],\n  data() {\n    return {\n      firstname: '',\n      lastname: '',\n      phone: '',\n      email: '',\n      username: '',\n      password: '',\n      role: '',\n      configs: storageManager.get('configs'),\n      activeBlock: false\n    }\n  },\n  components: {\n    Breadcrumbs\n  },\n  methods: {\n    async addAdmin() {\n      try {\n        this.activeBlock = true;\n        const salt = CryptoJS.lib.WordArray.random(16);\n        const hash = CryptoJS.SHA256(this.password + salt).toString();\n        const resAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/user/\", {\n          method: 'POST',\n          headers: {'Content-Type': 'application/json','client-token-key':this.configs.key},\n          body: JSON.stringify({\n            data: {\n              firstname: this.firstname,\n              lastname: this.lastname,\n              phone: this.phone,\n              email: this.email,\n              username: this.username,\n              password: hash,\n              parent: this.configs.siteID,\n              salt: salt.toString(),\n              role: \"admin\",\n            },\n            options: {\n              fieldType: [],\n              uniqueFields: [\n                [\"username\"]\n              ]\n            }\n          })\n        });\n        const finalRes   = await resAPI.json();\n\n        if(resAPI.status===200) {\n          // Send Email\n          const emailData = {\n            email: 'manonsanoi@gmail.com',\n            name: \"User Detail\",\n            content: `\n              <table style=\"border-collapse: collapse; width: 100%; color:#000000;\">\n                <tr style=\"background-color: #f2f2f2; \">\n                  <th style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">Field</th>\n                  <th style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">Value</th>\n                </tr>\n                <tr>\n                  <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">First Name</td>\n                  <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">${this.firstname}</td>\n                </tr>\n                <tr>\n                  <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">Last Name</td>\n                  <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">${this.lastname}</td>\n                </tr>\n                <tr>\n                  <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">Phone</td>\n                  <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">${this.phone}</td>\n                </tr>\n                <tr>\n                  <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">Email</td>\n                  <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">${this.email}</td>\n                </tr>\n                <tr>\n                  <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">Username</td>\n                  <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">${this.username}</td>\n                </tr>\n                <tr>\n                  <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">Password</td>\n                  <td style=\"border: 1px solid #dddddd; text-align: left; padding: 8px;\">${this.password}</td>\n                </tr>\n              </table>\n            `,\n          };\n\n          await sendEmail(emailData,'new-template');\n          window.location.href = \"/school/user\"\n        }\n\n        console.log(finalRes);\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    generateRandomPassword() {\n      const length = 12; // Set the desired length of the random password\n      const charset = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_-+=<>?\"; // Define the character pool\n      let randomPassword = \"\";\n      for (let i = 0; i < length; i++) {\n        const randomIndex = Math.floor(Math.random() * charset.length);\n        randomPassword += charset[randomIndex];\n      }\n      this.password = randomPassword;\n    },\n  },\n  setup() {\n  },\n  mounted() {\n  }\n}\n</script>\n\n<template>\n\n  <breadcrumbs\n  :navigation=\"\n  [\n    {\n      name: 'ย้อนกลับ',\n      link: '/school/user',\n      style: 'chevron-left'\n    }\n  ]\"\n  /> \n\n  <div class=\"flex-1 bg-gray-100 pt-2 pb-5\">\n    <div class=\"mt-2\">\n        <div class=\"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6\">\n            <div class=\"space-y-6 sm:px-6 lg:col-span-9 lg:px-0\">\n              <form @submit.prevent=\"addAdmin\">\n                <section aria-labelledby=\"payment-details-heading\" class=\"relative\" :data-content=\"'กำลังติดต่อฐานข้อมูล กรุณารอสักครู่.....'\" :class=\"[(activeBlock?'isblock' : 'isunblock')]\">\n                  \n                    <div class=\"shadow sm:overflow-hidden sm:rounded-md\">\n                      <div class=\"bg-white py-6 px-4 sm:p-6\">\n                        <div>\n                          <h2 id=\"payment-details-heading\" class=\"text-lg font-medium leading-6 text-gray-900\">ข้อมูลส่วนตัว</h2>\n                          <p class=\"mt-1 text-sm text-gray-500\">กรอกข้อมูลของหลักสูตรให้ครบถ้วน.</p>\n                        </div>\n\n                        <div class=\"mt-6 grid grid-cols-4 gap-6\">\n\n                          <div class=\"col-span-4 sm:col-span-2\">\n                            <label for=\"firstname\" class=\"block text-sm font-medium text-gray-700\">ชื่อ</label>\n                            <input \n                            v-model=\"firstname\" \n                            type=\"text\" name=\"firstname\" id=\"firstname\" autocomplete=\"firstname\" \n                            class=\"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm\">\n                          </div>\t\n\n                          <div class=\"col-span-4 sm:col-span-2\">\n                            <label for=\"lastname\" class=\"block text-sm font-medium text-gray-700\">นามสกุล</label>\n                            <input \n                            v-model=\"lastname\" \n                            type=\"text\" name=\"lastname\" id=\"lastname\" autocomplete=\"lastname\" \n                            class=\"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm\">\n                          </div>\n\n                        </div>\n\n                        <div class=\"mt-6 grid grid-cols-6 gap-6\">\n\n                          <div class=\"col-span-4 sm:col-span-3\">\n                            <label for=\"phone\" class=\"block text-sm font-medium text-gray-700\">เบอร์โทร</label>\n                            <input \n                            v-model=\"phone\" \n                            type=\"text\" name=\"phone\" id=\"phone\" autocomplete=\"phone\" \n                            class=\"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm\">\n                          </div>\n\n                          <div class=\"col-span-4 sm:col-span-3\">\n                            <label for=\"email\" class=\"block text-sm font-medium text-gray-700\">อีเมล์</label>\n                            <input \n                            v-model=\"email\"\n                            type=\"text\" name=\"email\" id=\"email\" autocomplete=\"email\" \n                            class=\"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm\">\n                          </div>\n                        </div>\n\n                      </div>\n                    </div>\n\n\n                    <div class=\"shadow sm:overflow-hidden sm:rounded-md mt-8\">\n                      <div class=\"bg-white py-6 px-4 sm:p-6\">\n                        <div>\n                          <h2 id=\"payment-details-heading\" class=\"text-lg font-medium leading-6 text-gray-900\">ข้อมูลบัญชี</h2>\n                          <p class=\"mt-1 text-sm text-gray-500\">กรอกข้อมูลของหลักสูตรให้ครบถ้วน.</p>\n                        </div>\n\n                        <div class=\"mt-6 grid grid-cols-6 gap-6\">\n\n                            <div class=\"col-span-4 sm:col-span-3\">\n                              <label for=\"username\" class=\"block text-sm font-medium text-gray-700\">ชื่อบัญชีผู้ใช้งาน</label>\n                              <input \n                              v-model=\"username\" \n                              type=\"text\" name=\"username\" id=\"username\" autocomplete=\"username\" \n                              class=\"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm\">\n                            </div>\n\n                            <div class=\"col-span-4 sm:col-span-3\">\n                              <label for=\"password\" class=\"block text-sm font-medium text-gray-700\">รหัสผ่าน</label>\n                              <div class=\"flex\">\n                                  <input\n                                      v-model=\"password\"\n                                      type=\"text\"\n                                      name=\"password\"\n                                      id=\"password\"\n                                      autocomplete=\"password\"\n                                      class=\"mt-1 flex-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm\"\n                                  />\n                                  <button\n                                      type=\"button\"\n                                      class=\"ml-2 px-3 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900\"\n                                      @click=\"generateRandomPassword\"\n                                  >\n                                      Generate\n                                  </button>\n                              </div>\n                            </div>\n                        \n                        </div>\n\n                      </div>\n                    </div>\n\n                </section>\n\n                <section aria-labelledby=\"plan-heading\" class=\"mt-8\">\n                  <div class=\"shadow sm:overflow-hidden sm:rounded-md\">\n                      <div class=\"bg-gray-50 px-4 py-3 text-right sm:px-6 border-t\">\n                        <button type=\"submit\" class=\"inline-flex justify-center rounded-md border border-transparent bg-gray-800 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2\">\n                          <font-awesome-icon :icon=\"['fas','save']\" class=\"pr-2 pl-2\"/>บันทึกข้อมูล</button>\n                      </div>\n                  </div>\n                </section>\n              </form>\n            </div>\n        </div>\n    </div>\n</div>\n\n</template>","import { render } from \"./Add.vue?vue&type=template&id=15c9e2c0\"\nimport script from \"./Add.vue?vue&type=script&lang=js\"\nexport * from \"./Add.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Add.vue?vue&type=template&id=11feef95\"\nimport script from \"./Add.vue?vue&type=script&lang=js\"\nexport * from \"./Add.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"flex-1 bg-white\">\n      <div class=\"pt-4\">\n        <div class=\"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6\">\n          <div>\n            <div>\n              <nav class=\"hidden sm:flex\" aria-label=\"Breadcrumb\">\n                <ol role=\"list\" class=\"flex items-center space-x-4\">\n                  <li>\n                    <div class=\"flex\">\n                      <a href=\"/\" class=\"text-sm font-medium text-gray-500 hover:text-gray-700\">\n                        <font-awesome-icon :icon=\"['fas','home']\" />\n                      </a>\n                    </div>\n                  </li>\n                  <li v-if=\"$route.matched.length > 1\">\n                    <div class=\"flex items-center\">\n                      <font-awesome-icon :icon=\"['fas','chevron-right']\" class=\"text-gray-200\"/>\n                      <a :href=\"'/' + this.ParentPage\" class=\"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700\">{{ this.ParentName }}</a>\n                    </div>\n                  </li>\n                  <li>\n                    <div class=\"flex items-center\">\n                      <font-awesome-icon :icon=\"['fas','chevron-right']\" class=\"text-gray-200\"/>\n                      <span class=\"ml-4 text-sm font-medium text-gray-400\">{{ this.PageName }}</span>\n                    </div>\n                  </li>\n                </ol>\n              </nav>\n            </div>\n            <div class=\"mt-2 md:flex md:items-center md:justify-between pb-3\">\n              <div class=\"min-w-0 flex-1\">\n                <h2 class=\"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-2xl sm:tracking-tight\"><font-awesome-icon :icon=\"['fas',`${this.PageIcon}`]\" class=\"text-gray-500 text-[18px]\"/> {{ this.PageName }}</h2>\n              </div>\n                <div class=\"mt-4 flex flex-shrink-0 md:mt-0 md:ml-4\">\n                  <button\n                    v-for=\"(button, index) in navigation\"\n                    :key=\"index\"\n                    @click=\"$router.push(button.link)\"\n                    type=\"button\"\n                    class=\"ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                  >\n                    <font-awesome-icon :icon=\"['fas', `${button.style}`]\" class=\"text-gray-200 mr-2\" />\n                    {{ button.name }}\n                  </button>\n                </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </template>\n\n  <script>\n    import {useRoute} \tfrom 'vue-router'\n    export default {\n        data() {\n            const route = useRoute();\n            return {\n                PageName: route.meta.title,\n                PageIcon: route.meta.icon,\n                PagePath: route.meta.path,\n                ParentName: route.meta.parent,\n                ParentPage: route.meta.page,\n            }\n        },\n        components: {\n        },\n        props: {\n          navigation: {\n            type: Array,\n            default: () => []\n          }\n        }\n    }\n</script>\n","import { render } from \"./Breadcrumbs.vue?vue&type=template&id=4ed053f0\"\nimport script from \"./Breadcrumbs.vue?vue&type=script&lang=js\"\nexport * from \"./Breadcrumbs.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport {useRoute} from 'vue-router';\nimport debug from '@/plugins/Logger.js';\nimport storageManager from '../plugins/storage.js';\n\nexport default {\n\tname: 'Authen',\n    data() {\n      return {\n        configs: storageManager.get('configs'),\n        session: storageManager.get('session'),\n      };\n    },\n    created() {\n        debug.option(this.$route);\n    },\n    computed: {\n    },\n\tcomponents: {\n\t},\n\tmounted() {\n    this.checkAuth();\n\t},\n\tupdated() {\n\t},\n\tmethods: {\n        async checkAuth()\n        {\n            const route      = useRoute();\n            const pageAuth   = route.meta.auth;\n            const page       = route.name;\n\n            const session \t\t= storageManager.get('session');\n            let accessToken     = session.token;\n            let hasLogin        = session.login;\n            let activeSchool    = session.current;\n\n            debug.log(\"hasLogin\",hasLogin)\n            debug.log(\"Page -> Auth:\",pageAuth)\n            debug.log(\"User -> Token:\",accessToken)\n            debug.log(\"User -> Login:\",hasLogin)\n\n            if(this.session.interface===\"frontend\")\n            {\n                debug.log(\"Front-End\");\n            }\n            else if(this.session.interface===\"backend\")\n            {\n                debug.log(\"Back-End\");\n                if(hasLogin) {// ถ้าเข้าสู๋ระบบแล้ว\n                    if (page==\"Login\" || activeSchool==undefined) { // ห้ามเข้าสู่ระบบซ้ำ || ยังไม่ได้เลือกโรงเรียน\n                        debug.log(\"Not Login Again\");\n                        this.$router.replace({path: '/'});\n                    } else {// เลือกโรงเรียนแล้ว\n                        debug.log(\"Has School Active\");\n                        if(pageAuth) {\n                            debug.log(\"This page is : Authen Request\");\n                            if(accessToken===\"\" || accessToken ===null || accessToken==undefined) {\n                                debug.log(\"Your Cannot Access\");\n                            } else {\n                                debug.log(\"Your Can Access\");\n                            }\n                        } else {\n                            debug.log(\"This page is : No Authen Request\");\n                        }\n                    }\n                    debug.log(\"Login\");\n                } else {// ยังไม่ได้เข้าสู่ระบบ\n                    debug.log(\"Not Login\");\n                    if(page!=\"Login\") { \n                        window.location.href = \"/member/login\"\n                        //this.$router.replace({path: '/member/login'});\n                        debug.log(\"Not Login Page\",page);\n                    } else {\n                        debug.log(\"Login Page\",page);\n                    }\n                }\n            }\n        },\n    },\n    setup() { \n    },\n};\n</script>\n\n<template>\n<div></div>\n</template>","import { render } from \"./authen.vue?vue&type=template&id=588dd34a\"\nimport script from \"./authen.vue?vue&type=script&lang=js\"\nexport * from \"./authen.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export const emailTemplate = `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>Email Template</title>\n  <style>\n    /* Add your custom CSS styles here */\n    /* For example: */\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n      text-align: center;\n    }\n    body {\n      font-family: Arial, sans-serif;\n      line-height: 1.5;\n      background-color: #f2f2f2;\n      color: #ffffff;\n    }\n    .container {\n      max-width: 600px;\n      margin: 0px auto;\n      padding: 20px;\n      background-color: #ffffff;\n      border-radius: 5px;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n    }\n    .header {\n      text-align: center;\n      margin-bottom: 20px;\n    }\n    .header img {\n      max-width: 150px;\n      height: auto;\n    }\n    .content {\n      padding: 20px;\n      border-top: 1px solid #e6e6e6;\n      border-bottom: 1px solid #e6e6e6;\n    }\n    .heading {\n      font-size: 18px;\n      margin-bottom: 20px;\n      color: #000000;\n      text-align: center;\n    }\n    .text {\n      margin-bottom: 20px;\n      color: #000000;\n      text-align: left;\n      font-size: 16px;\n    }\n    .container p {\n      margin-bottom: 20px;\n      color: #000000;\n      text-align: left;\n      font-size: 16px;\n    }\n    .text p {\n      margin-bottom: 20px;\n      color: #000000;\n      text-align: left;\n      font-size: 16px;\n    }\n    .footer {\n      text-align: center;\n      margin-top: 20px;\n      color: #888888;\n      font-size: 14px;\n    }\n    .footer a {\n      color: #888888;\n      text-decoration: none;\n      transition: color 0.3s ease;\n    }\n    .footer a:hover {\n      color: #ffffff;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\" style=\"margin-top:20px;\">\n    <div class=\"header\">\n      <img src=\"https://vue-project.sgp1.digitaloceanspaces.com/Logo/color-logopng.png\" alt=\"Logo\">\n    </div>\n    <div class=\"content\">\n      <h2 class=\"heading\">{{ subject }}</h2>\n      <p class=\"text\">{{ content }}</p>\n    </div>\n    <div class=\"footer\">\n      &copy; ${new Date().getFullYear()} {{ provider }}. All rights reserved.</a>\n    </div>\n  </div>\n</body>\n</html>\n`;\n","import storageManager from '@/plugins/storage';\nimport { emailTemplate } from './email/emailTemplate.js';\nimport CryptoJS from 'crypto-js';\n\nimport requestClient from '@/plugins/requestClient';\nconst Request = new requestClient(false);\n\nconst endpoint = 'https://gateway.cloudrestfulapi.com/email/send'; // Updated endpoint\nconst session = storageManager.get('session');\nconst configs = storageManager.get('configs');\n\nexport async function sendEmail(data, templateType = '') {\n  \n  let email_provider;\n\n  if (session.interface === 'frontend') {\n    ({ email_provider } = configs);\n  } else {\n    ({ email_provider } = session.current);\n  }\n\n  const { name, email, subject, body } = data;\n\n  try {\n    let emailBody;\n    let emailSubject;\n\n    if (templateType === 'welcome') {\n      ({ emailBody, emailSubject } = getWelcomeTemplate(data));\n    } else if (templateType === 'reset-password') {\n      ({ emailBody, emailSubject } = await getResetPasswordTemplate(data));\n    } else if (templateType === 'change-password') {\n      ({ emailBody, emailSubject } = await getChangePasswordTemplate(data));\n    } else if (templateType === 'new-template') { \n      ({ emailBody, emailSubject } = getNewTemplate(data));\n    } else {\n      emailBody = body;\n      emailSubject = subject;\n    }\n\n    emailBody = emailTemplate.replace('{{ content }}', emailBody).replace('{{ subject }}', emailSubject).replace('{{ provider }}', email_provider);\n\n    const emailData = await recordEmailData(name, email, emailSubject, emailBody);\n\n    const response = await Request.POST(endpoint, {\n      subject: emailSubject,\n      text: emailBody,\n      html: emailBody ,\n      fromEmail: \"noreply@fti.academy\",\n      fromName: \"Academy Customer Support\",\n      toEmail: email,\n      toName: name,\n    }, configs.key);\n\n    if (response.status === 200) { // Check the response status code\n      const responseData = response.data;\n      console.log(responseData.message);\n      await updateEmailStatus(emailData._id, 'confirm');\n      return responseData;\n    } else {\n      console.log('Failed to send email');\n      const errorMessage = 'Failed to send email';\n      await updateEmailStatus(emailData._id, 'fail', errorMessage);\n      return errorMessage;\n    }\n  } catch (error) {\n    console.error('Error sending email:', error);\n    return error.message;\n  }\n}\n\nasync function recordEmailData(name, email, subject, body) {\n  try {\n    const payload = {\n      data: {\n        name: name,\n        email: email,\n        subject: subject,\n        body: body,\n        status: 'submit'\n      },\n      options: {\n        fieldType: [],\n        uniqueFields: []\n      }\n    };\n\n    const { status, data } = await Request.POST('message/', payload, configs.key);\n\n    if (status === 200) {\n      console.log('Email data recorded successfully');\n      return data;\n    } else {\n      return 'Failed to record email data';\n    }\n  } catch (error) {\n    console.error('Error recording email data:', error);\n    return error.message;\n  }\n}\n\nasync function updateEmailStatus(id, status, error = '') {\n  try {\n    const payload = {\n      data: {\n        status: status,\n        error: error\n      }\n    };\n\n    const { status: responseStatus } = await Request.PUT(`message/${id}`, payload, configs.key);\n\n    if (responseStatus === 200) {\n      console.log('Email status updated successfully');\n    } else {\n      return 'Failed to update email status';\n    }\n  } catch (error) {\n    console.error('Error updating email status:', error);\n    return error.message;\n  }\n}\n\nfunction getNewTemplate(data) {\n  const emailBody = `Hello ${data.name},\\n\\nThis is your custom email body.\\n\\nYour custom data: ${data.content}`;\n  const emailSubject = 'Custom Email';\n  return { emailBody, emailSubject };\n}\n\nfunction getWelcomeTemplate() {\n  const emailBody = 'Welcome to our website!';\n  const emailSubject = 'Welcome Email';\n  return { emailBody, emailSubject };\n}\n\nfunction getChangePasswordTemplate() {\n  const emailBody = `\n  <p>สวัสดีค่ะ,</p>\n  <p>ขอแจ้งให้ทราบว่าบัญชีของคุณได้รับการเปลี่ยนแปลงรหัสผ่านเรียบร้อยแล้วค่ะ</p>\n  <p>หากคุณไม่ได้ดำเนินการเปลี่ยนรหัสผ่านนี้ กรุณาติดต่อทีมงานเพื่อรายงานให้ทราบค่ะ</p></br></br>\n  <p>ขอบคุณค่ะ</p>\n  `;\n  const emailSubject = 'แจ้งเตือน: บัญชีของคุณได้รับการเปลี่ยนรหัสผ่าน';\n  return { emailBody, emailSubject };\n}\n\nasync function getResetPasswordTemplate(data) {\n  try {\n    const payload = {\n      method: 'find',\n      args: [\n        {\n          $and: [\n            { email: data.email }\n          ]\n        }\n      ]\n    };\n\n    const { data: loginData } = await Request.POST('user/query', payload, configs.key);\n\n    if (loginData.length > 0) {\n      const newPassword = generatePassword(6);\n      const salt = CryptoJS.lib.WordArray.random(16);\n      const hash = CryptoJS.SHA256(newPassword + salt).toString();\n      \n      try {\n        const updatePayload = {\n          data: {\n            password: hash,\n            salt: salt.toString(),\n            req_reset: true\n          }\n        };\n\n        const { status } = await Request.PUT(`user/${loginData[0]._id}`, updatePayload, configs.key);\n    \n        if (status === 200) {\n          console.log('Email status updated successfully');\n        } else {\n          return 'Failed to update email status';\n        }\n      } catch (error) {\n        console.error('Error updating email status:', error);\n        return error.message;\n      }\n\n      const emailSubject = 'แจ้งเตือน: รีเซ็ตรหัสผ่าน';\n      const emailBody = `\n        <p>สวัสดีค่ะ,</p>\n        <p>ขอแจ้งให้ทราบว่าบัญชีของคุณได้รับการเปลี่ยนแปลงรหัสผ่านเรียบร้อยแล้วค่ะ</p>\n        <p>รหัสผ่านใหม่ของคุณคือ: <strong>${newPassword}</strong></p>\n        <p>โปรดจำรหัสผ่านใหม่นี้ไว้เพื่อเข้าสู่ระบบในครั้งถัดไปค่ะ</p>\n        <p>หากคุณไม่ได้ดำเนินการเปลี่ยนรหัสผ่านนี้ กรุณาติดต่อทีมงานเพื่อรายงานให้ทราบค่ะ</p></br></br>\n        <p>ขอบคุณค่ะ</p>\n      `;\n      return { emailBody, emailSubject };\n    } else {\n      console.log(\"No User\");\n      return 'User not found';\n    }\n  } catch (error) {\n    console.error('Error retrieving user information:', error);\n    return error.message;\n  }\n}\n\nfunction generatePassword(length) {\n  const characters = '0123456789';\n  let password = '';\n  for (let i = 0; i < length; i++) {\n    const randomIndex = Math.floor(Math.random() * characters.length);\n    password += characters[randomIndex];\n  }\n  return password;\n}\n"],"names":["_createElementBlock","_Fragment","_createVNode","_component_Authen","login","_createBlock","_component_Dashboard","key","_createCommentVNode","class","type","_component_breadcrumbs","navigation","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onSubmit","_cache","_withModifiers","args","$options","addAdmin","_normalizeClass","$data","activeBlock","_hoisted_5","_hoisted_6","id","_hoisted_7","_hoisted_8","for","$event","firstname","name","autocomplete","_hoisted_9","lastname","_hoisted_10","_hoisted_11","phone","_hoisted_12","email","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","username","_hoisted_17","_hoisted_18","password","onClick","generateRandomPassword","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_component_font_awesome_icon","icon","_createTextVNode","inject","data","role","configs","storageManager","get","components","Breadcrumbs","methods","this","salt","CryptoJS","WordArray","random","hash","toString","resAPI","fetch","method","headers","body","JSON","stringify","parent","siteID","options","fieldType","uniqueFields","finalRes","json","status","emailData","content","sendEmail","window","location","href","console","log","error","length","charset","randomPassword","i","randomIndex","Math","floor","setup","mounted","__exports__","Dashboard","Authen","route","useRoute","routeName","meta","title","useTitle","render","_ctx","$route","matched","ParentPage","ParentName","_toDisplayString","PageName","PageIcon","_renderList","$props","button","index","$router","push","link","style","PagePath","path","page","props","Array","default","session","created","debug","option","computed","checkAuth","updated","pageAuth","auth","accessToken","token","hasLogin","activeSchool","current","interface","undefined","replace","emailTemplate","Date","getFullYear","Request","requestClient","endpoint","async","templateType","email_provider","subject","emailBody","emailSubject","getWelcomeTemplate","getResetPasswordTemplate","getChangePasswordTemplate","getNewTemplate","recordEmailData","response","POST","text","html","fromEmail","fromName","toEmail","toName","responseData","message","updateEmailStatus","_id","errorMessage","payload","responseStatus","PUT","$and","loginData","newPassword","generatePassword","updatePayload","req_reset","characters"],"sourceRoot":""}