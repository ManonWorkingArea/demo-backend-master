"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[4078],{84078:function(e,t,s){s.r(t),s.d(t,{default:function(){return D}});var n=s(20641);function a(e,t,s,a,o,r){return(0,n.uX)(),(0,n.Wv)((0,n.$y)(r.componentName))}var o=s(52968),r=s(75220),l=s(40475),i=(s(44114),s(90033));const c={key:0,class:"text-center"},u={key:2,class:"flex-1 pb-8 bg-gray-100 pt-2 pb-5 border-t"},d={class:"mt-8"},g={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},m={class:"mt-8 flex flex-col"},p={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},f={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},h={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},b=["src"],x={class:"p-4"},y=["href"],k={class:"text-sm text-gray-400"},v={class:"bg-gray-100 border-t-2 border-gray-200 py-2 px-4 flex justify-between items-center"},w=["onClick"],C=["onClick"],L={href:"#",class:"text-gray-900 hover:text-gray-500 text-md font-medium"},_={href:"/asset/add",class:"bg-white p-10 rounded-lg shadow-md overflow-hidden flex flex-col items-center justify-center cursor-pointer p-10"},E={class:"w-12 h-12 rounded-full bg-blue-500 text-white flex items-center justify-center hover:opacity-70"};function X(e,t,s,a,o,r){const l=(0,n.g2)("Loader"),X=(0,n.g2)("Subhead"),F=(0,n.g2)("font-awesome-icon");return(0,n.uX)(),(0,n.CE)(n.FK,null,[o.loading_sources?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",c,[(0,n.bF)(l)])),o.loading_sources?((0,n.uX)(),(0,n.Wv)(X,{key:1,navigation:[{name:"เพิ่ม Asset",link:"/asset/add",style:"plus",class:"primary-btn",visible:!0,type:"button"}]})):(0,n.Q3)("",!0),o.loading_sources?((0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("div",d,[(0,n.Lk)("div",g,[(0,n.Lk)("div",m,[(0,n.Lk)("div",p,[(0,n.Lk)("div",f,[(0,n.Lk)("div",h,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.listItems,(s=>((0,n.uX)(),(0,n.CE)("div",{key:s._id,class:"bg-white rounded-lg shadow-md overflow-hidden"},[(0,n.Lk)("img",{class:"w-full h-48 object-cover",src:s.loginBg?s.loginBg:"https://picsum.photos/seed/picsum/200/300",alt:"Placeholder image"},null,8,b),(0,n.Lk)("div",x,[(0,n.Lk)("a",{href:"/asset/detail/"+s._id,class:"font-bold text-gray-600 hover:underline"},(0,i.v_)(s.siteName),9,y),(0,n.Lk)("p",k,[(0,n.bF)(F,{icon:["fas","globe"],class:"text-black mt-[3px] mr-1 text-md"}),(0,n.eW)(" "+(0,i.v_)(s.hostname),1)])]),(0,n.Lk)("div",v,[(0,n.Lk)("a",{href:"javascript:void(0);",onClick:t=>e.$router.push("/asset/edit/"+s._id),class:"text-gray-900 hover:text-gray-500 text-md font-medium"},[(0,n.bF)(F,{icon:["fas","square-pen"],class:"text-black mt-[3px] mr-2 text-md"}),t[0]||(t[0]=(0,n.Lk)("span",null,"แก้ไข",-1))],8,w),(0,n.Lk)("a",{href:"javascript:void(0);",onClick:t=>e.$router.push("/asset/admin/"+s._id),class:"text-gray-900 hover:text-gray-500 text-md font-medium"},[(0,n.bF)(F,{icon:["fas","user-tie"],class:"text-black mt-[3px] mr-2 text-md"}),t[1]||(t[1]=(0,n.Lk)("span",null,"ผู้ดูแล",-1))],8,C),(0,n.Lk)("a",L,[(0,n.bF)(F,{icon:["fas","trash-can"],class:"text-black mt-[3px] mr-2 text-md"}),t[2]||(t[2]=(0,n.Lk)("span",null,"ลบ",-1))])])])))),128)),(0,n.Lk)("a",_,[(0,n.Lk)("div",E,[(0,n.bF)(F,{icon:["fas","plus"],class:"text-3xl"})]),t[3]||(t[3]=(0,n.Lk)("p",{class:"text-gray-500 mt-2 text-center"},"Add Asset",-1))])])])])])])])])):(0,n.Q3)("",!0)],64)}var F=s(59911),A=s.n(F),T=s(75435),j=s(87814),I={inject:["apiServer"],data(){return{accessToken:l.A.get("session","token"),configs:l.A.get("configs"),listItems:[],loading_sources:!0}},components:{Loader:T.A,Subhead:j.A},methods:{async getData(){if(l.A.get("session","login"))try{this.loading_sources=!1;const e=await fetch("https://gateway.cloudrestfulapi.com/api/hostname/query",{method:"POST",headers:{"Content-Type":"application/json","client-token-key":this.configs.key},body:JSON.stringify({method:"find",args:[{$and:[{siteType:"asset"},{parent:this.configs.siteID}]}]})}),t=await e.json();console.log(t),this.listItems=t,this.loading_sources=!0}catch(e){console.log(e)}},async deleteData(e){if(l.A.get("session","login"))try{this.loading_sources=!1,console.log("id",e);const t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/schools/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}});console.log(await t),this.loading_sources=!0,await this.getData()}catch(t){console.log(t)}},updated(){A().replace()}},async mounted(){try{await this.getData()}catch(e){console.log(Error)}},setup(){}},P=s(64621);const $=(0,P.A)(I,[["render",X]]);var K=$,N={name:"Marketplace Index",components:{Backend:K,Frontend:K},data(){return{session:l.A.get("session")}},setup(){const e=(0,r.lq)(),t=e.meta.title;(0,o.K7)(t)},computed:{componentName(){return"backend"===this.session.interface?"Backend":"frontend"===this.session.interface?"Frontend":(console.error("Invalid interface:",this.session.interface),null)}}};const S=(0,P.A)(N,[["render",a]]);var D=S},87814:function(e,t,s){s.d(t,{A:function(){return A}});var n=s(20641),a=s(90033),o=s(53751);const r={class:"py-2 bg-white border-l border-r border-b border-1 border-gray-200"},l={class:"mx-auto px-2 sm:px-6 lg:px-6 xl:flex xl:items-center xl:justify-between"},i={class:"min-w-0 flex-1"},c={class:"mt-1 text-[18px] font-semibold leading-8 text-gray-700"},u={key:0,class:"text-sm text-gray-500"},d={class:"mt-5 flex xl:mt-0 xl:ml-4"},g={class:"flex items-center space-x-2"},m={class:"text-sm text-gray-400"},p=["onUpdate:modelValue","placeholder","onChange"],f={value:"",disabled:""},h=["value"],b=["onClick"],x={class:"text-sm hidden sm:inline-block ml-1"},y=["onClick"],k={class:"text-sm hidden sm:inline-block ml-1"};function v(e,t,s,v,w,C){const L=(0,n.g2)("font-awesome-icon");return(0,n.uX)(),(0,n.CE)("header",r,[(0,n.Lk)("div",l,[(0,n.Lk)("div",i,[(0,n.Lk)("h1",c,[(0,n.bF)(L,{icon:["fas",this.PageIcon],class:"text-gray-500 text-[18px]"},null,8,["icon"]),(0,n.eW)(" "+(0,a.v_)(s.pageTitle?s.pageTitle:this.PageName),1)]),s.subhead?((0,n.uX)(),(0,n.CE)("p",u,(0,a.v_)(s.subhead),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",d,[(0,n.Lk)("div",g,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.navigation,((t,s)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:s},["select"===t.type?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("label",m,(0,a.v_)(t.placeholder),1),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e=>t.value=e,class:"block w-36 py-2 px-3 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-md",placeholder:t.placeholder,onChange:s=>e.$emit("toggleStatus",t.value)},[(0,n.Lk)("option",f,"-- "+(0,a.v_)(t.placeholder)+" --",1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.options,((e,t)=>((0,n.uX)(),(0,n.CE)("option",{key:t,value:e.value},(0,a.v_)(e.name),9,h)))),128))],40,p),[[o.u1,t.value]])],64)):"call-function"===t.type?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[!1!==t.visible?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:s=>e.$emit(t.function),type:"button",class:(0,a.C4)(C.getClasses(t.class))},[(0,n.bF)(L,{icon:["fas",`${t.style}`],class:(0,a.C4)({"text-gray-500 mr-2":"icon-btn"===t.class,"text-white":"primary-btn"===t.class})},null,8,["icon","class"]),(0,n.Lk)("span",x,(0,a.v_)(t.name),1)],10,b)):(0,n.Q3)("",!0)],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:2},[!1!==t.visible?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:e=>C.handleNavigationClick(t),type:"button",class:(0,a.C4)(C.getClasses(t.class))},[(0,n.bF)(L,{icon:["fas",`${t.style}`],class:(0,a.C4)({"text-gray-500 mr-2":"icon-btn"===t.class,"text-white":"primary-btn"===t.class})},null,8,["icon","class"]),(0,n.Lk)("span",k,(0,a.v_)(t.name),1)],10,y)):(0,n.Q3)("",!0)],64))],64)))),128))])])])])}s(44114);var w=s(75220),C=s(52968),L=s(23264),_=s(93426),E={props:{navigation:{type:Array,default:()=>[]},pageTitle:{type:String,default:()=>null},subhead:{type:String,default:()=>null}},data(){const e=(0,w.lq)();return console.log("Translate",(0,_.Tl)("router-"+e.meta.parent+"-"+e.meta.key)),{PageName:(0,_.iX)(),PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page}},setup(){(0,C.K7)((0,_.iX)())},methods:{getClasses(e){const t=(0,L.c)(e);return`${t}`},handleNavigationClick(e){e.function?this.$emit(e.eventName||e.function):this.$router.push(e.link)}}},X=s(64621);const F=(0,X.A)(E,[["render",v]]);var A=F},23264:function(e,t,s){function n(e){switch(e){case"input-plaintext":return"pl-0 focus:outline-none focus:ring-0 shadow-none border-0";case"primary-btn":return"px-4 py-2 text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"icon-btn":return"px-4 py-2 text-gray-700 bg-transparent hover:bg-transparent hover:text-gray-800";case"default-btn":return"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"danger-btn":return"px-4 py-2 text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"success-btn":return"px-4 py-2 text-white bg-green-600 rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-50";default:return""}}s.d(t,{c:function(){return n}})}}]);
//# sourceMappingURL=4078.1f1595a1.js.map