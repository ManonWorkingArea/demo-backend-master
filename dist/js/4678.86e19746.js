"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[4678],{4678:function(e,t,s){s.r(t),s.d(t,{default:function(){return M}});var a=s(20641);function o(e,t,s,o,n,i){const l=(0,a.g2)("Edit",!0);return this.login?((0,a.uX)(),(0,a.Wv)(l,{key:0})):(0,a.Q3)("",!0)}var n=s(52968),i=s(75220),l=(s(44114),s(90033)),c=s(53751);const r={class:"py-2 border-gray-800"},d={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 xl:flex xl:items-center xl:justify-between"},m={class:"min-w-0 flex-1"},u={class:"mt-2 text-xl font-bold leading-7 text-gray-700 sm:truncate sm:text-1xl sm:tracking-tight"},p={class:"mt-5 flex xl:mt-0 xl:ml-4"},g={class:"hidden sm:block"},x={class:"flex-1 bg-gray-100 pt-2 pb-5 border-t"},f={class:"mt-8"},h={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},y={class:"space-y-6 sm:px-6 lg:col-span-9 lg:px-0"},k={class:"shadow sm:overflow-hidden sm:rounded-md"},b={class:"bg-white py-6 px-4 sm:p-6"},v={class:"mt-6 grid grid-cols-4 gap-6 pb-6 border-b-[1px]"},L={class:"col-span-4 sm:col-span-2"},w={class:"mt-4"},C={class:"space-y-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-10"},D={class:"flex items-center"},I={class:"flex items-center"},A={class:"flex items-center"},_={class:"mt-6 grid grid-cols-4 gap-6"},P={class:"col-span-4 sm:col-span-6"},q={"aria-labelledby":"plan-heading",class:"mt-8"},B={class:"shadow sm:overflow-hidden sm:rounded-md"},T={class:"bg-gray-50 px-4 py-3 text-right sm:px-6 border-t"},j={type:"submit",class:"inline-flex justify-center rounded-md border border-transparent bg-gray-800 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"};function E(e,t,s,o,n,i){const E=(0,a.g2)("font-awesome-icon"),$=(0,a.g2)("MiniMCE");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("header",r,[(0,a.Lk)("div",d,[(0,a.Lk)("div",m,[(0,a.Lk)("h1",u,[(0,a.bF)(E,{icon:["fas",n.PageIcon],class:"text-gray-500 text-[24px]"},null,8,["icon"]),(0,a.eW)(" "+(0,l.v_)(n.PageName),1)])]),(0,a.Lk)("div",p,[(0,a.Lk)("span",g,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/lesson/exam/detail/"+this.examID)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-50"},[(0,a.bF)(E,{icon:["fas","chevron-left"],class:"text-black text-[12px] mr-2"}),t[6]||(t[6]=(0,a.eW)(" ย้อนกลับ "))])])])])]),(0,a.Lk)("div",x,[(0,a.Lk)("div",f,[(0,a.Lk)("div",h,[(0,a.Lk)("div",y,[(0,a.Lk)("form",{onSubmit:t[5]||(t[5]=(0,c.D$)(((...e)=>i.updateQuestionData&&i.updateQuestionData(...e)),["prevent"]))},[(0,a.Lk)("section",{"aria-labelledby":"payment-details-heading",class:(0,l.C4)(["relative",[n.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},[(0,a.Lk)("div",k,[(0,a.Lk)("div",b,[t[12]||(t[12]=(0,a.Lk)("div",null,[(0,a.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-medium leading-6 text-gray-900"},"เพิ่มข้อสอบ"),(0,a.Lk)("p",{class:"mt-1 text-sm text-gray-500"},'เพิ่มโจทย์ให้เรียบร้อย กด "บันทึก" แล้วเพิ่มคำตอบ')],-1)),(0,a.Lk)("div",v,[(0,a.Lk)("div",L,[t[10]||(t[10]=(0,a.Lk)("label",{for:"result",class:"block text-base font-medium text-gray-900"},"รูปแบบเนื้อหา",-1)),(0,a.Lk)("fieldset",w,[(0,a.Lk)("div",C,[(0,a.Lk)("div",D,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.type=e),checked:"",id:"type_general",value:"text",name:"type",type:"radio",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[c.XL,n.type]]),t[7]||(t[7]=(0,a.Lk)("label",{for:"type_general",class:"ml-3 block text-sm font-medium text-gray-700"},"text",-1))]),(0,a.Lk)("div",I,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.type=e),id:"type_pre",value:"pre",name:"image",type:"radio",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[c.XL,n.type]]),t[8]||(t[8]=(0,a.Lk)("label",{for:"type_pre",class:"ml-3 block text-sm font-medium text-gray-700"},"image",-1))]),(0,a.Lk)("div",A,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.type=e),id:"type_post",value:"post",name:"video",type:"radio",class:"h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[c.XL,n.type]]),t[9]||(t[9]=(0,a.Lk)("label",{for:"type_post",class:"ml-3 block text-sm font-medium text-gray-700"},"video",-1))])])])])]),(0,a.Lk)("div",_,[(0,a.Lk)("div",P,[t[11]||(t[11]=(0,a.Lk)("label",{for:"slug",class:"block text-base font-bold text-gray-900 mb-3"},"คำถาม",-1)),(0,a.bF)($,{modelValue:n.detail,"onUpdate:modelValue":t[4]||(t[4]=e=>n.detail=e),options:{}},null,8,["modelValue"])])])])])],2),(0,a.Lk)("section",q,[(0,a.Lk)("div",B,[(0,a.Lk)("div",T,[(0,a.Lk)("button",j,[(0,a.bF)(E,{icon:["fas","save"],class:"pr-2 pl-2"}),t[13]||(t[13]=(0,a.eW)(" บันทึกโจทย์ "))])])])])],32)])])])])],64)}var $=s(40475),F=s(35100),U=(s(4934),s(12983),{name:"ContactUs",inject:["apiServer"],data(){const e=(0,i.lq)();return{configs:$.A.get("configs"),PageName:e.meta.title,PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page,accessSession:[],exam:this.$route.params.id,detail:"",type:"",activeBlock:!1,schoolData:[],loading_sources:!0,dataItem:this.$route.params.id,examID:this.$route.params.exam,questionID:this.$route.params.question,accessToken:$.A.get("session","token")}},components:{MiniMCE:F.A},methods:{async getData(){if($.A.get("session","login"))try{this.loading_sources=!1;const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/exams/getFullQuestion/"+this.examID+"/"+this.questionID+"/false",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),t=await e.json();this.detail=t.data.questionInfo.detail,this.type=t.data.questionInfo.type,console.log(t),this.loading_sources=!0}catch(e){console.log(e)}},async updateQuestionData(){if($.A.get("session","login"))try{const e=$.A.get("session","token"),t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/exams/questions/"+this.examID+"/"+this.questionID,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({detail:this.detail,type:this.type})}),s=await t.json();s.success&&this.$swal({title:"บันทึกข้อมูลเรียบร้อยแล้ว ?",text:"คุณต้องการที่จะดำเนินการอย่างไร !",type:"success",showCancelButton:!0,confirmButtonColor:"#0054b4",confirmButtonText:"กลับไปหน้าหลัก",cancelButtonText:"แก้ไขต่อ",closeOnConfirm:!1,closeOnCancel:!1}).then((e=>{e.isConfirmed?(console.log("Home"),window.location.href="/lesson/exam/detail/"+this.examID):(console.log("New"),window.location.reload())}))}catch(e){console.log(e)}}},setup(){},async mounted(){try{await this.getData();const e=$.A.get("session","access");this.accessSession=e.current}catch(e){console.log(Error)}}}),V=s(64621);const N=(0,V.A)(U,[["render",E]]);var Q=N,S={name:"Home",components:{Edit:Q},data(){return{login:$.A.get("session","login")}},methods:{},setup(){const e=(0,i.lq)(),t=e.meta.title;(0,n.K7)(t)}};const X=(0,V.A)(S,[["render",o]]);var M=X}}]);
//# sourceMappingURL=4678.86e19746.js.map