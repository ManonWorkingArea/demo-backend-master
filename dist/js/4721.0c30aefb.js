"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[4721],{74721:function(e,s,t){t.r(s),t.d(s,{default:function(){return ne}});var o=t(20641);function a(e,s,t,a,n,l){const i=(0,o.g2)("Edit",!0);return this.login?((0,o.uX)(),(0,o.Wv)(i,{key:0})):(0,o.Q3)("",!0)}var n=t(52968),l=t(75220),i=(t(44114),t(53751)),r=t(90033);const d={class:"flex-1"},c={class:"mt-8"},m={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},u={class:"hidden sm:flex","aria-label":"Breadcrumb"},p={role:"list",class:"flex items-center space-x-4"},g={class:"flex"},f={href:"/",class:"text-sm font-medium text-gray-500 hover:text-gray-700"},k={class:"flex items-center"},b={class:"flex items-center"},x={class:"mt-2 md:flex md:items-center md:justify-between border-b pb-5"},h={class:"min-w-0 flex-1"},y={class:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight"},L={class:"mt-4 flex flex-shrink-0 md:mt-0 md:ml-4"},v={class:"flex-1 bg-gray-100 pt-2 pb-5 border-t"},w={class:"mt-8"},B={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},E={class:"space-y-6 sm:px-6 lg:col-span-9 lg:px-0"},D={class:"shadow sm:overflow-hidden sm:rounded-md"},S={class:"bg-white py-6 px-4 sm:p-6"},U={class:"mt-6 grid grid-cols-4 gap-6"},H={class:"col-span-4 sm:col-span-2"},K={class:"col-span-4 sm:col-span-2"},J={class:"mt-6 grid grid-cols-6 gap-6"},R={class:"col-span-4 sm:col-span-3"},V={class:"col-span-4 sm:col-span-3"},A={class:"col-span-4 sm:col-span-3"},C={class:"mt-6 grid grid-cols-6 gap-6"},j={class:"col-span-4 sm:col-span-6"},F={class:"mt-1"},$={class:"shadow sm:overflow-hidden sm:rounded-md mt-8"},W={class:"bg-white py-6 px-4 sm:p-6"},T={class:"mt-6 grid grid-cols-6 gap-6"},_={class:"col-span-4 sm:col-span-2"},z={class:"col-span-4 sm:col-span-2"},X={class:"col-span-4 sm:col-span-2"},q={class:"col-span-4 sm:col-span-2"},G={class:"col-span-4 sm:col-span-2"},I={class:"col-span-4 sm:col-span-2"},M={"aria-labelledby":"plan-heading",class:"mt-8"},N={class:"shadow sm:overflow-hidden sm:rounded-md"},O={class:"bg-gray-50 px-4 py-3 text-right sm:px-6 border-t"},P={type:"submit",class:"inline-flex justify-center rounded-md border border-transparent bg-gray-800 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"};function Q(e,s,t,a,n,l){const Q=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",d,[(0,o.Lk)("div",c,[(0,o.Lk)("div",m,[(0,o.Lk)("div",null,[(0,o.Lk)("div",null,[s[16]||(s[16]=(0,o.Lk)("nav",{class:"sm:hidden","aria-label":"Back"},[(0,o.Lk)("a",{href:"#",class:"flex items-center text-sm font-medium text-gray-500 hover:text-gray-700"},[(0,o.Lk)("svg",{class:"-ml-1 mr-1 h-5 w-5 flex-shrink-0 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,o.Lk)("path",{"fill-rule":"evenodd",d:"M12.79 5.23a.75.75 0 01-.02 1.06L8.832 10l3.938 3.71a.75.75 0 11-1.04 1.08l-4.5-4.25a.75.75 0 010-1.08l4.5-4.25a.75.75 0 011.06.02z","clip-rule":"evenodd"})]),(0,o.eW)(" Back ")])],-1)),(0,o.Lk)("nav",u,[(0,o.Lk)("ol",p,[(0,o.Lk)("li",null,[(0,o.Lk)("div",g,[(0,o.Lk)("a",f,[(0,o.bF)(Q,{icon:["fas","home"]})])])]),(0,o.Lk)("li",null,[(0,o.Lk)("div",k,[(0,o.bF)(Q,{icon:["fas","chevron-right"],class:"text-gray-200"}),s[14]||(s[14]=(0,o.Lk)("a",{href:"/school",class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700"},"โรงเรียน",-1))])]),(0,o.Lk)("li",null,[(0,o.Lk)("div",b,[(0,o.bF)(Q,{icon:["fas","chevron-right"],class:"text-gray-200"}),s[15]||(s[15]=(0,o.Lk)("a",{href:"#","aria-current":"page",class:"ml-4 text-sm font-medium text-gray-400 hover:text-gray-500"},"รายชื่อโรงเรียน",-1))])])])])]),(0,o.Lk)("div",x,[(0,o.Lk)("div",h,[(0,o.Lk)("h2",y,[(0,o.bF)(Q,{icon:["fas","school"],class:"text-gray-500 text-[24px]"}),s[17]||(s[17]=(0,o.eW)(" เพิ่มโรงเรียน"))])]),(0,o.Lk)("div",L,[(0,o.Lk)("button",{onClick:s[0]||(s[0]=s=>e.$router.push("/school/index")),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,o.bF)(Q,{icon:["fas","chevron-left"],class:"text-gray-200 mr-2"}),s[18]||(s[18]=(0,o.eW)(" ย้อนกลับ"))])])])])])])]),(0,o.Lk)("div",v,[(0,o.Lk)("div",w,[(0,o.Lk)("div",B,[(0,o.Lk)("div",E,[(0,o.Lk)("form",{onSubmit:s[13]||(s[13]=(0,i.D$)(((...e)=>l.updataData&&l.updataData(...e)),["prevent"]))},[(0,o.Lk)("section",{"aria-labelledby":"payment-details-heading",class:(0,r.C4)(["relative",[n.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},[(0,o.Lk)("div",D,[(0,o.Lk)("div",S,[s[26]||(s[26]=(0,o.Lk)("div",null,[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-medium leading-6 text-gray-900"},"ข้อมูลสถาบัน"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของหลักสูตรให้ครบถ้วน.")],-1)),(0,o.Lk)("div",U,[(0,o.Lk)("div",H,[s[19]||(s[19]=(0,o.Lk)("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"ชื่อโรงเรียน",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>n.name=e),type:"text",name:"name",id:"name",autocomplete:"name",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,n.name]])]),(0,o.Lk)("div",K,[s[20]||(s[20]=(0,o.Lk)("label",{for:"code",class:"block text-sm font-medium text-gray-700"},"รหัส",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>n.code=e),type:"text",name:"code",id:"code",autocomplete:"code",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,n.code]])])]),(0,o.Lk)("div",J,[(0,o.Lk)("div",R,[s[21]||(s[21]=(0,o.Lk)("label",{for:"website",class:"block text-sm font-medium text-gray-700"},"เว็บไซต์",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>n.website=e),type:"text",name:"website",id:"website",autocomplete:"website",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,n.website]])]),(0,o.Lk)("div",V,[s[22]||(s[22]=(0,o.Lk)("label",{for:"phone",class:"block text-sm font-medium text-gray-700"},"เบอร์โทร",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[4]||(s[4]=e=>n.phone=e),type:"text",name:"phone",id:"phone",autocomplete:"phone",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,n.phone]])]),(0,o.Lk)("div",A,[s[23]||(s[23]=(0,o.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"อีเมล์",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[5]||(s[5]=e=>n.email=e),type:"text",name:"email",id:"email",autocomplete:"email",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,n.email]])])]),(0,o.Lk)("div",C,[(0,o.Lk)("div",j,[s[24]||(s[24]=(0,o.Lk)("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"คำอธิบาย",-1)),(0,o.Lk)("div",F,[(0,o.bo)((0,o.Lk)("textarea",{"onUpdate:modelValue":s[6]||(s[6]=e=>n.description=e),id:"description",name:"description",rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"you@example.com"},null,512),[[i.Jo,n.description]])]),s[25]||(s[25]=(0,o.Lk)("p",{class:"mt-2 text-sm text-gray-500"},"Brief description for your profile. URLs are hyperlinked.",-1))])])])]),(0,o.Lk)("div",$,[(0,o.Lk)("div",W,[s[33]||(s[33]=(0,o.Lk)("div",null,[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-medium leading-6 text-gray-900"},"ข้อมูลพื้นที่จัดเก็บไฟล์ (S3)"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของหลักสูตรให้ครบถ้วน.")],-1)),(0,o.Lk)("div",T,[(0,o.Lk)("div",_,[s[27]||(s[27]=(0,o.Lk)("label",{for:"s3Hosting",class:"block text-sm font-medium text-gray-700"},"Hosting",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[7]||(s[7]=e=>n.s3Hosting=e),type:"text",name:"s3Hosting",id:"s3Hosting",autocomplete:"s3Hosting",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,n.s3Hosting]])]),(0,o.Lk)("div",z,[s[28]||(s[28]=(0,o.Lk)("label",{for:"s3Region",class:"block text-sm font-medium text-gray-700"},"Region",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[8]||(s[8]=e=>n.s3Region=e),type:"text",name:"s3Region",id:"s3Region",autocomplete:"s3Region",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,n.s3Region]])]),(0,o.Lk)("div",X,[s[29]||(s[29]=(0,o.Lk)("label",{for:"s3Bucket",class:"block text-sm font-medium text-gray-700"},"Bucket",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[9]||(s[9]=e=>n.s3Bucket=e),type:"text",name:"s3Bucket",id:"s3Bucket",autocomplete:"s3Bucket",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,n.s3Bucket]])]),(0,o.Lk)("div",q,[s[30]||(s[30]=(0,o.Lk)("label",{for:"s3Key",class:"block text-sm font-medium text-gray-700"},"Key",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[10]||(s[10]=e=>n.s3Key=e),type:"text",name:"s3Key",id:"s3Key",autocomplete:"s3Key",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,n.s3Key]])]),(0,o.Lk)("div",G,[s[31]||(s[31]=(0,o.Lk)("label",{for:"s3Secret",class:"block text-sm font-medium text-gray-700"},"Secret",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[11]||(s[11]=e=>n.s3Secret=e),type:"text",name:"s3Secret",id:"s3Secret",autocomplete:"s3Secret",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,n.s3Secret]])]),(0,o.Lk)("div",I,[s[32]||(s[32]=(0,o.Lk)("label",{for:"s3EndpointDefault",class:"block text-sm font-medium text-gray-700"},"Endpoint Default",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":s[12]||(s[12]=e=>n.s3EndpointDefault=e),type:"text",name:"s3EndpointDefault",id:"s3EndpointDefault",autocomplete:"s3EndpointDefault",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,n.s3EndpointDefault]])])])])])],2),(0,o.Lk)("section",M,[(0,o.Lk)("div",N,[(0,o.Lk)("div",O,[(0,o.Lk)("button",P,[(0,o.bF)(Q,{icon:["fas","save"],class:"pr-2 pl-2"}),s[34]||(s[34]=(0,o.eW)("บันทึกข้อมูล"))])])])])],32)])])])])],64)}var Y=t(40475),Z={name:"ContactUs",inject:["apiServer"],data(){return{name:"",code:"",website:"",phone:"",email:"",description:"",s3Hosting:"",s3Region:"",s3Bucket:"",s3Key:"",s3Secret:"",s3EndpointDefault:"",s3Endpoint:"",activeBlock:!1,dataItem:this.$route.params.id,loadData:[]}},components:{},methods:{async getData(){if(Y.A.get("session","login"))try{let e=Y.A.get("session","token"),s=this.$route.params.id;this.loading_sources=!1;const t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/schools/"+s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}),o=await t.json();console.log(o),o.success&&(this.name=o.data.name,this.website=o.data.website,this.phone=o.data.phone,this.email=o.data.email,this.description=o.data.description,this.code=o.data.code,this.s3Hosting=o.data.s3Hosting,this.s3Region=o.data.s3Region,this.s3Bucket=o.data.s3Bucket,this.s3Key=o.data.s3Key,this.s3Secret=o.data.s3Secret,this.s3EndpointDefault=o.data.s3EndpointDefault,this.s3Endpoint=o.data.s3Endpoint,this.loadData=o.data,this.loading_sources=!0)}catch(e){console.log(e)}},async updataData(){if(Y.A.get("session","login"))try{const e=Y.A.get("session","token");let s=this.$route.params.id;const t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/schools/"+s,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({name:this.name,website:this.website,phone:this.phone,email:this.email,description:this.description,code:this.code,s3Hosting:this.s3Hosting,s3Region:this.s3Region,s3Bucket:this.s3Bucket,s3Key:this.s3Key,s3Secret:this.s3Secret,s3EndpointDefault:this.s3EndpointDefault,s3Endpoint:"https://"+this.s3Bucket+"."+this.s3Hosting+"/"})}),o=await t.json();o.success&&window.location.reload()}catch(e){console.log(e)}}},setup(){},async mounted(){try{await this.getData()}catch(e){console.log(Error)}}},ee=t(64621);const se=(0,ee.A)(Z,[["render",Q]]);var te=se,oe={name:"School Edit",components:{Edit:te},data(){return{login:Y.A.get("session","login")}},methods:{showAlert(){this.$swal("Hello Vue world!!!")}},setup(){const e=(0,l.lq)(),s=e.meta.title;(0,n.K7)(s)}};const ae=(0,ee.A)(oe,[["render",a]]);var ne=ae}}]);
//# sourceMappingURL=4721.0c30aefb.js.map