{"version":3,"file":"js/5305.6acca1f6.js","mappings":"+NAgGIA,EAAAA,EAAAA,IACa,WADR,O,gBA7FT,GACIC,KAAM,SACNC,WAAY,CAAC,EACbC,IAAAA,GACI,MAAO,CACLC,QAASC,EAAAA,EAAeC,IAAI,WAC5BC,SAAUF,EAAAA,EAAeC,IAAI,YAC7BE,SAAU,GACVC,SAAU,GACVC,YAAY,EACZC,aAAc,GACdC,WAAW,EACXC,UAAU,EACVC,aAAa,EACbC,WAAY,QACZC,SAAUC,KAAKC,OAAOC,OAAOC,GAEnC,EACAC,OAAAA,GACEJ,KAAKK,OACP,EACAC,QAAS,CAEL,WAAMD,GACF,IACIL,KAAKH,aAAc,EACnB,MAAM,KAAEX,EAAI,OAAEqB,SAAiBP,KAAKQ,SAASC,IAAI,QAAQT,KAAKD,WAAYC,KAAKb,QAAQuB,KACvF,GAAe,MAAXH,EAAgB,CAClB,GAAa,OAATrB,GAA0B,KAATA,QAAwByB,IAATzB,EAKlC,OAJAc,KAAKP,YAAa,EAClBO,KAAKN,aAAe,4BACpBM,KAAKH,aAAc,OACnBe,QAAQC,IAAI,4BAA4B3B,GAGxC,GAAiB,QAAbA,EAAK4B,KACLd,KAAKP,YAAa,EAClBO,KAAKH,aAAc,EACnBG,KAAKN,aAAe,mCACpBkB,QAAQC,IAAI,wCACT,CACH,MAAME,QAAef,KAAKQ,SAASQ,KAAK,eAAgB,CACpDC,OAAQ,OACRC,OAAQ,CAAC,UACTC,KAAM,CAAC,CACHC,KAAM,CACJ,CAAEC,OAAQnC,EAAKoC,SAGtBtB,KAAKb,QAAQuB,KAEVa,EAAYR,EAAO7B,KACzB,GAAsB,MAAlB6B,EAAOR,OAAgB,CAEzBK,QAAQC,IAAI,UAEZ,IAAIW,EAAW,GACXC,EAAgB,GAEpB,MAAMC,EAAU,CACdC,QAAQ,EACRC,MAAO1C,EAAKoC,IACZO,QAAS,GACTxB,OAAO,EACPgB,OAAQnC,EAAKoC,IACbQ,KAAM5C,EACN6C,QAAQ,EACRjB,KAAM5B,EAAK4B,KACXkB,IAAK,aACLC,OAAQ,kBACRC,QAAST,EACTU,KAAMX,EACNY,OAAQb,EACRc,QAAS,OAEXjD,EAAAA,EAAekD,OAAO,UAAWZ,GAEjCa,OAAOC,SAASC,KAAO,eACzB,CACJ,CAEJ,CAEJ,CAAE,MAAOC,GACL,CAER,I,WClFR,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,6HCRIC,EAAAA,EAAAA,KAAiCC,EAAAA,EAAAA,IAAjBC,EAAAC,e,iDAShB,GACAhE,KAAM,cACNC,WAAY,CACRgE,SAAQA,EAAAA,YAEZ/D,IAAAA,GACI,MAAO,CACHwC,QAAStC,EAAAA,EAAeC,IAAI,WAEpC,EACA6D,KAAAA,GACI,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,EAAYF,EAAMG,KAAKC,OAC7BC,EAAAA,EAAAA,IAASH,EACb,EACAI,SAAU,CACNT,aAAAA,GACI,MAAO,UACX,I,WCvBR,MAAML,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://node-backend/./src/extensions/modules/system/user/component/frontend/Login/Bypass.vue","webpack://node-backend/./src/extensions/modules/system/user/component/frontend/Login/Bypass.vue?2a2d","webpack://node-backend/./src/extensions/modules/system/user/view/Bypass.vue","webpack://node-backend/./src/extensions/modules/system/user/view/Bypass.vue?4d3c"],"sourcesContent":["<script>\nimport storageManager from '@/plugins/storage';\n\nexport default {\n    name: 'Bypass',\n    components: {},\n    data() {\n        return {\n          configs: storageManager.get('configs'),\n          hostname: storageManager.get('hostname'),\n          username: '',\n          password: '',\n          errorStage: false,\n          errorMessage: '',\n          newmember: false,\n          showForm: false,\n          activeBlock: false,\n          memberMode: 'login',\n          dataItem: this.$route.params.id,\n        }\n    },\n    mounted() {\n      this.login();\n    },\n    methods: {\n\n        async login() {\n            try {\n                this.activeBlock = true;\n                const { data, status } = await this.$Request.GET(`user/${this.dataItem}`, this.configs.key);\n                if (status === 200) {\n                  if (data === null || data === '' || data === undefined) {\n                    this.errorStage = true\n                    this.errorMessage = \"ไม่พบข้อมูลบัญชีผู้ใช้นี้\";\n                    this.activeBlock = false;\n                    console.log(\"ไม่พบข้อมูลบัญชีผู้ใช้นี้\",data);\n                    return;\n                  } else {\n                    if (data.role != \"user\") {\n                        this.errorStage = true\n                        this.activeBlock = false;\n                        this.errorMessage = \"ไม่มีสิทธิ์เข้าใช้งานเว็บไซต์นี้\";\n                        console.log(\"ไม่มีสิทธิ์เข้าใช้งานเว็บไซต์นี้\");\n                    } else {\n                        const resAPI = await this.$Request.POST('enroll/query', {\n                            method: 'find',\n                            hidden: ['userID'],\n                            args: [{\n                                $and: [\n                                  { userID: data._id }\n                                ]\n                            }]\n                        }, this.configs.key);\n\n                        const getEnroll = resAPI.data;\n                        if (resAPI.status === 200) {\n\n                          console.log(\"Access\");\n\n                          let unitList = [];\n                          let currentAccess = \"\";\n\n                          const session = {\n                            active: true,\n                            token: data._id,\n                            refresh: \"\",\n                            login: true,\n                            userID: data._id,\n                            user: data,\n                            loader: false,\n                            role: data.role,\n                            nav: \"normal-nav\",\n                            layout: \"frontend-layout\",\n                            current: currentAccess,\n                            list: unitList,\n                            enroll: getEnroll,\n                            channel: 'web',\n                          };\n                          storageManager.update('session', session)\n                          //debug.log(\"session\",session);\n                          window.location.href = \"/user/profile\"\n                        }\n                    }\n                  }\n                }\n\n            } catch (error) {\n                //debug.log(error)\n            }\n        },\n    },\n\n};\n</script>\n\n<template>\n    <div>\n        ...</div>\n</template>\n\n<style scoped>\n.input-label {\n    font-size: 15px;\n    background: #fff;\n    position: absolute;\n    left: 10px;\n    top: -10px;\n    padding-left: 4px;\n    padding-right: 5px;\n    color: #000000;\n    font-weight: bold;\n}\n</style>","import { render } from \"./Bypass.vue?vue&type=template&id=8518c786&scoped=true\"\nimport script from \"./Bypass.vue?vue&type=script&lang=js\"\nexport * from \"./Bypass.vue?vue&type=script&lang=js\"\n\nimport \"./Bypass.vue?vue&type=style&index=0&id=8518c786&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8518c786\"]])\n\nexport default __exports__","<template>\n    <component :is=\"componentName\" />\n    </template>\n    \n    <script>\n    import { useTitle } from 'vue-page-title';\n    import { useRoute } from 'vue-router';\n    import storageManager from '@/plugins/storage';\n    import Frontend from '../component/frontend/Login/Bypass.vue';\n    \n    export default {\n    name: 'User Bypass',\n    components: {\n        Frontend,\n    },\n    data() {\n        return {\n            session: storageManager.get('session')\n        };\n    },\n    setup() {\n        const route = useRoute();\n        const routeName = route.meta.title;\n        useTitle(routeName);\n    },\n    computed: {\n        componentName() {\n            return 'Frontend';\n        }\n    }\n    };\n    </script>\n        ","import { render } from \"./Bypass.vue?vue&type=template&id=49e8a115\"\nimport script from \"./Bypass.vue?vue&type=script&lang=js\"\nexport * from \"./Bypass.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","name","components","data","configs","storageManager","get","hostname","username","password","errorStage","errorMessage","newmember","showForm","activeBlock","memberMode","dataItem","this","$route","params","id","mounted","login","methods","status","$Request","GET","key","undefined","console","log","role","resAPI","POST","method","hidden","args","$and","userID","_id","getEnroll","unitList","currentAccess","session","active","token","refresh","user","loader","nav","layout","current","list","enroll","channel","update","window","location","href","error","__exports__","render","_createBlock","_resolveDynamicComponent","$options","componentName","Frontend","setup","route","useRoute","routeName","meta","title","useTitle","computed"],"sourceRoot":""}