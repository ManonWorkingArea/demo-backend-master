"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[5711],{35711:function(t,e,s){s.r(e),s.d(e,{default:function(){return os}});var a=s(20641);function o(t,e,s,o,r,i){return(0,a.uX)(),(0,a.Wv)((0,a.$y)(i.componentName))}var r=s(52968),i=s(75220),n=s(40475),l=s(90033);function c(t,e,s,a,o,r){return(0,l.v_)(o.dataItem)}var d=s(59911),u=s.n(d),p={name:"Product Index Backend",data(){const t=(0,i.lq)();return{dataItem:this.$route.params.code,PageName:t.meta.title,PageIcon:t.meta.icon,PagePath:t.meta.path,ParentName:t.meta.parent,ParentPage:t.meta.page,routeName:this.routeName}},components:{},methods:{},updated(){u().replace()},setup(){}},m=s(64621);const h=(0,m.A)(p,[["render",c]]);var g=h,f=s(53751);const b={class:"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8"},k={class:"mt-4 sm:mx-auto sm:w-full sm:max-w-md"},x={class:"px-2 py-4"},v={key:0},w={key:0,id:"credit-card-container",class:"h-56 w-86 mb-5 rounded-lg bg-gradient-to-tr from-indigo-900 to-blue-700 group shadow-xl text-blue-200 tracking-wide font-semibold transform transition duration-500 ease-in-out rotate-0 scale-100 hover:shadow-2xl"},y={id:"dots-texture",class:"h-full w-full relative rounded-2xl"},L={id:"credit-card-body",class:"absolute w-full h-full grid grid-flow-row grid-cols-3 grid-rows-7"},C={class:"row-span-1 col-span-3 flex flew-wrap content-center"},P={class:"text-2xl font-bold italic text-right pr-6 pt-6 text-blue-300"},A={id:"credit-card-num",class:"px-6 tracking-widest row-span-3 col-span-3 w-full flex flex-wrap content-center text-blue-200"},E={class:"text-xl"},D={id:"",class:"col-span-3 row-span-2 px-6 bg-gray-500 bg-opacity-20 rounded-b-2xl border-t-2 border-indigo-600 w-full grid grid-cols-3 grid-rows-2 w-full text-gray-50 text-opacity-70"},_={id:"credit-card-date",class:"col-span-3 self-start text-sm"},M={key:1,class:"h-56 w-86 mb-5 rounded-lg bg-gray-500 group shadow-xl text-gray-200 tracking-wide font-semibold transform transition duration-500 ease-in-out rotate-0 scale-100 hover:shadow-2xl flex flex-col justify-center items-center"},I={class:"text-xl text-center"},S={key:2,class:"flex flex-col gap-4"},F={class:"sm:mx-auto sm:w-full sm:max-w-lg flex justify-between mt-2 bg-white border border-gray-200 rounded-lg p-4 text-gray-600"},j={class:"flex items-center pl-3"},W={class:"flex items-center pr-3"},T={class:""},O={class:"flex items-center"},X={class:""},q={key:0,class:"mt-2"},B={class:"col-auto"},U=["checked"],Q={class:"col flex-1 text-left ml-2 pl-3 border-l border-gray-200 text-sm"},$={class:"flex items-center"},N={class:""},K={key:0,class:"bg-white border border-gray-200 p-2 mt-2"},R={class:"grid grid-cols-3 gap-4"},V={class:"col-span-2"},G={class:"col-span-1 flex justify-between"},J=["onClick"],H={class:"font-semibold mt-1"},z={key:1,class:"flex items-center justify-center pt-4 mt-4 text-center sm:block sm:p-0 border-t border-gray-200"},Y={class:"modal-container"},Z={class:"bg-white rounded-md text-left transform transition-all max-w-lg w-full mx-auto"},tt={class:"modal-content"},et={key:0},st={class:"flex justify-between items-center mb-2"},at={class:"product-list mt-2"},ot=["onClick"],rt=["src"],it={class:"font-semibold"},nt={key:1},lt={class:"product-details"},ct={class:"flex justify-between items-center mb-2"},dt={class:"text-lg font-semibold"},ut={class:"relative"},pt=["src"],mt={class:"flex items-center mt-4 mb-4"},ht={class:"flex items-center mr-4"},gt={class:"font-semibold"},ft={class:"flex items-center"},bt=["innerHTML"],kt=["innerHTML"],xt=["innerHTML"],vt={class:"flex items-center mb-3"},wt={class:""},yt={key:0},Lt=["onClick"],Ct={class:"font-bold"},Pt={class:"text-center"},At={class:"text-right"},Et={class:"bg-blue-500 text-white text-xs p-2"},Dt={key:0},_t={class:"text-sm pl-2 pr-2 pt-3"},Mt={class:"grid grid-cols-3 gap-2 text-sm"},It={class:"col-span-2 pl-2 pr-2"},St={class:"col-span-1 pl-2 pr-2 flex justify-between"},Ft={class:"text-sm pl-2 pr-2 pt-3"},jt={class:"font-semibold"},Wt={key:1,class:"flex items-center justify-center mt-2 pt-2 border-t border-gray-200"},Tt={class:"bg-white w-full mx-2"},Ot={class:""},Xt={class:"flex justify-between items-center mb-4"},qt={class:"mb-6"},Bt={class:"mt-2 text-sm"},Ut={class:"text-sm"},Qt={class:"text-sm"},$t={class:"mb-6"},Nt={class:"grid grid-cols-3 gap-4"},Kt={class:"col-span-2"},Rt={class:"col-span-1 flex justify-between"},Vt={class:"font-bold"},Gt={class:"mb-6 flex justify-between"},Jt={class:"text-lg font-bold"},Ht={class:"bg-gray-50 px-4 py-3 flex justify-end"},zt={key:3,class:"text-center"},Yt={key:0},Zt={key:1},te={class:"h-56 w-86 mb-5 rounded-lg bg-gray-500 group shadow-xl text-gray-200 tracking-wide font-semibold transform transition duration-500 ease-in-out rotate-0 scale-100 hover:shadow-2xl flex flex-col justify-center items-center"},ee={class:"text-xl text-center"},se={key:0,class:"fixed z-10 inset-0 overflow-y-auto"},ae={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},oe={class:"modal-container"},re={class:"bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all max-w-lg w-full mx-auto text-center"},ie={class:"modal-content"},ne={key:1,class:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},le={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ce={class:"bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all max-w-lg w-full mx-auto md:mt-10"},de={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ue={class:"sm:flex sm:items-start"},pe={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full"},me={class:"mt-2"},he={class:"bg-gray-50"},ge={key:0,class:"flex min-h-full flex-col justify-center py-6 sm:px-6 lg:px-8"},fe={class:"mt-4 sm:mx-auto sm:w-full sm:max-w-md"},be={class:"bg-white px-2 py-4 shadow sm:rounded-lg sm:px-10"},ke={class:"relative mb-4"},xe={class:"relative mb-4"},ve={class:"relative mb-4"},we={class:"relative mb-4"},ye={class:"text-center"},Le={key:1,class:"flex min-h-full flex-col justify-center py-6 sm:px-6 lg:px-8"},Ce={class:"mt-4 sm:mx-auto sm:w-full sm:max-w-md"},Pe={class:"bg-white px-2 py-4 shadow sm:rounded-lg sm:px-10"},Ae={class:"relative mb-4"},Ee={class:"relative mb-4"},De={class:"relative mb-4"},_e={class:"relative mb-4"},Me={class:"relative mb-4"},Ie={class:"text-center"},Se={class:"flex justify-between"},Fe={key:2,class:"flex min-h-full flex-col justify-center py-6 sm:px-6 lg:px-8"},je={class:"mt-4 sm:mx-auto sm:w-full sm:max-w-md"},We={class:"bg-white px-2 py-4 shadow sm:rounded-lg sm:px-10"},Te={class:"relative border border-gray-300 rounded-lg p-2",style:{position:"relative","background-color":"#fff",overflow:"hidden"}},Oe={class:"mt-4 text-sm"},Xe={class:"flex justify-between"},qe={class:"w-1/2"},Be={class:"flex flex-col text-left"},Ue={class:"text-center mt-4"},Qe={class:"flex justify-between"},$e={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"};function Ne(t,e,s,o,r,i){const n=(0,a.g2)("font-awesome-icon");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.Lk)("div",{class:(0,l.C4)(["bg-gray-50 relative",[r.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},[(0,a.Lk)("div",b,[e[71]||(e[71]=(0,a.Lk)("div",{class:"sm:mx-auto sm:w-full sm:max-w-lg"},[(0,a.Lk)("h2",{class:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900"},"Redeem Card"),(0,a.Lk)("p",{class:"mt-2 text-center text-md text-gray-600"}," แลกแต้มของขวัญ ")],-1)),(0,a.Lk)("div",k,[(0,a.Lk)("div",x,[r.coupon?((0,a.uX)(),(0,a.CE)("div",v,["pending"==r.coupon.status?((0,a.uX)(),(0,a.CE)("div",w,[(0,a.Lk)("div",y,[(0,a.Lk)("div",L,[(0,a.Lk)("div",C,[e[34]||(e[34]=(0,a.Lk)("span",{class:"text-md pl-6 pt-6 w-full font-thin inline-block align-text-top text-blue-300"},"Kovic Privilege Health Card",-1)),(0,a.Lk)("span",P,(0,l.v_)(i.formatPrice(r.coupon.volume)),1)]),(0,a.Lk)("div",A,[(0,a.Lk)("div",E,(0,l.v_)(r.coupon.code),1)]),(0,a.Lk)("div",D,[e[35]||(e[35]=(0,a.Lk)("div",{id:"credit-card-name",class:"tracking-widest col-span-2 self-end w-full"},"Premium",-1)),(0,a.Lk)("div",_,(0,l.v_)(r.coupon.expire),1)])])])])):(0,a.Q3)("",!0)])):((0,a.uX)(),(0,a.CE)("div",M,[(0,a.Lk)("div",I,(0,l.v_)(r.dataItem),1),e[36]||(e[36]=(0,a.Lk)("span",{class:"text-center font-normal"},"ขออภัย ไม่พบคูปองนี้ ติดต่อทีมงานเพื่อตรวจสอบข้อมูล",-1))])),this.login?((0,a.uX)(),(0,a.CE)("div",S,[(0,a.Lk)("div",F,[(0,a.Lk)("div",j,[(0,a.bF)(n,{icon:["fas","wallet"],class:"mr-2"}),(0,a.Lk)("span",null,[(0,a.Lk)("strong",null,(0,l.v_)(i.formatPrice(r.credits)),1),e[37]||(e[37]=(0,a.eW)(" Point"))])]),(0,a.Lk)("div",W,[(0,a.Lk)("div",{class:"cart-icon",onClick:e[0]||(e[0]=(...t)=>i.toggleCart&&i.toggleCart(...t))},[(0,a.bF)(n,{icon:["fas","shopping-cart"]}),(0,a.eW)(" "+(0,l.v_)(i.formatPrice(i.cartTotal)),1)])])]),(0,a.Lk)("div",{class:(0,l.C4)([{"opacity-50":"active"===r.coupon.status},"flex items-center bg-white border border-gray-200 rounded-lg shadow-sm p-4"])},[(0,a.Lk)("div",{class:(0,l.C4)([{"bg-green-500":"active"===r.coupon.status,"bg-gray-500":"pending"===r.coupon.status},"flex items-center justify-center w-6 h-6 text-white rounded-full mr-2"])},[(0,a.bF)(n,{icon:[(r.coupon.status,"fas"),"active"===r.coupon.status?"check":"hourglass-half"],class:"text-white text-sm"},null,8,["icon"])],2),e[39]||(e[39]=(0,a.Lk)("div",{class:"flex-1"},[(0,a.Lk)("p",{class:"text-gray-900 text-lg font-semibold"},"ขั้นตอนที่ 1")],-1)),(0,a.Lk)("div",T,[(0,a.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>i.redeemCouponCode&&i.redeemCouponCode(...t)),class:"flex px-3 py-2 w-full items-center justify-center bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg focus:outline-none focus:shadow-outline transform transition-colors duration-150"},[(0,a.bF)(n,{icon:["fas","exchange"],class:"mr-2"}),e[38]||(e[38]=(0,a.eW)(" แลกแต้ม "))])])],2),(0,a.Lk)("div",{class:(0,l.C4)([{"opacity-50":"pending"===r.coupon.status||r.userAddresses.length>0},"bg-white border border-gray-200 rounded-lg shadow-sm p-4"])},[(0,a.Lk)("div",O,[(0,a.Lk)("div",{class:(0,l.C4)([{"bg-green-500":r.userAddresses.length>0,"bg-gray-500":0===r.userAddresses.length},"flex items-center justify-center w-6 h-6 text-white rounded-full mr-2"])},[(0,a.bF)(n,{icon:[(r.coupon.status,"fas"),r.userAddresses.length>0?"check":"hourglass-half"],class:"text-white text-sm"},null,8,["icon"])],2),e[41]||(e[41]=(0,a.Lk)("div",{class:"flex-1"},[(0,a.Lk)("p",{class:"text-gray-900 text-lg font-semibold"},"ขั้นตอนที่ 2")],-1)),(0,a.Lk)("div",X,[(0,a.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>i.openAddress&&i.openAddress(...t)),class:"flex px-3 py-2 w-full items-center justify-center bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg focus:outline-none focus:shadow-outline transform transition-colors duration-150"},[(0,a.bF)(n,{icon:["fas","map"],class:"mr-2"}),e[40]||(e[40]=(0,a.eW)(" เพิ่มที่อยู่ "))])])]),r.userAddresses.length>0?((0,a.uX)(),(0,a.CE)("div",q,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.userAddresses,((t,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s,class:"flex items-center"},[(0,a.Lk)("div",B,[(0,a.Lk)("input",{type:"radio",name:"selectedAddress",class:"mr-2",checked:1===r.userAddresses.length&&0===s},null,8,U)]),(0,a.Lk)("div",Q,[(0,a.Lk)("div",null,[e[42]||(e[42]=(0,a.Lk)("strong",null,"ชื่อ: ",-1)),(0,a.eW)((0,l.v_)(t.name)+" "+(0,l.v_)(t.lastname),1)]),(0,a.Lk)("div",null,[e[43]||(e[43]=(0,a.Lk)("strong",null,"เบอร์โทร: ",-1)),(0,a.eW)(" "+(0,l.v_)(t.phone),1)]),(0,a.Lk)("div",null,[e[44]||(e[44]=(0,a.Lk)("strong",null,"ที่อยู่: ",-1)),(0,a.eW)(" "+(0,l.v_)(t.address)+" "+(0,l.v_)(t.province)+","+(0,l.v_)(t.postcode),1)])]),e[45]||(e[45]=(0,a.Lk)("div",{class:"col-auto"},[(0,a.Lk)("button",{class:"bg-blue-500 text-white px-2 py-1 rounded-md text-sm"},"แก้ไข")],-1))])))),128))])):(0,a.Q3)("",!0)],2),(0,a.Lk)("div",{class:(0,l.C4)([{"opacity-50":"pending"===r.coupon.status},"z-50 bg-white border border-gray-200 rounded-lg shadow-sm p-4"]),id:"step3Container"},[(0,a.Lk)("div",$,[(0,a.Lk)("div",{class:(0,l.C4)([{"bg-green-500":r.cart.length>0,"bg-gray-500":0===r.cart.length},"flex items-center justify-center w-6 h-6 bg-gray-500 text-white rounded-full mr-2"])},[(0,a.bF)(n,{icon:[(r.coupon.status,"fas"),r.cart.length>0?"check":"hourglass-half"],class:"text-white text-sm"},null,8,["icon"])],2),e[47]||(e[47]=(0,a.Lk)("div",{class:"flex-1"},[(0,a.Lk)("p",{class:"text-gray-900 text-lg font-semibold"},"ขั้นตอนที่ 3")],-1)),(0,a.Lk)("div",N,[(0,a.Lk)("button",{onClick:e[3]||(e[3]=(...t)=>i.openProductModal&&i.openProductModal(...t)),class:"flex px-3 py-2 w-full items-center justify-center bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg focus:outline-none focus:shadow-outline transform transition-colors duration-150"},[(0,a.bF)(n,{icon:["fas","box"],class:"mr-2"}),e[46]||(e[46]=(0,a.eW)(" เลือกสินค้า "))])])]),r.cart.length>0?((0,a.uX)(),(0,a.CE)("div",K,[e[48]||(e[48]=(0,a.Lk)("h2",{class:"font-semibold"},"รายการสินค้า",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.cart,((t,e)=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:"cart-item"},[(0,a.Lk)("div",R,[(0,a.Lk)("p",V,(0,l.v_)(t.product.name),1),(0,a.Lk)("div",G,[(0,a.Lk)("p",null,"x"+(0,l.v_)(t.quantity),1),(0,a.Lk)("p",null,(0,l.v_)(i.formatPrice(t.product.price*t.quantity)),1),(0,a.Lk)("button",{onClick:t=>i.removeFromCart(e),class:"text-red-500"},[(0,a.bF)(n,{icon:["fas","trash"],class:"text-sm"})],8,J)])])])))),128)),(0,a.Lk)("p",H,"ยอดรวม : "+(0,l.v_)(i.formatPrice(i.cartTotal))+" Point",1)])):(0,a.Q3)("",!0),r.showProductModal?((0,a.uX)(),(0,a.CE)("div",z,[(0,a.Lk)("div",Y,[(0,a.Lk)("div",Z,[(0,a.Lk)("div",tt,[r.showProductDetails?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",et,[(0,a.Lk)("div",st,[e[49]||(e[49]=(0,a.Lk)("h3",{class:"text-lg font-semibold"},"เลือกสินค้า",-1)),(0,a.Lk)("button",{onClick:e[4]||(e[4]=(...t)=>i.closeProductModal&&i.closeProductModal(...t)),class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded focus:outline-none focus:shadow-outline transform transition-colors duration-150"},"ปิด")]),(0,a.Lk)("div",at,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.productList,((t,e)=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:"product",onClick:e=>r.showProductDetails=t},[(0,a.Lk)("img",{src:t.image,alt:"Product Image",class:"mb-2"},null,8,rt),(0,a.Lk)("p",null,(0,l.v_)(t.name),1),(0,a.Lk)("p",it,(0,l.v_)(t.price)+" Point",1)],8,ot)))),128))])])),r.showProductDetails?((0,a.uX)(),(0,a.CE)("div",nt,[(0,a.Lk)("div",lt,[(0,a.Lk)("div",ct,[(0,a.Lk)("h3",dt,(0,l.v_)(r.showProductDetails.name),1),(0,a.Lk)("div",null,[(0,a.Lk)("button",{onClick:e[5]||(e[5]=t=>r.showProductDetails=null),class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded focus:outline-none focus:shadow-outline transform transition-colors duration-150"},"ย้อนกลับ"),(0,a.Lk)("button",{onClick:e[6]||(e[6]=(...t)=>i.closeProductModal&&i.closeProductModal(...t)),class:"ml-1 px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded focus:outline-none focus:shadow-outline transform transition-colors duration-150"},"ปิด")])]),(0,a.Lk)("div",ut,[e[50]||(e[50]=(0,a.Lk)("div",{class:"ribbon ribbon-top-left"},[(0,a.Lk)("span",null,"สินค้าใหม่")],-1)),(0,a.Lk)("img",{src:r.showProductDetails.image,alt:"Product Image",class:"mb-2"},null,8,pt)]),(0,a.Lk)("div",mt,[(0,a.Lk)("div",ht,[(0,a.Lk)("p",gt,[(0,a.eW)("ราคา "+(0,l.v_)(r.showProductDetails.price)+" Point ",1),e[51]||(e[51]=(0,a.Lk)("small",{class:"text-gray-500 font-normal text-xs"},"ราคารวมจัดส่ง",-1))])]),(0,a.Lk)("div",ft,[(0,a.Lk)("button",{onClick:e[7]||(e[7]=(...t)=>i.decrementQuantity&&i.decrementQuantity(...t)),class:"text-gray-500 px-3 py-2 border border-gray-300 rounded-l-md text-lg"},"-"),(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>r.quantity=t),class:"w-20 px-3 py-2 border border-gray-300 rounded-none text-center text-lg"},null,512),[[f.Jo,r.quantity]]),(0,a.Lk)("button",{onClick:e[9]||(e[9]=(...t)=>i.incrementQuantity&&i.incrementQuantity(...t)),class:"text-gray-500 px-3 py-2 border border-gray-300 rounded-r-md text-lg"},"+")])]),(0,a.Lk)("button",{onClick:e[10]||(e[10]=t=>i.addToCart(r.showProductDetails,r.quantity)),class:"w-full mb-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded focus:outline-none focus:shadow-outline transform transition-colors duration-150"},[(0,a.bF)(n,{icon:["fas","plus"],class:"mr-2"}),e[52]||(e[52]=(0,a.eW)(" เพิ่มสินค้า"))]),(0,a.Lk)("p",{innerHTML:r.showProductDetails.description},null,8,bt),e[53]||(e[53]=(0,a.Lk)("p",{class:"font-bold"},"อายุการเก็บรักษา",-1)),(0,a.Lk)("p",{innerHTML:r.showProductDetails.age},null,8,kt),e[54]||(e[54]=(0,a.Lk)("p",{class:"font-bold"},"วิธีการรับประทาน",-1)),(0,a.Lk)("p",{innerHTML:r.showProductDetails.how},null,8,xt)])])):(0,a.Q3)("",!0)])])])])):(0,a.Q3)("",!0)],2),(0,a.Lk)("div",{class:(0,l.C4)([{"opacity-50":"pending"===r.coupon.status},"bg-white border border-gray-200 rounded-lg shadow-sm p-4"]),id:"step4Container"},[(0,a.Lk)("div",vt,[e[56]||(e[56]=(0,a.Lk)("div",{class:"flex items-center justify-center w-6 h-6 bg-gray-500 text-white rounded-full mr-2"},[(0,a.Lk)("i",{class:"fas fa-hourglass-half text-sm"})],-1)),e[57]||(e[57]=(0,a.Lk)("div",{class:"flex-1"},[(0,a.Lk)("p",{class:"text-gray-900 text-lg font-semibold"},"ขั้นตอนที่ 4")],-1)),(0,a.Lk)("div",wt,[(0,a.Lk)("button",{onClick:e[11]||(e[11]=(...t)=>i.completeOrder&&i.completeOrder(...t)),class:"flex px-3 py-2 w-full items-center justify-center bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg focus:outline-none focus:shadow-outline transform transition-colors duration-150"},[(0,a.bF)(n,{icon:["fas","check-circle"],class:"mr-2"}),e[55]||(e[55]=(0,a.eW)(" ยืนยันการสั่งซื้อ "))])])]),r.order.length>0?((0,a.uX)(),(0,a.CE)("div",yt,[e[60]||(e[60]=(0,a.Lk)("h3",{class:"font-semibold w-full text-center text-gray-500 mt-2 mb-3"},"คำสั่งซื้อ",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.order,((t,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s,class:"pt-3 pb-2 border border-gray-200 rounded-sm mb-2"},[(0,a.Lk)("div",{class:"grid grid-cols-3 gap-2 p-2 text-sm",onClick:t=>i.toggleProductVisibility(s)},[(0,a.Lk)("div",null,[(0,a.Lk)("p",Ct,(0,l.v_)(i.formatPrice(t.totalprice))+" Point",1)]),(0,a.Lk)("div",Pt,[(0,a.Lk)("p",null,(0,l.v_)(i.formatDate(t.createdAt)),1)]),(0,a.Lk)("div",At,[(0,a.Lk)("p",null,[(0,a.Lk)("span",Et,(0,l.v_)(t.status?"Completed":"Pending"),1)])])],8,Lt),r.showProduct[s]?((0,a.uX)(),(0,a.CE)("div",Dt,[(0,a.Lk)("div",_t,[e[58]||(e[58]=(0,a.Lk)("h3",{class:"font-semibold"},"สินค้า",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.products,((t,e)=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:"cart-item"},[(0,a.Lk)("div",Mt,[(0,a.Lk)("p",It,(0,l.v_)(t.name),1),(0,a.Lk)("div",St,[(0,a.Lk)("p",null,"x"+(0,l.v_)(t.quantity),1),(0,a.Lk)("p",null,(0,l.v_)(i.formatPrice(t.price*t.quantity)),1)])])])))),128))]),(0,a.Lk)("div",Ft,[e[59]||(e[59]=(0,a.Lk)("h3",{class:"font-semibold"},"ที่อยู่",-1)),(0,a.Lk)("h3",jt,(0,l.v_)(t.address.name)+" "+(0,l.v_)(t.address.lastname),1),(0,a.Lk)("p",null,(0,l.v_)(t.address.address)+", "+(0,l.v_)(t.address.subdistrict)+", "+(0,l.v_)(t.address.district)+", "+(0,l.v_)(t.address.province)+" "+(0,l.v_)(t.address.postcode),1)])])):(0,a.Q3)("",!0)])))),128))])):(0,a.Q3)("",!0),r.showCompleteModal?((0,a.uX)(),(0,a.CE)("div",Wt,[(0,a.Lk)("div",Tt,[(0,a.Lk)("div",Ot,[(0,a.Lk)("div",Xt,[e[61]||(e[61]=(0,a.Lk)("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"สรุปยอดคำสั่งซื้อ",-1)),(0,a.Lk)("button",{onClick:e[12]||(e[12]=(...t)=>i.closeCompleteModal&&i.closeCompleteModal(...t)),type:"button",class:"inline-block px-4 py-2 bg-white border border-gray-300 text-sm font-medium text-gray-700 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"ปิด")]),(0,a.Lk)("div",qt,[e[62]||(e[62]=(0,a.Lk)("h4",{class:"text-base font-semibold"},"ที่อยู่ในการจัดส่ง:",-1)),(0,a.Lk)("p",Bt,(0,l.v_)(r.selectedAddress.name)+" "+(0,l.v_)(r.selectedAddress.lastname),1),(0,a.Lk)("p",Ut,(0,l.v_)(r.selectedAddress.phone),1),(0,a.Lk)("p",Qt,(0,l.v_)(r.selectedAddress.address)+", "+(0,l.v_)(r.selectedAddress.subdistrict)+", "+(0,l.v_)(r.selectedAddress.district)+", "+(0,l.v_)(r.selectedAddress.province)+", "+(0,l.v_)(r.selectedAddress.postcode),1)]),(0,a.Lk)("div",$t,[e[63]||(e[63]=(0,a.Lk)("h4",{class:"text-base font-semibold"},"รายการสินค้า:",-1)),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.cart,((t,e)=>((0,a.uX)(),(0,a.CE)("div",{key:e,class:"cart-item"},[(0,a.Lk)("div",Nt,[(0,a.Lk)("p",Kt,(0,l.v_)(t.product.name),1),(0,a.Lk)("div",Rt,[(0,a.Lk)("p",null,"x"+(0,l.v_)(t.quantity),1),(0,a.Lk)("p",Vt,(0,l.v_)(i.formatPrice(t.product.price*t.quantity)),1)])])])))),128))]),(0,a.Lk)("div",Gt,[e[65]||(e[65]=(0,a.Lk)("h4",{class:"text-base font-semibold"},"ยอดรวม:",-1)),(0,a.Lk)("span",Jt,[(0,a.eW)((0,l.v_)(i.formatPrice(i.cartTotal))+" ",1),e[64]||(e[64]=(0,a.Lk)("small",{class:"font-normal"},"Point",-1))])]),e[66]||(e[66]=(0,a.Lk)("span",{class:"text-gray-500"},"* ยอดรวมคำสั่งซื้อรวมค่าจัดส่งสินค้าแล้ว",-1))]),(0,a.Lk)("div",Ht,[r.cart.length>0?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:e[13]||(e[13]=(...t)=>i.placeOrder&&i.placeOrder(...t)),class:"w-full py-3 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg focus:outline-none focus:shadow-outline transition-colors duration-150"},[(0,a.bF)(n,{icon:["fas","check-circle"],class:"mr-2"}),e[67]||(e[67]=(0,a.eW)(" ยืนยันการสั่งซื้อ"))])):(0,a.Q3)("",!0)])])])):(0,a.Q3)("",!0)],2)])):(0,a.Q3)("",!0),this.login?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",zt,["pending"===r.coupon.status?((0,a.uX)(),(0,a.CE)("div",Yt,[(0,a.Lk)("button",{onClick:e[14]||(e[14]=(...t)=>i.loginWithLine&&i.loginWithLine(...t)),class:"flex px-3 py-4 mt-2 w-full items-center justify-center bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg focus:outline-none focus:shadow-outline transform transition-colors duration-150"},e[68]||(e[68]=[(0,a.Lk)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/4/41/LINE_logo.svg",alt:"LINE logo",class:"h-6 w-6 mr-2"},null,-1),(0,a.eW)(" Login with LINE ")]))])):((0,a.uX)(),(0,a.CE)("div",Zt,[(0,a.Lk)("div",te,[(0,a.Lk)("div",ee,(0,l.v_)(r.dataItem),1),e[69]||(e[69]=(0,a.Lk)("span",{class:"mt-2 text-center font-normal"},[(0,a.eW)("ขออภัย คูปองนี้ถูกใช้งานแล้ว "),(0,a.Lk)("br"),(0,a.eW)("ติดต่อทีมงานเพื่อตรวจสอบข้อมูล")],-1))]),(0,a.Lk)("button",{onClick:e[15]||(e[15]=(...t)=>i.loginWithLine&&i.loginWithLine(...t)),class:"flex px-3 py-4 mt-2 w-full items-center justify-center bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg focus:outline-none focus:shadow-outline transform transition-colors duration-150"},e[70]||(e[70]=[(0,a.Lk)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/4/41/LINE_logo.svg",alt:"LINE logo",class:"h-6 w-6 mr-2"},null,-1),(0,a.eW)(" Login with LINE ")]))]))]))])])])],2),r.showCompleteOrderModal?((0,a.uX)(),(0,a.CE)("div",se,[(0,a.Lk)("div",ae,[e[74]||(e[74]=(0,a.Lk)("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"},null,-1)),(0,a.Lk)("div",oe,[(0,a.Lk)("div",re,[(0,a.Lk)("div",ie,[e[72]||(e[72]=(0,a.Lk)("h2",{class:"text-lg font-semibold mb-4"},"Order Summary",-1)),e[73]||(e[73]=(0,a.Lk)("p",{class:"mb-4"},"Thank you for your order!",-1)),(0,a.Lk)("button",{onClick:e[16]||(e[16]=(...t)=>i.closeCompleteOrderModal&&i.closeCompleteOrderModal(...t)),class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white font-bold rounded mt-4 focus:outline-none focus:shadow-outline transform transition-colors duration-150"},"ปิด")])])])])])):(0,a.Q3)("",!0),r.showModal?((0,a.uX)(),(0,a.CE)("div",ne,[(0,a.Lk)("div",le,[e[90]||(e[90]=(0,a.Lk)("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"},null,-1)),(0,a.Lk)("div",ce,[(0,a.Lk)("div",de,[(0,a.Lk)("div",ue,[(0,a.Lk)("div",pe,[e[89]||(e[89]=(0,a.Lk)("h3",{class:"text-lg font-medium leading-3 text-gray-900",id:"modal-title"},"รายละเอียดในการจัดส่ง",-1)),(0,a.Lk)("div",me,[(0,a.Lk)("div",he,[1===r.step?((0,a.uX)(),(0,a.CE)("div",ge,[e[79]||(e[79]=(0,a.Lk)("div",{class:"sm:mx-auto sm:w-full sm:max-w-lg"},[(0,a.Lk)("h2",{class:"mt-3 text-center text-lg font-bold tracking-tight text-gray-900"},"Step 1: ข้อมูลส่วนตัวผู้รับสินค้า")],-1)),(0,a.Lk)("div",fe,[(0,a.Lk)("div",be,[(0,a.Lk)("form",{onSubmit:e[22]||(e[22]=(0,f.D$)(((...t)=>i.nextStep&&i.nextStep(...t)),["prevent"]))},[(0,a.Lk)("div",ke,[e[75]||(e[75]=(0,a.Lk)("span",{class:"input-label"},[(0,a.eW)("ชื่อจริง "),(0,a.Lk)("small",{class:"text-red-400"},"(*จำเป็นต้องกรอก)")],-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[17]||(e[17]=t=>r.shippingData.name=t),type:"text",placeholder:"ชื่อจริง",class:"w-full p-3 border border-gray-200 mb-1 text-sm"},null,512),[[f.Jo,r.shippingData.name]])]),(0,a.Lk)("div",xe,[e[76]||(e[76]=(0,a.Lk)("span",{class:"input-label"},[(0,a.eW)("นามสกุล "),(0,a.Lk)("small",{class:"text-red-400"},"(*จำเป็นต้องกรอก)")],-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[18]||(e[18]=t=>r.shippingData.lastname=t),type:"text",placeholder:"นามสกุล",class:"w-full p-3 border border-gray-200 mb-1 text-sm"},null,512),[[f.Jo,r.shippingData.lastname]])]),(0,a.Lk)("div",ve,[e[77]||(e[77]=(0,a.Lk)("span",{class:"input-label"},[(0,a.eW)("เบอร์โทร "),(0,a.Lk)("small",{class:"text-red-400"},"(*จำเป็นต้องกรอก)")],-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[19]||(e[19]=t=>r.shippingData.phone=t),type:"text",placeholder:"เบอร์โทร",class:"w-full p-3 border border-gray-200 mb-1 text-sm"},null,512),[[f.Jo,r.shippingData.phone]])]),(0,a.Lk)("div",we,[e[78]||(e[78]=(0,a.Lk)("span",{class:"input-label"},[(0,a.eW)("อีเมล์ "),(0,a.Lk)("small",{class:"text-red-400"},"(*จำเป็นต้องกรอก)")],-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[20]||(e[20]=t=>r.shippingData.email=t),type:"text",placeholder:"อีเมล์",class:"w-full p-3 border border-gray-200 mb-1 text-sm"},null,512),[[f.Jo,r.shippingData.email]])]),(0,a.Lk)("div",ye,[(0,a.Lk)("button",{onClick:e[21]||(e[21]=(...t)=>i.nextStep&&i.nextStep(...t)),class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white font-bold rounded focus:outline-none focus:shadow-outline transform transition-colors duration-150"},"ที่อยู่ในการจัดส่ง")])],32)])])])):(0,a.Q3)("",!0),2===r.step?((0,a.uX)(),(0,a.CE)("div",Le,[e[85]||(e[85]=(0,a.Lk)("div",{class:"sm:mx-auto sm:w-full sm:max-w-lg"},[(0,a.Lk)("h2",{class:"mt-3 text-center text-lg font-bold tracking-tight text-gray-900"},"Step 2: ข้อมูลที่อยู่จัดส่งสินค้า")],-1)),(0,a.Lk)("div",Ce,[(0,a.Lk)("div",Pe,[(0,a.Lk)("form",{onSubmit:e[30]||(e[30]=(0,f.D$)(((...t)=>i.nextStep&&i.nextStep(...t)),["prevent"]))},[(0,a.Lk)("div",Ae,[e[80]||(e[80]=(0,a.Lk)("span",{class:"input-label"},[(0,a.eW)("ที่อยู่ "),(0,a.Lk)("small",{class:"text-red-400"},"(*จำเป็นต้องกรอก)")],-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":e[23]||(e[23]=t=>r.shippingData.address=t),placeholder:"ที่อยู่",class:"w-full p-3 border border-gray-200 mb-1 text-sm",style:{height:"100px"}},null,512),[[f.Jo,r.shippingData.address]])]),(0,a.Lk)("div",Ee,[e[81]||(e[81]=(0,a.Lk)("span",{class:"input-label"},[(0,a.eW)("ตำบล "),(0,a.Lk)("small",{class:"text-red-400"},"(*จำเป็นต้องกรอก)")],-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[24]||(e[24]=t=>r.shippingData.subdistrict=t),type:"text",placeholder:"ตำบล",class:"w-full p-3 border border-gray-200 mb-1 text-sm"},null,512),[[f.Jo,r.shippingData.subdistrict]])]),(0,a.Lk)("div",De,[e[82]||(e[82]=(0,a.Lk)("span",{class:"input-label"},[(0,a.eW)("อำเภอ "),(0,a.Lk)("small",{class:"text-red-400"},"(*จำเป็นต้องกรอก)")],-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[25]||(e[25]=t=>r.shippingData.district=t),type:"text",placeholder:"อำเภอ",class:"w-full p-3 border border-gray-200 mb-1 text-sm"},null,512),[[f.Jo,r.shippingData.district]])]),(0,a.Lk)("div",_e,[e[83]||(e[83]=(0,a.Lk)("span",{class:"input-label"},[(0,a.eW)("จังหวัด "),(0,a.Lk)("small",{class:"text-red-400"},"(*จำเป็นต้องกรอก)")],-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[26]||(e[26]=t=>r.shippingData.province=t),type:"text",placeholder:"จังหวัด",class:"w-full p-3 border border-gray-200 mb-1 text-sm"},null,512),[[f.Jo,r.shippingData.province]])]),(0,a.Lk)("div",Me,[e[84]||(e[84]=(0,a.Lk)("span",{class:"input-label"},[(0,a.eW)("รหัสไปรษณีย์ "),(0,a.Lk)("small",{class:"text-red-400"},"(*จำเป็นต้องกรอก)")],-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[27]||(e[27]=t=>r.shippingData.postcode=t),type:"text",placeholder:"รหัสไปรษณีย์",class:"w-full p-3 border border-gray-200 mb-1 text-sm"},null,512),[[f.Jo,r.shippingData.postcode]])]),(0,a.Lk)("div",Ie,[(0,a.Lk)("div",Se,[(0,a.Lk)("button",{onClick:e[28]||(e[28]=(...t)=>i.prevStep&&i.prevStep(...t)),class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white font-bold rounded focus:outline-none focus:shadow-outline transform transition-colors duration-150"},"ข้อมูลส่วนตัว"),(0,a.Lk)("button",{onClick:e[29]||(e[29]=(...t)=>i.nextStep&&i.nextStep(...t)),class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white font-bold rounded focus:outline-none focus:shadow-outline transform transition-colors duration-150"},"สรุปข้อมูล")])])],32)])])])):(0,a.Q3)("",!0),3===r.step?((0,a.uX)(),(0,a.CE)("div",Fe,[e[88]||(e[88]=(0,a.Lk)("div",{class:"sm:mx-auto sm:w-full sm:max-w-lg"},[(0,a.Lk)("h2",{class:"mt-3 text-center text-lg font-bold tracking-tight text-gray-900"},"สรุปข้อมูลการจัดส่ง")],-1)),(0,a.Lk)("div",je,[(0,a.Lk)("div",We,[(0,a.Lk)("div",Te,[e[87]||(e[87]=(0,a.Lk)("div",{class:"text-center"},[(0,a.Lk)("p",{class:"text-md font-bold"},"Shipping Label")],-1)),(0,a.Lk)("div",Oe,[(0,a.Lk)("div",Xe,[e[86]||(e[86]=(0,a.Fv)('<div class="w-1/2" data-v-66d7cb46><div class="flex flex-col text-left" data-v-66d7cb46><div class="font-bold" data-v-66d7cb46>ชื่อ-นามสกุล:</div><div class="font-bold" data-v-66d7cb46>เบอร์โทร:</div><div class="font-bold" data-v-66d7cb46>อีเมล์:</div><div class="font-bold" data-v-66d7cb46>ที่อยู่:</div><div class="font-bold" data-v-66d7cb46>ตำบล:</div><div class="font-bold" data-v-66d7cb46>อำเภอ:</div><div class="font-bold" data-v-66d7cb46>จังหวัด:</div><div class="font-bold" data-v-66d7cb46>รหัสไปรษณีย์:</div></div></div>',1)),(0,a.Lk)("div",qe,[(0,a.Lk)("div",Be,[(0,a.Lk)("div",null,(0,l.v_)(r.shippingData.name)+" "+(0,l.v_)(r.shippingData.lastname),1),(0,a.Lk)("div",null,(0,l.v_)(r.shippingData.phone),1),(0,a.Lk)("div",null,(0,l.v_)(r.shippingData.email),1),(0,a.Lk)("div",null,(0,l.v_)(r.shippingData.address),1),(0,a.Lk)("div",null,(0,l.v_)(r.shippingData.subdistrict),1),(0,a.Lk)("div",null,(0,l.v_)(r.shippingData.district),1),(0,a.Lk)("div",null,(0,l.v_)(r.shippingData.province),1),(0,a.Lk)("div",null,(0,l.v_)(r.shippingData.postcode),1)])])])])]),(0,a.Lk)("div",Ue,[(0,a.Lk)("div",Qe,[(0,a.Lk)("button",{onClick:e[31]||(e[31]=(...t)=>i.prevStep&&i.prevStep(...t)),class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white font-bold rounded focus:outline-none focus:shadow-outline transform transition-colors duration-150"},"ที่อยู่ในการจัดส่ง"),(0,a.Lk)("button",{onClick:e[32]||(e[32]=(...t)=>i.submitForm&&i.submitForm(...t)),class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white font-bold rounded focus:outline-none focus:shadow-outline transform transition-colors duration-150"},"ยืนยันข้อมูล")])])])])])):(0,a.Q3)("",!0)])])])])]),(0,a.Lk)("div",$e,[(0,a.Lk)("button",{onClick:e[33]||(e[33]=(...t)=>i.closeModal&&i.closeModal(...t)),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])])])])):(0,a.Q3)("",!0)],64)}s(44114),s(98992),s(54520),s(3949),s(81454),s(8872),s(64979);var Ke=s(40471),Re=s(88061),Ve=s(73288),Ge=s(63084),Je=s(9964),He=s(77823);const ze=new Ke.A(!1),Ye=n.A.get("session","userID");var Ze={name:"Product Index Backend",data(){const t=(0,i.lq)();return{login:n.A.get("session","login"),session:n.A.get("session"),configs:n.A.get("configs"),hostname:n.A.get("hostname"),dataItem:this.$route.params.code,PageName:t.meta.title,PageIcon:t.meta.icon,PagePath:t.meta.path,ParentName:t.meta.parent,ParentPage:t.meta.page,routeName:this.routeName,activeBlock:!1,message:"Wallet",credits:0,amount:0,walletMember:Ye,walletMethod:"deposit",transaction:[],coupon:[],showCompleteModal:!1,selectedAddress:null,showCompleteOrderModal:!1,showModal:!1,showProductModal:!1,isCartOpen:!1,showProductDetails:null,productList:[{name:"King Collagen",image:"https://doa-academy.sgp1.digitaloceanspaces.com/2024/02/1707894848374.jpg",price:400,description:"โควิก ซีซันนอล กิ๊ฟ (ผลิตภัณฑ์เสริมอาหาร) (เครื่องหมายการค้า คิง คอลลาเจน) <br/> Kovic Seasonal Gift (Dietary Supplement Product) (King Collagen®)",active:"Fish Collagen Peptide (5g.)",age:"3 ปี  นับจากวันที่ผลิต",how:"วันละ 1 หน่วย (5 กรัม) ต่อปริมาณของเหลว 150 กรัม"},{name:"Cordynine",image:"https://doa-academy.sgp1.digitaloceanspaces.com/2024/02/1707894845405.jpg",price:300,description:"โควิก ซีซันนอล กิ๊ฟ (ผลิตภัณฑ์เสริมอาหาร) (เครื่องหมายการค้า คอร์ดีนีน) <br/> Kovic Seasonal Gift (Dietary Supplement Product) (Cordynine™) ",active:"Cordyceps Powder (160 mg.), L-Arginine (100 mg.), Zinc Oxide 25% (60 mg), Black Galingale Extract (40 mg.), Ginseng Extract (20 mg.), Black Pepper Powder (20 mg.)",age:"2 ปี  นับจากวันที่ผลิต",how:"วันละ 1 แคปซูล "},{name:"Memoplexx",image:"https://doa-academy.sgp1.digitaloceanspaces.com/2024/02/1707894849595.jpg",price:450,description:"โควิก ซีซันนอล กิ๊ฟ (ผลิตภัณฑ์เสริมอาหาร) (เครื่องหมายการค้า เมโนเพล็กซ์) <br/> Kovic Seasonal Gift (Dietary Supplement Product) (Menoplexx®) ",active:"Dong Quai Extract\t(80 mg), Sea Buckthorn Extract\t(65 mg), Fish Collagen Peptide\t(50 mg), Pomegranate Extract\t(50 mg), Isolated Soy Protein\t(50 mg), Cranberry Extract (40 mg), Pine Bark Extract\t(30 mg), Refined Sunflowerseed Oil powder\t(25 mg), Refined Flaxseed Oil Powder\t(25 mg), Ginseng Extract\t(20 mg), Acerola Cherry Extract\t(15 mg)",age:"2 ปี  นับจากวันที่ผลิต",how:"วันละ 1 แคปซูล"},{name:"Munimax",image:"https://doa-academy.sgp1.digitaloceanspaces.com/2024/02/1707894850492.jpg",price:350,description:"โควิก ซีซันนอล กิ๊ฟ (ผลิตภัณฑ์เสริมอาหาร) (เครื่องหมายการค้า มูนิแม็กซ์) <br/> Kovic Seasonal Gift (Dietary Supplement Product) (Munimaxx®) ",active:"Acerola Cherry Extract\t(300 mg),Camu-Camu Extract\t(215 mg),Broccoli Powder\t1(00 mg),Zinc Amino Acid Chelate 20%\t(75 mg),Maitake Powder\t(50 mg),Shitake Powder\t(50 mg),Rose Hips Extract\t(50 mg),Citrus Aurantium Extract\t(50 mg),Vitamin D3 (105000IU/G)\t(1.9 mg)",age:"2 ปี  นับจากวันที่ผลิต",how:"วันละ 1 เม็ด"},{name:"Fish Oil",image:"https://doa-academy.sgp1.digitaloceanspaces.com/2024/02/1707894847557.jpg",price:550,description:"โควิก ซีซันนอล กิ๊ฟ (ผลิตภัณฑ์เสริมอาหารจากน้ำมันปลา) <br/> Kovic Seasonal Gift (Fish Oil Dietary Supplement Product) ",active:"EPA and DHA 80% From Highly Concentrated Anchovy Oil\t(350 mg),Wheat Germ Oli\t(137.2 mg),Mixed Tocopherols (Provides Vitamin E 176 IU/G)\t(12.8 mg)",age:"2 ปี  นับจากวันที่ผลิต",how:"วันละ 2 แคปซูล"}],quantity:1,cart:[],step:1,shippingData:{name:"",lastname:"",phone:"",email:"",address:"",subdistrict:"",district:"",province:"",postcode:""},userAddresses:[],headers:[],tableData:[],order:[],showProduct:[]}},components:{},methods:{smoothScrollTo(t,e=500){const s=window.scrollY,a=t-s,o=performance.now();function r(){const n=performance.now(),l=n-o;l<e?(window.scrollTo(0,s+i(l/e)*a),requestAnimationFrame(r)):window.scrollTo(0,t)}function i(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1}requestAnimationFrame(r)},formatDate(t){const e=new Date(t);return new Intl.DateTimeFormat("default",{dateStyle:"short"}).format(e)},toggleProductVisibility(t){this.showProduct[t]=!this.showProduct[t]},decrementQuantity(){this.quantity>1&&this.quantity--},incrementQuantity(){this.quantity++},formatPrice(t){return Je.A.formatNumber(t)},async callbackFunction(){try{console.log("callbackFunction")}catch(t){console.error(t)}},async deposit(){try{this.activeBlock=!0;const t=await Re.A.deposit(this.walletMember,this.amount);t&&200===t.status&&(this.balance(),this.activeBlock=!1)}catch(t){console.error("Error",t)}},async withdraw(){try{this.activeBlock=!0;const t=await Re.A.withdraw(this.walletMember,this.amount);t&&200===t.status&&(this.balance(),this.activeBlock=!1)}catch(t){console.error("Error",t)}},async transfer(){try{Ve.A.confirm({title:"คุณต้องการโอนคะแนน?",message:"โอนยอด "+this.amount+" เข้าสู่บัญชีของสมาชิกอื่น !",confirm:async()=>{try{const t=await Re.A.transfer(this.walletMember,this.targetMemberId,this.amount);t&&200===t.status&&this.balance()}catch(t){Ge.A.log(t)}},cancel:()=>{}})}catch(t){console.error("Error",t)}},async balance(){try{await Re.A.balance(this.walletMember),this.credits=Re.A.credits}catch(t){console.error("Error",t)}},async reset(){try{Ve.A.confirm({title:"คุณต้องการรีเซ็ตคะแนน?",message:"ลบยอด "+this.credits+" จากบัญชีของคุณ !",confirm:async()=>{try{await Re.A.reset(this.walletMember),this.credits=Re.A.credits}catch(t){Ge.A.log(t)}},cancel:()=>{}})}catch(t){console.error("Error",t)}},async balanceTransactions(){try{const t=await Re.A.transaction(this.walletMember,5);this.transaction=t,Ge.A.log("Transaction logs:",t)}catch(t){console.error("Error",t)}},async handleSubmit(){"deposit"===this.walletMethod?this.deposit():"transfer"===this.walletMethod?this.transfer():"withdraw"===this.walletMethod?this.withdraw():"balance"===this.walletMethod&&this.balance()},handleFileUpload(t){const e=t.target.files[0];if(e){const t=new FileReader;t.onload=t=>{const e=t.target.result;this.processCSVData(e)},t.readAsText(e)}},processCSVData(t){const e=t.split(/\r\n|\n/).filter((t=>t));this.headers=e[0].split(",").map((t=>t.replace(/['"]+/g,"").trim())),this.tableData=e.slice(1).map((t=>{const e=t.match(/(".*?"|[^",\s]+)(?=\s*,|\s*$)/g);if(!e)return{};const s={};return this.headers.forEach(((t,a)=>{s[t]=e[a]&&e[a].replace(/['"]+/g,"").trim()})),s}))},async importDataToDB(){for(let e of this.tableData){let s={...e};void 0!==s["Coupon Code"]&&(s["code"]=s["Coupon Code"],delete s["Coupon Code"]),void 0!==s["Expire Date"]&&(s["expire"]=s["Expire Date"],delete s["Expire Date"]);const a={data:{...s,unit:this.configs.siteID}};try{const t=await ze.POST("coupons",a,this.configs.key);200===t.status?console.log("Row imported successfully:",s):console.error("Failed to import row:",s)}catch(t){console.error("Error importing row:",s,t)}}},async checkCouponsExists(t){try{const e=await ze.POST("coupons/query",{method:"find",args:[{$and:[{code:t,unit:this.configs.siteID}]}]},this.configs.key),s=e.data[0];this.coupon=s,this.getUserData(),console.log("checkCouponsExists")}catch(e){throw console.error("Error checking user existence:",e),e}},async getUserOrder(){try{const t=await ze.POST("orders/query",{method:"find",args:[{$and:[{userId:this.walletMember,unit:this.configs.siteID}]}]},this.configs.key),e=t.data;this.order=e,console.log("getUserOrder")}catch(t){throw console.error("Error checking user existence:",t),t}},generateRandomString(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let s="";const a=e.length;for(let o=0;o<t;o++)s+=e.charAt(Math.floor(Math.random()*a));return s},generateStateWithRedirect(t){const e={random:this.generateRandomString(12),redirect:t,siteID:this.configs.siteID};return btoa(JSON.stringify(e))},loginWithLine(){const t=this.configs.line?.client_id,e=encodeURIComponent(this.configs.line?.callback),s=this.generateStateWithRedirect("/redeem-coupon/"+this.dataItem),a="profile openid",o="aggressive";window.location.href=`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${t}&redirect_uri=${e}&state=${s}&scope=${a}&bot_prompt=${o}`},redeemCoupon(){this.showModal=!0},nextStep(){this.step<3&&this.step++},prevStep(){this.step>1&&this.step--},openAddress(){this.userAddresses.length>0?this.toast=(0,He.A)({type:"error",message:"ยังไม่สามารถเพิ่มที่อยู่เพิ่มได้ในขณะนี้",autohide:!0}):this.showModal=!0},closeModal(){this.showModal=!1},openProductModal(){this.showProductModal=!0;const t=document.getElementById("step3Container");if(t){const e=t.getBoundingClientRect().top+window.scrollY-10;this.smoothScrollTo(e)}},closeProductModal(){this.showProductDetails=!1,this.showProductModal=!1},async getUserData(){if(console.log("Login",this.login),this.login)try{const{status:t,data:e}=await ze.GET(`user/${this.session.userID}`,this.configs.key);200===t?(e&&e.addresses&&e.addresses.length>0?this.userAddresses=e.addresses:this.userAddresses=[],this.balance(),this.getUserOrder(),console.log("Balance")):console.error("Failed to fetch user data")}catch(t){console.error("Error fetching user data:",t)}},addToCart(t,e){const s=t.price*e,a=this.cart.reduce(((t,e)=>t+e.product.price*e.quantity),0),o=a+s;if(o<=this.credits){const s=this.cart.findIndex((e=>e.product===t));-1!==s?(this.toast=(0,He.A)({type:"success",message:"เพิ่มจำรนวนสินค้าให้ตะกร้าแล้ว",autohide:!0}),this.cart[s].quantity+=e):(this.toast=(0,He.A)({type:"success",message:"เพิ่มสินค้าใหม่ในตะกร้าแล้ว",autohide:!0}),this.cart.push({product:t,quantity:e})),this.quantity=1}else this.toast=(0,He.A)({type:"error",message:"มูลค่าสินค้ามากกว่าแต้มในระบบ",autohide:!0}),this.quantity=1},removeFromCart(t){this.cart.splice(t,1)},toggleCart(){this.isCartOpen=!this.isCartOpen},closeCart(){this.isCartOpen=!1},completeOrder(){if(this.userAddresses.length>0){this.selectedAddress=this.userAddresses[0],this.showCompleteModal=!0;const t=document.getElementById("step4Container");if(t){const e=t.getBoundingClientRect().top+window.scrollY-10;this.smoothScrollTo(e)}}else alert("Please select an address before completing the order.")},closeCompleteModal(){this.showCompleteModal=!1,this.selectedAddress=null},async placeOrder(){this.activeBlock=!0;const t=this.cartTotal;if(t>this.credits)return void alert("Insufficient points to place this order.");const e={data:{address:{name:this.selectedAddress.name,lastname:this.selectedAddress.lastname,phone:this.selectedAddress.phone,address:this.selectedAddress.address,subdistrict:this.selectedAddress.subdistrict,district:this.selectedAddress.district,province:this.selectedAddress.province,postcode:this.selectedAddress.postcode},products:this.cart.map((t=>({name:t.product.name,quantity:t.quantity,price:t.product.price}))),unit:this.configs.siteID,totalprice:this.cartTotal,userId:this.walletMember,process:"pending",status:!1}};try{const s=await ze.POST("orders",e,this.configs.key);200===s.status?(this.toast=(0,He.A)({type:"success",message:"สั่งซื้อสินค้าสำเร็จ",autohide:!0}),this.amount=parseFloat(t),this.withdraw(),this.checkCouponsExists(this.dataItem),this.activeBlock=!1,this.cart=[],this.showCompleteModal=!1,this.showCompleteOrderModal=!0):alert("Failed to place the order. Please try again later.")}catch(s){console.error("Error occurred while placing the order:",s),alert("An error occurred while placing the order. Please try again later.")}},closeCompleteOrderModal(){this.showCompleteOrderModal=!1},async redeemCouponCode(){try{if(this.activeBlock=!0,"pending"===this.coupon.status){const t={data:{status:"active",userID:this.walletMember},options:{}},{data:e,status:s}=await this.$Request.PUT(`coupons/${this.coupon._id}`,t,this.configs.key);console.log(e),200===s&&(this.toast=(0,He.A)({type:"success",message:"Redeem โค๊ดสำเร็จ",autohide:!0}),this.amount=parseFloat(this.coupon.volume),this.deposit(),this.checkCouponsExists(this.dataItem),this.activeBlock=!1)}else this.toast=(0,He.A)({type:"error",message:"ไม่สามารถ Redeem โค๊ดซ้ำได้",autohide:!0}),this.activeBlock=!1,console.log("Cant Redeem")}catch(t){console.log(t)}},async submitForm(){const t={name:this.shippingData.name,lastname:this.shippingData.lastname,phone:this.shippingData.phone,email:this.shippingData.email,address:this.shippingData.address,subdistrict:this.shippingData.subdistrict,district:this.shippingData.district,province:this.shippingData.province,postcode:this.shippingData.postcode},e=this.userAddresses?[...this.userAddresses,t]:[t],s={data:{addresses:e}};try{this.activeBlock=!0;const t=await ze.PUT(`user/${this.session.userID}`,s,this.configs.key);console.log("Form data updated successfully:",t),this.showModal=!1,this.toast=(0,He.A)({type:"success",message:"เพิ่มที่อยู่สำเร็จ",autohide:!0}),this.getUserData(),this.activeBlock=!1}catch(a){console.error("Error updating form data:",a)}}},computed:{formattedActive(){const t=this.showProductDetails.active,e=t.split(", ");return e.map((t=>`<p class="bg-blue-500 text-white rounded-sm px-2 py-1 mr-2 mb-1 text-sm">${t}</p>`)).join("")},cartTotal(){return this.cart.reduce(((t,e)=>t+e.product.price*e.quantity),0)}},mounted(){this.checkCouponsExists(this.dataItem),this.getUserData()},setup(){}};const ts=(0,m.A)(Ze,[["render",Ne],["__scopeId","data-v-66d7cb46"]]);var es=ts,ss={name:"Product Index",components:{Backend:g,Frontend:es},data(){return{session:n.A.get("session")}},setup(){const t=(0,i.lq)(),e=t.meta.title;(0,r.K7)(e)},computed:{componentName(){return"backend"===this.session.interface?"Backend":"frontend"===this.session.interface?"Frontend":(console.error("Invalid interface:",this.session.interface),null)}}};const as=(0,m.A)(ss,[["render",o]]);var os=as},88061:function(t,e,s){s(98992),s(8872);var a=s(40475),o=s(77823),r=s(40471);const i=new r.A(!1),n=a.A.get("configs"),l=(t,e="Unknown error")=>{throw console.error(e),t},c={credits:0,apiUrl:"wallet",apiKey:n.key,initialize(t=0){this.credits=t},async api(t,e){try{const s=e?this.apiUrl+e:this.apiUrl,a=e?t:{data:t,options:{}},o=await i.POST(s,a,this.apiKey),r=o.status;if(200===!o.status)throw new Error(`API request failed with status: ${r}`);const n=o.data;return n.status=r,n}catch(s){l(s)}},async adjusts(t,e,s,a){try{const o=await this.balance(t),r=(new Date).toISOString(),n=await i.PUT(`user/${t}`,{data:{point:{active:o,history:{type:e,point:s,date:r,remark:a}}},options:{}},this.apiKey);if(200===n.status)return await this.balance(t),{status:200,message:"Points updated successfully."};throw new Error(`Failed to update user credits via API (${e}).`)}catch(o){return l(o,`Error while updating credits (${e}).`)}},async balance(t){try{if(!t.trim())throw new Error("Please enter a valid member ID.");const e={method:"find",args:[{$and:[{user:t}]}],paging:{page:1,limit:200}},s=await this.api(e,"/query");if(s&&s.data&&s.data.length>0){const t=s.data,e=t.reduce(((t,e)=>"in"===e.type?t+e.point:"out"===e.type?t-e.point:t),0);return this.credits=e,e}throw new Error("No data returned from API.")}catch(e){return l(e,"Error while fetching balance.")}},async deposit(t,e){try{if(this.toast=(0,o.A)({type:"pending",message:"กำลังเพิ่มคะแนน"}),e<=0)throw new Error("Deposit amount must be greater than zero.");const s={user:t,point:e,type:"in",mode:"deposit"},a=await this.api(s);if(200!==a.status)throw new Error("Failed to deposit credits via API.");const r=await this.adjusts(t,"deposit",e);return this.toast.hide("เพิ่มคะแนนเสร็จแล้ว","success",300,(()=>{})),r}catch(s){return l(s,"Error while adding credits.")}},async withdraw(t,e){try{if(this.toast=(0,o.A)({type:"pending",message:"กำลังถอนคะแนน"}),e<=0)throw new Error("Withdrawal amount must be greater than zero.");const s=await this.balance(t);if(e>s)throw new Error("Withdrawal amount exceeds the current credits.");const a={user:t,point:e,type:"out",mode:"withdraw"},r=await this.api(a);if(200!==r.status)throw new Error("Failed to withdraw credits via API.");const i=await this.adjusts(t,"withdraw",e);return this.toast.hide("ถอนคะแนนเสร็จแล้ว","success",300,(()=>{})),i}catch(s){return l(s,"Error while removing credits.")}},async transfer(t,e,s){try{if(this.toast=(0,o.A)({type:"pending",message:"กำลังโอนคะแนน"}),s<=0||!e)throw new Error("Please enter a valid point amount and target member ID.");const a=await this.balance(t);if(s>a)throw new Error("Transfer amount exceeds the current credits.");const r={user:e,point:s,type:"in",mode:"receive",remark:t},i=await this.api(r);if(200!==i.status)throw new Error("Failed to receive credits via API.");await this.adjusts(e,"receive",s,t);const n={user:t,point:s,type:"out",mode:"send",remark:e},l=await this.api(n);if(200!==l.status)throw new Error("Failed to send credits via API.");const c=await this.adjusts(t,"send",s,e);return this.toast.hide("โอนคะแนนเสร็จแล้ว","success",300,(()=>{})),c}catch(a){return l(a,"Error while transferring credits.")}},async transaction(t,e){try{if(!t.trim())throw new Error("Please enter a valid member ID.");const s={method:"find",args:[{$and:[{user:t}]}],paging:{page:1,limit:e},sort:{createdAt:-1}},a=await this.api(s,"/query");if(a&&a.data&&a.data.length>0)return(0,o.A)({type:"success",message:"Get Transaction Success",autohide:!0}),a.data;throw new Error("No transaction log data returned from API.")}catch(s){return l(s,"Error while fetching transaction log.")}},async reset(t){try{this.toast=(0,o.A)({type:"pending",message:"กำลังรีเซ็ตคะแนน"});const e=await this.balance(t),s={user:t,point:e,type:"out",mode:"reset"},a=await this.api(s);if(200===a.status){this.credits=0;const s=await this.adjusts(t,"reset",e);return this.toast.hide("รีเซ็ตคะแนนเสร็จแล้ว","success",300,(()=>{})),s}throw new Error("Failed to reset credits via API.")}catch(e){return l(e,"Error while resetting credits.")}}};e.A=c}}]);
//# sourceMappingURL=5711.fda4aa49.js.map