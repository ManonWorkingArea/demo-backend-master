"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[5970],{68614:function(t,e,a){a.r(e),a.d(e,{default:function(){return j}});var s=a(20641);function i(t,e,a,i,o,n){const l=(0,s.g2)("Edit",!0);return this.login?((0,s.uX)(),(0,s.Wv)(l,{key:0})):(0,s.Q3)("",!0)}var o=a(52968),n=a(75220),l=(a(44114),a(90033));const c={key:0},r={class:"py-2 border-gray-800 bg-white"},d={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 xl:flex xl:items-center xl:justify-between"},m={class:"min-w-0 flex-1"},u={class:"text-xl font-bold leading-7 text-gray-700 sm:truncate sm:text-1xl sm:tracking-tight"},x={class:"mt-5 flex xl:mt-0 xl:ml-4"},h={class:"hidden sm:block"},b={class:"flex-1 bg-gray-100 pt-2 pb-5 border-t"},g={class:"mt-4"},p={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},f={class:"sm:px-6 lg:col-span-9 lg:px-0"},v={class:"tabs relative mb-6"},y={class:"flex"},k={class:"mr-1"},w={class:"mr-1"},C={class:"mr-1"},L={key:0,class:""},T={key:1,class:"tab-content"},A={key:2,class:"tab-content"};function E(t,e,a,i,o,n){const E=(0,s.g2)("font-awesome-icon"),F=(0,s.g2)("ExamForm");return o.loading_sources?((0,s.uX)(),(0,s.CE)("div",c,[(0,s.Lk)("header",r,[(0,s.Lk)("div",d,[(0,s.Lk)("div",m,[(0,s.Lk)("h1",u,[(0,s.bF)(E,{icon:["fas",o.PageIcon],class:"text-gray-500 text-[24px]"},null,8,["icon"]),(0,s.eW)(" "+(0,l.v_)(o.PageName),1)])]),(0,s.Lk)("div",x,[(0,s.Lk)("span",h,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=e=>t.$router.push("/lesson/detail/"+this.history)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-50"},[(0,s.bF)(E,{icon:["fas","chevron-left"],class:"text-black text-[12px] mr-2"}),e[5]||(e[5]=(0,s.eW)(" ย้อนกลับ "))]),(0,s.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>n.saveData&&n.saveData(...t)),type:"button",class:"ml-3 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,s.bF)(E,{icon:["fas","save"],class:"text-white text-[12px] pt-[3px] mr-2"}),e[6]||(e[6]=(0,s.eW)(" บันทึกข้อมูล "))])])])])]),(0,s.Lk)("div",b,[(0,s.Lk)("div",g,[(0,s.Lk)("div",p,[(0,s.Lk)("div",f,[(0,s.Lk)("div",v,[(0,s.Lk)("ul",y,[(0,s.Lk)("li",k,[(0,s.Lk)("a",{onClick:e[2]||(e[2]=t=>n.setActiveTab("tab1")),class:(0,l.C4)(["inline-block py-3 px-6 text-md rounded-md",{"shadow bg-white text-blue-800":"tab1"===o.activeTab}])},e[7]||(e[7]=[(0,s.Lk)("i",{class:"fas fa-clipboard-list"},null,-1),(0,s.eW)(" แก้ไขแบบทดสอบ ")]),2)]),(0,s.Lk)("li",w,[(0,s.Lk)("a",{onClick:e[3]||(e[3]=t=>n.setActiveTab("tab2")),class:(0,l.C4)(["inline-block py-3 px-6 text-md rounded-md",{"shadow bg-white text-blue-800":"tab2"===o.activeTab}])},e[8]||(e[8]=[(0,s.Lk)("i",{class:"fas fa-question-circle"},null,-1),(0,s.eW)(" จัดการคำถาม ")]),2)]),(0,s.Lk)("li",C,[(0,s.Lk)("a",{onClick:e[4]||(e[4]=t=>n.setActiveTab("tab3")),class:(0,l.C4)(["inline-block py-3 px-6 text-md rounded-md",{"shadow bg-white text-blue-800":"tab3"===o.activeTab}])},e[9]||(e[9]=[(0,s.Lk)("i",{class:"fas fa-chart-bar"},null,-1),(0,s.eW)(" รายงานผลการสอบ ")]),2)])])]),"tab1"===o.activeTab?((0,s.uX)(),(0,s.CE)("div",L,[(0,s.bF)(F,{ref:"examFormComponent",mode:"edit",examData:o.examData,course:o.course,history:o.history,onSubmit:n.handleSubmit,onCancel:n.handleCancel},null,8,["examData","course","history","onSubmit","onCancel"])])):(0,s.Q3)("",!0),"tab2"===o.activeTab?((0,s.uX)(),(0,s.CE)("div",T,[(0,s.Lk)("section",{"aria-labelledby":"questions-heading",class:(0,l.C4)(["relative",[o.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},e[10]||(e[10]=[(0,s.Fv)('<div class="divide-y divide-gray-200 overflow-hidden bg-white mb-8 shadow rounded-md"><div class="px-4 py-5 sm:px-6"><h2 id="questions-heading" class="text-lg font-bold leading-6 text-gray-900">จัดการคำถาม</h2><p class="mt-1 text-sm text-gray-500">เพิ่ม แก้ไข และจัดการคำถามของแบบทดสอบ</p></div><div class="px-4 py-5 sm:p-6"><div class="text-center text-gray-500 py-8"><i class="fas fa-question-circle text-4xl mb-4"></i><p>ฟีเจอร์นี้จะเปิดใช้งานในเร็วๆ นี้</p></div></div></div>',1)]),2)])):(0,s.Q3)("",!0),"tab3"===o.activeTab?((0,s.uX)(),(0,s.CE)("div",A,[(0,s.Lk)("section",{"aria-labelledby":"reports-heading",class:(0,l.C4)(["relative",[o.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},e[11]||(e[11]=[(0,s.Fv)('<div class="divide-y divide-gray-200 overflow-hidden bg-white mb-8 shadow rounded-md"><div class="px-4 py-5 sm:px-6"><h2 id="reports-heading" class="text-lg font-bold leading-6 text-gray-900">รายงานผลการสอบ</h2><p class="mt-1 text-sm text-gray-500">ดูสถิติและรายงานผลการสอบของผู้เรียน</p></div><div class="px-4 py-5 sm:p-6"><div class="text-center text-gray-500 py-8"><i class="fas fa-chart-bar text-4xl mb-4"></i><p>ฟีเจอร์นี้จะเปิดใช้งานในเร็วๆ นี้</p></div></div></div>',1)]),2)])):(0,s.Q3)("",!0)])])])])])):(0,s.Q3)("",!0)}var F=a(40475),D=a(88198),P={name:"ExamEdit",data(){const t=(0,n.lq)();return{PageName:t.meta.title,PageIcon:t.meta.icon,PagePath:t.meta.path,ParentName:t.meta.parent,ParentPage:t.meta.page,activeBlock:!1,loading_sources:!0,dataItem:this.$route.params.id,course:this.$route.params.id,history:this.$route.params.history,login:F.A.get("session","login"),accessToken:F.A.get("session","token"),configs:F.A.get("configs"),examData:{},activeTab:"tab1"}},components:{ExamForm:D.A},methods:{setActiveTab(t){this.activeTab=t},async getData(){if(this.login)try{this.loading_sources=!1;const t=await fetch("https://gateway.cloudrestfulapi.com/api/exam/"+this.dataItem,{method:"GET",headers:{"Content-Type":"application/json","client-token-key":this.configs.key}}),e=await t.json();this.examData=e,this.loading_sources=!0}catch(t){console.log(t)}},async handleSubmit(t){if(this.login)try{const e=await fetch("https://gateway.cloudrestfulapi.com/api/exam/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json","client-token-key":this.configs.key},body:JSON.stringify({data:t,options:{}})});await e.json(),200===e.status&&this.$swal({title:"บันทึกข้อมูลเรียบร้อยแล้ว ?",text:"คุณต้องการที่จะดำเนินการอย่างไร !",type:"success",showCancelButton:!0,confirmButtonColor:"#0054b4",confirmButtonText:"กลับไปหน้าแบบทดสอบ",cancelButtonText:"แก้ไขต่อ",closeOnConfirm:!1,closeOnCancel:!1}).then((t=>{t.isConfirmed?window.location.href="/lesson/exam/detail/"+this.history:window.location.reload()}))}catch(e){console.log(e)}},handleCancel(){this.$router.push("/lesson/detail/"+this.history)},saveData(){this.$refs.examFormComponent&&this.$refs.examFormComponent.handleSubmit()}},async mounted(){try{await this.getData();const t=F.A.get("session","access");this.accessSession=t.current}catch(t){console.log(t)}}},$=a(64621);const B=(0,$.A)(P,[["render",E]]);var S=B,W={name:"Home",components:{Edit:S},data(){return{login:F.A.get("session","login")}},methods:{},setup(){const t=(0,n.lq)(),e=t.meta.title;(0,o.K7)(e)}};const _=(0,$.A)(W,[["render",i]]);var j=_}}]);
//# sourceMappingURL=5970.d263dd68.js.map