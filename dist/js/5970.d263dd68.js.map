{"version":3,"file":"js/5970.d263dd68.js","mappings":"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","sources":["webpack://node-backend/./src/extensions/modules/elearning/lesson/view/exam/Edit.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/exam/Edit.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/exam/Edit.vue?8ab4","webpack://node-backend/./src/extensions/modules/elearning/lesson/view/exam/Edit.vue?410d"],"sourcesContent":["<script>\nimport {useTitle} \tfrom 'vue-page-title';\nimport {useRoute} \tfrom 'vue-router'\n\nimport Edit \t\tfrom '../../component/exam/Edit';\nimport storageManager from '@/plugins/storage';\n\nexport default {\n\tname: 'Home',\n\tcomponents: {\n\t\t\n\t\tEdit\n\t},\n\tdata() {\n\t\treturn {\n\t\tlogin: storageManager.get('session','login'),\n\t\t}\n\t},\n\tmethods: {\n\t},\n\tsetup() {\n        const route     = useRoute();\n        const routeName = route.meta.title;\n        useTitle(routeName);\n    },\n};\n</script>\n\n<template>\n\n<Edit v-if=\"this.login\"/>\n</template>","<script>\nimport {useRoute} from 'vue-router'\nimport storageManager from '@/plugins/storage';\nimport ExamForm from './ExamForm.vue';\n\nexport default {\n  name: 'ExamEdit',\n  data() {\n    const route = useRoute();\n    return {\n      PageName: route.meta.title,\n      PageIcon: route.meta.icon,\n      PagePath: route.meta.path,\n      ParentName: route.meta.parent,\n      ParentPage: route.meta.page,\n\n      activeBlock: false,\n      loading_sources: true,\n      dataItem: this.$route.params.id,\n      course: this.$route.params.id,\n      history: this.$route.params.history,\n      login: storageManager.get('session','login'),\n      accessToken:storageManager.get('session','token'),\n      configs: storageManager.get('configs'),\n      examData: {},\n      activeTab: 'tab1',\n    }\n  },\n  components: {\n    ExamForm\n  },\n  methods: {\n    setActiveTab(tab) {\n      this.activeTab = tab;\n    },\n    async getData() {\n      if(this.login) {\n        try {\n          this.loading_sources = false;\n          const resAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/exam/\" + this.dataItem, {\n            method: 'GET',\n            headers: {'Content-Type': 'application/json','client-token-key':this.configs.key},\n          });\n\n          const RestReturn = await resAPI.json();\n          this.examData = RestReturn;\n          this.loading_sources = true;\n        } catch (error) {\n          console.log(error)\n        }\n      }\n    },\n    async handleSubmit(formData) {\n      if(this.login) {\n        try {\n          const callApi = await fetch(\"https://gateway.cloudrestfulapi.com/api/exam/\" + this.dataItem, {\n            method: 'PUT',\n            headers: {'Content-Type': 'application/json','client-token-key':this.configs.key},\n            body: JSON.stringify({\n              data: formData,\n              options: {}\n            })\n          });\n          \n          await callApi.json();\n\n          if(callApi.status===200) {\n            this.$swal({ \n              title: \"บันทึกข้อมูลเรียบร้อยแล้ว ?\",\n              text: \"คุณต้องการที่จะดำเนินการอย่างไร !\",\n              type: \"success\",\n              showCancelButton: true,\n              confirmButtonColor: \"#0054b4\",\n              confirmButtonText: \"กลับไปหน้าแบบทดสอบ\",\n              cancelButtonText: \"แก้ไขต่อ\",\n              closeOnConfirm: false,\n              closeOnCancel: false \n            }).then((confirmed) => {\n              if (confirmed.isConfirmed) {\n                window.location.href = \"/lesson/exam/detail/\" + this.history\n              } else {\n                window.location.reload();\n              }\n            });\n          }\n        } catch (error) {\n          console.log(error)\n        }\n      }\n    },\n    handleCancel() {\n      this.$router.push('/lesson/detail/' + this.history)\n    },\n    saveData() {\n      if (this.$refs.examFormComponent) {\n        this.$refs.examFormComponent.handleSubmit();\n      }\n    }\n  },\n  async mounted() { \n    try {\n      await this.getData();\n      const access = storageManager.get('session','access')\n      this.accessSession = access.current;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n}\n</script>\n\n<template>\n\n<div v-if=\"loading_sources\">\n  <header class=\"py-2 border-gray-800 bg-white\">\n    <div class=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 xl:flex xl:items-center xl:justify-between\">\n      <div class=\"min-w-0 flex-1\">\n        <h1 class=\"text-xl font-bold leading-7 text-gray-700 sm:truncate sm:text-1xl sm:tracking-tight\">\n          <font-awesome-icon :icon=\"['fas',PageIcon]\" class=\"text-gray-500 text-[24px]\" /> {{ PageName }}\n        </h1>\n      </div>\n      <div class=\"mt-5 flex xl:mt-0 xl:ml-4\">\n        <span class=\"hidden sm:block\">\n          <button @click=\"$router.push('/lesson/detail/' + this.history)\" type=\"button\" class=\"ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-50\">\n            <font-awesome-icon :icon=\"['fas','chevron-left']\" class=\"text-black text-[12px] mr-2\" />\n            ย้อนกลับ\n          </button>\n\n          <button @click=\"saveData\" type=\"button\" class=\"ml-3 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\">\n            <font-awesome-icon :icon=\"['fas','save']\" class=\"text-white text-[12px] pt-[3px] mr-2\" /> บันทึกข้อมูล\n          </button>\n        </span>\n      </div>\n    </div>\n  </header>\n\n  <div class=\"flex-1 bg-gray-100 pt-2 pb-5 border-t\">\n    <div class=\"mt-4\">\n      <div class=\"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6\">\n        <div class=\"sm:px-6 lg:col-span-9 lg:px-0\">\n\n          <div class=\"tabs relative mb-6\">\n            <ul class=\"flex\">\n              <li class=\"mr-1\">\n                <a @click=\"setActiveTab('tab1')\" class=\"inline-block py-3 px-6 text-md rounded-md \" :class=\"{ 'shadow bg-white text-blue-800': activeTab === 'tab1' }\">\n                  <i class=\"fas fa-clipboard-list\"></i> แก้ไขแบบทดสอบ\n                </a>\n              </li>\n              <li class=\"mr-1\">\n                <a @click=\"setActiveTab('tab2')\" class=\"inline-block py-3 px-6 text-md rounded-md \" :class=\"{ 'shadow bg-white text-blue-800': activeTab === 'tab2' }\">\n                  <i class=\"fas fa-question-circle\"></i> จัดการคำถาม\n                </a>\n              </li>\n              <li class=\"mr-1\">\n                <a @click=\"setActiveTab('tab3')\" class=\"inline-block py-3 px-6 text-md rounded-md \" :class=\"{ 'shadow bg-white text-blue-800': activeTab === 'tab3' }\">\n                  <i class=\"fas fa-chart-bar\"></i> รายงานผลการสอบ\n                </a>\n              </li>\n            </ul>\n          </div>\n\n          <div v-if=\"activeTab === 'tab1'\" class=\"\">\n            <ExamForm\n              ref=\"examFormComponent\"\n              mode=\"edit\"\n              :examData=\"examData\"\n              :course=\"course\"\n              :history=\"history\"\n              @submit=\"handleSubmit\"\n              @cancel=\"handleCancel\"\n            />\n          </div>\n\n          <div v-if=\"activeTab === 'tab2'\" class=\"tab-content\">\n            <section aria-labelledby=\"questions-heading\" class=\"relative\" :data-content=\"'กำลังติดต่อฐานข้อมูล กรุณารอสักครู่.....'\" :class=\"[(activeBlock?'isblock' : 'isunblock')]\">\n              <div class=\"divide-y divide-gray-200 overflow-hidden bg-white mb-8 shadow rounded-md\">\n                <div class=\"px-4 py-5 sm:px-6\">\n                  <h2 id=\"questions-heading\" class=\"text-lg font-bold leading-6 text-gray-900\">จัดการคำถาม</h2>\n                  <p class=\"mt-1 text-sm text-gray-500\">เพิ่ม แก้ไข และจัดการคำถามของแบบทดสอบ</p>\n                </div>\n                <div class=\"px-4 py-5 sm:p-6\">\n                  <div class=\"text-center text-gray-500 py-8\">\n                    <i class=\"fas fa-question-circle text-4xl mb-4\"></i>\n                    <p>ฟีเจอร์นี้จะเปิดใช้งานในเร็วๆ นี้</p>\n                  </div>\n                </div>\n              </div>\n            </section>\n          </div>\n\n          <div v-if=\"activeTab === 'tab3'\" class=\"tab-content\">\n            <section aria-labelledby=\"reports-heading\" class=\"relative\" :data-content=\"'กำลังติดต่อฐานข้อมูล กรุณารอสักครู่.....'\" :class=\"[(activeBlock?'isblock' : 'isunblock')]\">\n              <div class=\"divide-y divide-gray-200 overflow-hidden bg-white mb-8 shadow rounded-md\">\n                <div class=\"px-4 py-5 sm:px-6\">\n                  <h2 id=\"reports-heading\" class=\"text-lg font-bold leading-6 text-gray-900\">รายงานผลการสอบ</h2>\n                  <p class=\"mt-1 text-sm text-gray-500\">ดูสถิติและรายงานผลการสอบของผู้เรียน</p>\n                </div>\n                <div class=\"px-4 py-5 sm:p-6\">\n                  <div class=\"text-center text-gray-500 py-8\">\n                    <i class=\"fas fa-chart-bar text-4xl mb-4\"></i>\n                    <p>ฟีเจอร์นี้จะเปิดใช้งานในเร็วๆ นี้</p>\n                  </div>\n                </div>\n              </div>\n            </section>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n</template>","import { render } from \"./Edit.vue?vue&type=template&id=6e7d0f2d\"\nimport script from \"./Edit.vue?vue&type=script&lang=js\"\nexport * from \"./Edit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Edit.vue?vue&type=template&id=78dc035e\"\nimport script from \"./Edit.vue?vue&type=script&lang=js\"\nexport * from \"./Edit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["login","_createBlock","_component_Edit","key","_createCommentVNode","class","$data","loading_sources","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_font_awesome_icon","icon","PageIcon","_createTextVNode","_toDisplayString","PageName","_hoisted_6","_hoisted_7","onClick","_cache","$event","_ctx","$router","push","this","history","type","args","$options","saveData","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","setActiveTab","_normalizeClass","activeTab","_hoisted_15","_hoisted_16","_hoisted_17","_component_ExamForm","ref","mode","examData","course","onSubmit","handleSubmit","onCancel","handleCancel","_hoisted_18","activeBlock","_createStaticVNode","_hoisted_19","name","data","route","useRoute","meta","title","PagePath","path","ParentName","parent","ParentPage","page","dataItem","$route","params","id","storageManager","get","accessToken","configs","components","ExamForm","methods","tab","getData","resAPI","fetch","method","headers","RestReturn","json","error","console","log","formData","callApi","body","JSON","stringify","options","status","$swal","text","showCancelButton","confirmButtonColor","confirmButtonText","cancelButtonText","closeOnConfirm","closeOnCancel","then","confirmed","isConfirmed","window","location","href","reload","$refs","examFormComponent","mounted","access","accessSession","current","__exports__","Edit","setup","routeName","useTitle","render"],"sourceRoot":""}