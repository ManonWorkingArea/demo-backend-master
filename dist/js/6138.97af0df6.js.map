{"version":3,"file":"js/6138.97af0df6.js","mappings":"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","sources":["webpack://node-backend/./src/extensions/modules/system/user/component/frontend/Login.vue","webpack://node-backend/./src/extensions/modules/system/user/component/frontend/Login.vue?f33e","webpack://node-backend/./src/extensions/modules/system/user/component/frontend/LoginAd.vue","webpack://node-backend/./src/extensions/modules/system/user/component/frontend/LoginAd.vue?a8f2","webpack://node-backend/./src/utils/LoginPopup.vue","webpack://node-backend/./src/utils/LoginPopup.vue?42d3"],"sourcesContent":["<script>\nimport storageManager from '@/plugins/storage';\nimport CryptoJS from 'crypto-js';\n\nimport debug from '@/plugins/Logger.js';\n\nimport requestClient from '@/plugins/requestClient';\nconst Request = new requestClient(false);\n\nexport default {\n\tname: 'Login',\n\tcomponents: {\n\t},\n  props: {\n    showModal: {\n      type: Boolean,\n      default: false\n    }\n  },\n\tdata() {\n\t\treturn {\n      configs: storageManager.get('configs'),\n      hostname: storageManager.get('hostname'),\n      email: '',\n      password: '',\n      errorStage: false,\n      errorMessage: '',\n\t\t}\n\t},\n\tmethods: {\n    generateRandomString(length) {\n      const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n      let result = '';\n      const charactersLength = characters.length;\n      for (let i = 0; i < length; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      }\n      return result;\n    },\n    generateStateWithRedirect(redirectPath) {\n      const stateData = { \n        random: this.generateRandomString(12),\n        redirect: redirectPath,\n        siteID: this.configs.siteID\n      };\n      return btoa(JSON.stringify(stateData)); \n    },\n    loginWithLine() {\n      const clientId        = this.configs.line?.client_id;\n      const redirectUri     = encodeURIComponent(this.configs.line?.callback);\n      const state           = this.generateStateWithRedirect('/user/profile');\n      const scope           = 'profile openid';\n      const botPrompt       = 'aggressive'; // Or 'aggressive', depending on how prominently you want to prompt users to add the bot\n      window.location.href  = `https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${clientId}&redirect_uri=${redirectUri}&state=${state}&scope=${scope}&bot_prompt=${botPrompt}`;\n    },\n    \n    async login() {\n        try {\n          \n            this.activeBlock   = true;\n\n            const resAPILogin = await Request.POST('user/query', {\n              method: 'find',\n              args: [\n                {\n                  $and: [\n                    { username: this.email }\n                  ]\n                }\n              ]\n            }, this.configs.key);\n\n            const getLogin  = resAPILogin.data;\n            const loginData = getLogin.length > 0 ? getLogin[0] : null;\n\n            console.log(\"loginData\",loginData)\n\n            if (loginData === null || loginData === '' || loginData === undefined) {\n              this.errorStage   = true\n              this.errorMessage = \"ไม่พบข้อมูลบัญชีผู้ใช้นี้\";\n              this.activeBlock  = false;\n              return;\n            } else {\n              const salt        = loginData.salt;\n              const inputHash   = CryptoJS.SHA256(this.password + salt).toString();\n              const storedHash  = loginData.password;\n\n              debug.log(inputHash,storedHash)\n\n              if (inputHash === storedHash) {\n\n                if(loginData.role!=\"user\") {\n                  this.errorStage   = true\n                  this.errorMessage = \"ไม่มีสิทธิ์เข้าใช้งานเว็บไซต์นี้\";\n                } else {\n                  // Get User Enroll\n                  const resAPI = await Request.POST('enroll/query', {\n                    method: 'find',\n                    hidden:  ['userID'],\n                    args: [\n                      {\n                        $and: [\n                          { userID: loginData._id }\n                        ]\n                      }\n                    ]\n                  }, this.configs.key);\n\n                  const getEnroll  = resAPI.data;\n                  if(resAPI.status===200) {\n                    let unitList = [];\n                    let currentAccess = \"\";\n\n                    const session = {\n                      active: true,\n                      token: loginData._id,\n                      refresh: \"\",\n                      login: true,\n                      userID: loginData._id,\n                      user: loginData,\n                      loader: false,\n                      role: loginData.role,\n                      nav: \"normal-nav\",\n                      layout: \"frontend-layout\",\n                      current: currentAccess,\n                      list: unitList,\n                      enroll: getEnroll,\n                      channel: 'web',\n                    };\n                    storageManager.update('session',session)\n                    debug.log(\"session\",session);\n\n                    if (this.showModal) {\n                      window.location.reload();\n                    }\n                    else\n                    {\n                      this.$swal({\n                        toast: true,\n                        position: 'bottom-end',\n                        showConfirmButton: false,\n                        timer: 500,\n                        icon: 'success',\n                        title: 'แจ้งเตือน',\n                        text: 'เข้าสู่ระบบเรียบร้อยแล้ว',\n                      }).then(() => \n                      {\n                        if(loginData.req_reset)\n                        {\n                          window.location.href = \"/user/reset\"\n                        }\n                        else {\n                          window.location.href = \"/user/profile\"\n                        }\n                      });\n                    }\n                    \n                  }\n                }\n              } else {\n                this.errorStage   = true\n                this.errorMessage = \"ชื่อผู้ใช้งานหรือรหัสผ่านไม่ถูกต้อง\";\n              }\n            }\n            this.activeBlock  = false;\n        } catch (error) {\n          debug.log(error)\n        }\n    }\n\t},\n};\n</script>\n\n<template>\n  <div class=\"bg-gray-50\">\n    \n    <div class=\"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div class=\"sm:mx-auto sm:w-full sm:max-w-lg\">\n        <img class=\"mx-auto h-24 w-auto\" :src=\"this.configs.siteLogo\" alt=\"Your Company\" v-if=\"!this.showModal\">\n        <h2 class=\"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900\">เข้าสู่ระบบสมาชิก -2</h2>\n        <p class=\"mt-2 text-center text-sm text-gray-600\">\n          หรือ\n          <router-link :to=\"'/user/register'\" class=\"font-medium text-indigo-600 hover:text-indigo-500\">\n          ลงทะเบียนสมาชิกใหม่\n          </router-link>\n        </p>\n      </div>\n  \n      <div class=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div class=\"bg-white px-4 py-8 shadow sm:rounded-lg sm:px-10\">\n          <form class=\"space-y-6\" @submit.prevent=\"login\">\n            <div>\n              <label for=\"email\" class=\"block text-md font-semibold leading-6 text-gray-900\">อีเมล์</label>\n              <div class=\"mt-2\">\n                <input v-model=\"email\" id=\"email\" name=\"email\" type=\"email\" autocomplete=\"email\" required=\"\" class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\">\n              </div>\n            </div>\n  \n            <div>\n              <label for=\"password\" class=\"block text-md font-semibold leading-6 text-gray-900\">รหัสผ่าน</label>\n              <div class=\"mt-2\">\n                <input v-model=\"password\" id=\"password\" name=\"password\" type=\"password\" autocomplete=\"current-password\" required=\"\" class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\">\n              </div>\n            </div>\n  \n            <div class=\"flex items-center justify-between\">\n              <div class=\"flex items-center\">\n                <input id=\"remember-me\" name=\"remember-me\" type=\"checkbox\" class=\"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600\">\n                <label for=\"remember-me\" class=\"ml-2 block text-sm text-gray-900\">จำฉันไว้</label>\n              </div>\n  \n              <div class=\"text-sm\">\n                <router-link :to=\"'/user/forgot'\" class=\"font-medium text-indigo-600 hover:text-indigo-500\">\n                ลืมรหัสผ่าน\n                </router-link>\n              </div>\n            </div>\n\n            <div>\n              <div v-if=\"this.errorStage\" class=\"col-span-2\">\n                  <div class=\" items-center px-3 py-1 rounded-md bg-red-100 text-sm text-black pb-5 mb-5\">\n                    <div class=\"font-semibold pt-3 pb-3\">เกิดข้อผิดพลาด</div>\n                    <div  class=\"w-full\">{{this.errorMessage}}</div>\n                  </div>\n              </div>\n              <button type=\"submit\" class=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-4 text-md font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\">เข้าสู่ระบบ</button>\n            </div>\n          </form>\n\n          <!-- <div class=\"text-center\">\n            <button @click=\"loginWithLine\" class=\"flex px-3 py-4 mt-2 w-full items-center justify-center bg-green-500 hover:bg-green-600 text-white font-bold rounded focus:outline-none focus:shadow-outline transform transition-colors duration-150\">\n              <img src=\"https://upload.wikimedia.org/wikipedia/commons/4/41/LINE_logo.svg\" alt=\"LINE logo\" class=\"h-6 w-6 mr-2\">\n              Login with LINE\n            </button>\n          </div> -->\n  \n        </div>\n      </div>\n    </div>\n  \n    </div>\n</template>","import { render } from \"./Login.vue?vue&type=template&id=2cefc2b1\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport storageManager from '@/plugins/storage';\nexport default {\n\tname: 'Login',\n\tcomponents: {\n\t},\n  props: {\n    showModal: {\n      type: Boolean,\n      default: false\n    }\n  },\n\tdata() {\n\t\treturn {\n      config: storageManager.get('configs'),\n      username: '',\n      password: '',\n      errorStage: false,\n      errorMessage: '',\n      activeBlock: false,\n      passwordVisible:false\n\t\t}\n\t},\n\tmethods: {\n    togglePasswordVisibility() {\n      this.passwordVisible = !this.passwordVisible;\n    },\n    async login() {\n        try {\n            this.activeBlock  = true;\n            this.errorStage  = false\n            const resAPILogin = await fetch(\"https://faas-sgp1-18bc02ac.doserverless.co/api/v1/web/fn-34d16f42-4718-42b0-814e-08d23fecd2ce/default/login-fti-employee\", {\n              method: 'POST',\n              headers: {'Content-Type': 'application/json'},\n              body: JSON.stringify({\n                username: this.username,\n                password: this.password\n              })\n            });\n            \n            const getLogin  = await resAPILogin.json();\n            console.log(\"getLogin\",getLogin);\n\n            if(getLogin.status===200) {\n              \n              let unitList = [];\n              let currentAccess = \"\";\n\n              const session = {\n                active: true,\n                token: getLogin.user._id,\n                refresh: \"\",\n                login: true,\n                userID: getLogin.user._id,\n                user: getLogin.user,\n                loader: false,\n                role: getLogin.user.role,\n                nav: \"normal-nav\",\n                layout: \"frontend-layout\",\n                current: currentAccess,\n                list: unitList,\n                enroll: getLogin.enroll,\n                mode: getLogin.mode,\n              };\n              storageManager.update('session',session)\n              console.log(\"session\",session);\n\n              if (this.showModal) {\n                window.location.reload();\n              }\n              else\n              {\n                this.$swal({\n                  toast: true,\n                  position: 'bottom-end',\n                  showConfirmButton: false,\n                  timer: 1000,\n                  icon: 'success',\n                  title: 'แจ้งเตือน',\n                  text: 'เข้าสู่ระบบเรียบร้อยแล้ว',\n                }).then(() => \n                {\n                  window.location.href = \"/user/employee\"\n                });\n              }\n            } else {\n              this.errorStage   = true\n              this.errorMessage = getLogin;\n            }\n            this.activeBlock  = false;\n        } catch (error) {\n          console.log(error)\n        }\n    }\n\t},\n};\n</script>\n\n<template>\n  <div class=\"bg-gray-50\">\n    \n    <div class=\"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div class=\"sm:mx-auto sm:w-full sm:max-w-lg\">\n        <img class=\"mx-auto h-24 w-auto\" :src=\"this.config.siteLogo\" alt=\"Your Company\" v-if=\"!this.showModal\">\n        <h2 class=\"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900\">เข้าสู่ระบบฝึกอบรม (HR)</h2>\n        <p class=\"mt-2 text-center text-base text-gray-600\">\n        ใช้บัญชีสำหรับ K2 ในการล็อคอิน\n        </p>\n      </div>\n  \n      <div class=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div class=\"bg-white px-4 py-8 shadow sm:rounded-lg sm:px-10 relative\" :data-content=\"'กำลังติดต่อฐานข้อมูล กรุณารอสักครู่.....'\" :class=\"[(activeBlock?'isblock' : 'isunblock')]\">\n          <form class=\"space-y-6\" @submit.prevent=\"login\">\n            <div>\n              <label for=\"email\" class=\"block text-md font-semibold leading-6 text-gray-900\">ชื่อผู้ใช้ในระบบ K2</label>\n              <div class=\"mt-2\">\n                <input v-model=\"username\" id=\"username\" name=\"username\" type=\"text\" autocomplete=\"username\" required=\"\" class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\">\n              </div>\n            </div>\n  \n            <div>\n              <label for=\"password\" class=\"block text-md font-semibold leading-6 text-gray-900\">รหัสผ่าน</label>\n              <div class=\"mt-2 relative\">\n                <input\n                  v-model=\"password\"\n                  id=\"password\"\n                  name=\"password\"\n                  :type=\"passwordVisible ? 'text' : 'password'\"\n                  autocomplete=\"current-password\"\n                  required=\"\"\n                  class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                />\n                <button\n                  type=\"button\"\n                  class=\"absolute inset-y-0 right-0 flex items-center bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-2 border border-gray-400 rounded shadow m-1\"\n                  @click=\"togglePasswordVisibility\"\n                >\n                <font-awesome-icon :icon=\"passwordVisible ? ['fas', 'eye-slash'] : ['fas', 'eye']\" class=\"text-black hover:text-gray-600 text-xs\"/>\n                </button>\n              </div>\n            </div>\n  \n            <div class=\"flex items-center justify-between\">\n              <div class=\"flex items-center\">\n                <input id=\"remember-me\" name=\"remember-me\" type=\"checkbox\" class=\"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600\">\n                <label for=\"remember-me\" class=\"ml-2 block text-sm text-gray-900\">จำฉันไว้</label>\n              </div>\n  \n              <div class=\"text-sm\">\n                <router-link :to=\"'/user/forgot'\" class=\"font-medium text-indigo-600 hover:text-indigo-500\">\n                ลืมรหัสผ่าน\n                </router-link>\n              </div>\n            </div>\n  \n            <div>\n              <div v-if=\"this.errorStage\" class=\"col-span-2\">\n                  <div class=\" items-center px-3 py-1 rounded-md bg-red-100 text-sm text-black pb-5 mb-5\">\n                    <div class=\"font-semibold pt-3 pb-3\">เกิดข้อผิดพลาด</div>\n                    <div  class=\"w-full\">{{this.errorMessage}}</div>\n                  </div>\n              </div>\n              <button type=\"submit\" class=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-4 text-md font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\">เข้าสู่ระบบ</button>\n            </div>\n          </form>\n  \n        </div>\n      </div>\n    </div>\n  \n    </div>\n</template>","import { render } from \"./LoginAd.vue?vue&type=template&id=5ca5f0a4\"\nimport script from \"./LoginAd.vue?vue&type=script&lang=js\"\nexport * from \"./LoginAd.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <button class=\"flex w-full items-center justify-center rounded-md border border-transparent bg-indigo-600 px-8 py-3 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50\" @click=\"openModal\">\n      <font-awesome-icon :icon=\"['fas', 'key']\" class=\"h-4 w-4 mr-2 flex-shrink-0 text-white\"/> เข้าสู่ระบบ เพื่อดำเนินการต่อ\n    </button>\n    <div v-if=\"showModal\" class=\"fixed z-10 inset-0 overflow-y-auto\">\n      <div class=\"flex items-center justify-center min-h-screen\">\n        <div class=\"fixed inset-0 bg-gray-500 opacity-75\"></div>\n        <div class=\"relative bg-white rounded-lg overflow-hidden w-full max-w-md\">\n          <div class=\"absolute top-0 right-0 mr-4 mt-4\">\n            <button class=\"text-gray-400 hover:text-gray-600\" @click=\"closeModal\">\n              <font-awesome-icon :icon=\"['fas', 'times']\" class=\"h-5 w-5 flex-shrink-0 text-gray-400\"/>\n            </button>\n          </div>\n          <div class=\"p-0\">\n            <component :is=\"currentLoginComponent\" :show-modal=\"showModal\" @login-success=\"handleLoginSuccess\"/>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport storageManager from '@/plugins/storage';\nimport Login    from '../extensions/modules/system/user/component/frontend/Login.vue';\nimport LoginAd  from '../extensions/modules/system/user/component/frontend/LoginAd.vue';\n\nexport default {\n  data() {\n    return {\n      configs: storageManager.get('configs'),\n      showModal: false,\n      currentLoginComponent: null\n    };\n  },\n  methods: {\n    openModal() {\n      this.showModal = true;\n      if (this.configs.defaultLogin === 'user/AD') {\n        this.currentLoginComponent = LoginAd;\n      } else {\n        this.currentLoginComponent = Login;\n      }\n    },\n    closeModal() {\n      this.showModal = false;\n    },\n  }\n};\n</script>\n","import { render } from \"./LoginPopup.vue?vue&type=template&id=3fcbd40c\"\nimport script from \"./LoginPopup.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPopup.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","showModal","_createCommentVNode","src","configs","siteLogo","alt","_hoisted_4","_hoisted_5","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_cache","_","_hoisted_6","_hoisted_7","onSubmit","_withModifiers","args","$options","login","for","_hoisted_8","$event","$data","email","id","name","type","autocomplete","required","_hoisted_9","password","_hoisted_10","_hoisted_11","errorStage","_hoisted_12","_hoisted_13","_hoisted_14","_toDisplayString","errorMessage","Request","requestClient","components","props","Boolean","data","storageManager","get","hostname","methods","generateRandomString","length","characters","result","charactersLength","i","charAt","Math","floor","random","generateStateWithRedirect","redirectPath","stateData","this","redirect","siteID","btoa","JSON","stringify","loginWithLine","clientId","line","client_id","redirectUri","encodeURIComponent","callback","state","scope","botPrompt","window","location","href","activeBlock","resAPILogin","POST","method","$and","username","getLogin","loginData","console","log","undefined","salt","inputHash","CryptoJS","toString","storedHash","debug","role","resAPI","hidden","userID","_id","getEnroll","status","unitList","currentAccess","session","active","token","refresh","user","loader","nav","layout","current","list","enroll","channel","update","reload","$swal","toast","position","showConfirmButton","timer","icon","title","text","then","req_reset","error","__exports__","render","config","_normalizeClass","passwordVisible","onClick","togglePasswordVisibility","_component_font_awesome_icon","fetch","headers","body","json","mode","openModal","closeModal","_createBlock","_resolveDynamicComponent","currentLoginComponent","onLoginSuccess","_ctx","handleLoginSuccess","defaultLogin","LoginAd","Login"],"sourceRoot":""}