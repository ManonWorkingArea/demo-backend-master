(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[6688],{86688:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return R}});var o=s(20641);function a(e,t,s,a,n,i){const l=(0,o.g2)("Edit",!0);return this.login?((0,o.uX)(),(0,o.Wv)(l,{key:0})):(0,o.Q3)("",!0)}var n=s(52968),i=s(75220),l=(s(44114),s(90033)),r=s(53751);const c={class:"py-2 border-gray-800"},d={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 xl:flex xl:items-center xl:justify-between"},u={class:"min-w-0 flex-1"},m={class:"mt-2 text-xl font-bold leading-7 text-gray-700 sm:truncate sm:text-1xl sm:tracking-tight"},p={class:"mt-5 flex xl:mt-0 xl:ml-4"},g={class:"hidden sm:block"},y={class:"flex-1 bg-gray-100 pt-2 pb-5 border-t"},f={class:"mt-8"},x={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},b={class:"space-y-6 sm:px-6 lg:col-span-9 lg:px-0"},h={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},k={class:"px-4 py-5 sm:p-6"},v={class:"grid grid-cols-4 gap-6"},L={class:"col-span-4 sm:col-span-4"},w={class:"mt-6 grid grid-cols-5 gap-6"},C={class:"col-span-4 sm:col-span-2"},D={class:"col-span-4 sm:col-span-2"},_={class:"col-span-4 sm:col-span-1"},I={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},P={class:"px-4 py-5 sm:p-6"},A={class:"grid grid-cols-4 gap-6"},E={class:"col-span-4 sm:col-span-4"},T={class:""},V={class:"space-y-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-10"},O=["id","value"],U=["for"],$={class:"text-gray-500 font-medium"},j={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},F={class:"px-4 py-5 sm:p-6"},M={class:"grid grid-cols-4 gap-6"},S={class:"col-span-4 sm:col-span-6"},B={class:"bg-gray-50 px-4 py-4 sm:px-6 text-right"},J={type:"submit",class:"ml-3 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"};function N(e,t,s,a,n,i){const N=(0,o.g2)("font-awesome-icon"),W=(0,o.g2)("MiniMCE");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("header",c,[(0,o.Lk)("div",d,[(0,o.Lk)("div",u,[(0,o.Lk)("h1",m,[(0,o.bF)(N,{icon:["fas",n.PageIcon],class:"text-gray-500 text-[24px]"},null,8,["icon"]),(0,o.eW)(" "+(0,l.v_)(n.PageName),1)])]),(0,o.Lk)("div",p,[(0,o.Lk)("span",g,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/lesson/detail/"+this.parentID)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-50"},[(0,o.bF)(N,{icon:["fas","chevron-left"],class:"text-black text-[12px] mr-2"}),t[9]||(t[9]=(0,o.eW)(" ย้อนกลับ "))])])])])]),(0,o.Lk)("div",y,[(0,o.Lk)("div",f,[(0,o.Lk)("div",x,[(0,o.Lk)("div",b,[(0,o.Lk)("form",{onSubmit:t[8]||(t[8]=(0,r.D$)(((...e)=>i.updataData&&i.updataData(...e)),["prevent"]))},[(0,o.Lk)("section",{"aria-labelledby":"payment-details-heading",class:(0,l.C4)(["relative",[n.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},[(0,o.Lk)("div",h,[t[14]||(t[14]=(0,o.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"ข้อมูลบทเรียน"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของบทเรียนให้ครบถ้วน")],-1)),(0,o.Lk)("div",k,[(0,o.Lk)("div",v,[(0,o.Lk)("div",L,[t[10]||(t[10]=(0,o.Lk)("label",{for:"name",class:"block text-base font-medium text-gray-900"},"ชื่อบทเรียน",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.name=e),type:"text",name:"name",id:"name",autocomplete:"name",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.name]])])]),(0,o.Lk)("div",w,[(0,o.Lk)("div",C,[t[11]||(t[11]=(0,o.Lk)("label",{for:"slug",class:"block text-base font-medium text-gray-900"},"รหัสบทเรียน",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.slug=e),type:"text",name:"slug",id:"slug",autocomplete:"slug",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.slug]])]),(0,o.Lk)("div",D,[t[12]||(t[12]=(0,o.Lk)("label",{for:"lecturer",class:"block text-base font-medium text-gray-900"},"วิทยากร",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.lecturer=e),type:"text",name:"lecturer",id:"lecturer",autocomplete:"lecturer",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.lecturer]])]),(0,o.Lk)("div",_,[t[13]||(t[13]=(0,o.Lk)("label",{for:"duration",class:"block text-base font-medium text-gray-900"},"ความยาว (นาที)",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.duration=e),type:"text",name:"duration",id:"duration",autocomplete:"duration",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.duration]])])])])]),(0,o.Lk)("div",I,[t[15]||(t[15]=(0,o.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"ประเภทบทเรียน (Type)"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของบทเรียนให้ครบถ้วน")],-1)),(0,o.Lk)("div",P,[(0,o.Lk)("div",A,[(0,o.Lk)("div",E,[(0,o.Lk)("fieldset",T,[(0,o.Lk)("div",V,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.playerType,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"flex items-center"},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>n.type=e),id:e.code,value:e.code,type:"radio",class:"mt-[-20px] h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,O),[[r.XL,n.type]]),(0,o.Lk)("label",{for:e.code,class:"ml-3 block text-sm font-bold text-gray-700"},[(0,o.eW)((0,l.v_)(e.slug)+" ",1),(0,o.Lk)("p",$,(0,l.v_)(e.name),1)],8,U)])))),128))])])])])])]),(0,o.Lk)("div",j,[t[18]||(t[18]=(0,o.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"คำอธิบาย"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของบทเรียนให้ครบถ้วน")],-1)),(0,o.Lk)("div",F,[(0,o.Lk)("div",M,[(0,o.Lk)("div",S,[t[16]||(t[16]=(0,o.Lk)("label",{for:"slug",class:"block text-base font-medium text-gray-900"},"คำอธิบาย",-1)),(0,o.bF)(W,{modelValue:n.description,"onUpdate:modelValue":t[6]||(t[6]=e=>n.description=e),options:{}},null,8,["modelValue"])])])]),(0,o.Lk)("div",B,[(0,o.Lk)("button",{onClick:t[7]||(t[7]=t=>e.$router.push("/lesson/detail/"+this.parentID)),type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," ยกเลิก "),(0,o.Lk)("button",J,[(0,o.bF)(N,{icon:["fas","save"],class:"pr-2 pl-2"}),t[17]||(t[17]=(0,o.eW)("บันทึกข้อมูล "))])])])],2)],32)])])])])],64)}var W=s(87054),X=s(40475),q=s(35100),K=(s(4934),s(12983),{name:"EditPlayer",inject:["apiServer"],data(){const e=(0,i.lq)(),t=X.A.get("session");return{PageName:e.meta.title,PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page,accessSession:[],playerType:[],name:"",slug:"",description:"",duration:"",lecturer:"",type:"",activeBlock:!1,playerData:[],loading_sources:!0,dataItem:this.$route.params.id,accessToken:X.A.get("session","token"),configs:X.A.get("configs"),session:t}},components:{MiniMCE:q.A},methods:{slugify(e){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();for(var t="àáãäâèéëêìíïîòóöôùúüûñç·/_,:;",s="aaaaaeeeeiiiioooouuuunc------",o=0,a=t.length;o<a;o++)e=e.replace(new RegExp(t.charAt(o),"g"),s.charAt(o));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),e},async getData(){if(X.A.get("session","login"))try{this.loading_sources=!1;const e=await fetch("https://gateway.cloudrestfulapi.com/api/player/"+this.dataItem,{method:"GET",headers:{"Content-Type":"application/json","client-token-key":this.configs.key}}),t=await e.json();console.log(t),this.parentID=t.courseId,this.name=t.name,this.slug=t.slug,this.description=t.description,this.duration=t.duration,this.type=t.type,this.lecturer=t.lecturer,this.playerData=t.data,this.loading_sources=!0}catch(e){console.log(e)}},async updataData(){if(X.A.get("session","login"))try{const e=await fetch("https://gateway.cloudrestfulapi.com/api/player/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json","client-token-key":this.configs.key},body:JSON.stringify({data:{courseId:this.course,name:this.name,slug:this.slugify(this.slug),description:this.description,duration:this.duration,type:this.type,lecturer:this.lecturer}})});await e.json(),200===e.status&&this.$swal({title:"บันทึกข้อมูลเรียบร้อยแล้ว ?",text:"คุณต้องการที่จะดำเนินการอย่างไร !",type:"success",showCancelButton:!0,confirmButtonColor:"#0054b4",confirmButtonText:"รายละเอียดเนื้อหา",cancelButtonText:"บทเรียนหลัก",closeOnConfirm:!1,closeOnCancel:!1}).then((e=>{e.isConfirmed?(console.log("Home"),this.$router.push("/lesson/player/detail/"+this.dataItem)):(console.log("New"),this.$router.push("/lesson/detail/"+this.parentID))}))}catch(e){console.log(e)}}},setup(){},async mounted(){try{await this.getData(),this.accessSession=this.session.current._id,this.playerType=W.OC}catch(e){console.log(Error)}}}),H=s(64621);const Y=(0,H.A)(K,[["render",N]]);var z=Y,G={name:"Home",components:{Edit:z},data(){return{login:X.A.get("session","login")}},methods:{},setup(){const e=(0,i.lq)(),t=e.meta.title;(0,n.K7)(t)}};const Q=(0,H.A)(G,[["render",a]]);var R=Q},87054:function(e,t){t.OC=[{code:"demand",slug:"On-Demand",name:"ไฟล์วีดีโอ"},{code:"streaming",slug:"Streaming",name:"ลิงค์สตรีมมิ่ง"},{code:"live",slug:"live",name:"ไลฟ์"},{code:"youtube",slug:"Youtube",name:"Youtube"},{code:"document",slug:"Document",name:"เอกสาร"},{code:"exam",slug:"Exam",name:"แบบทดสอบ"},{code:"folder",slug:"Folder",name:"บทเรียนแบบกลุ่ม"}],t.Ac=[{code:"general",name:"ข้อสอบทั่วไป"},{code:"pre",name:"ข้อสอบก่อนเรียน"},{code:"post",name:"ข้อสอบหลังเรียน"}],t.Mq=[{code:"standard",name:"คอร์สธรรมดา",description:"คอร์สเรียนตามปกติ จำกัดการเรียนด้วยเงื่อนไข"},{code:"buffe",name:"คอร์สบุฟเฟต์",description:"เรียนได้ไม่จำกัดภายในเงื่อนไขที่กำหนด"},{code:"seminar",name:"คอร์สสัมนนา",description:"หลักสูตรสัมมนา"}],t.Vy=[{code:"step",name:"เรียนตามลำดับ",description:"ต้องเรียนให้จบเป็นลำดับไปทีละบท"},{code:"full",name:"เรียนได้ทั้งหมด",description:"สามารถเลือกเรียนได้เองทุกบท"},{code:"onsite",name:"อบรมในสสถานที่",description:"ฝึกอบรมในสถานที่"}],t.Up=[{code:"single",name:"หลักสูตรเดี่ยว (Single Course)",description:"เรียนแบบหลักสูตรเดี่ยว"},{code:"multiple",name:"หลักสูตรรวม (Multiple Course)",description:"เรียนแบบหลักสูตรรวม"}],t.fM=[{code:"e_learning",name:"หลักสูตร e-Learning",description:"ศูนย์รวมหลักสูตรออนไลน์"},{code:"onsite",name:"หลักสูตร Onsite",description:"ศูนย์รวมหลักสูตรสัมมนา"},{code:"public_course",name:"หลักสูตร Public Course",description:"รวมหลักสูตรที่เผนแพร่จากสาธารณะ"},{code:"online_course",name:"หลักสูตร Online Course",description:"งานอบรมผ่านการสัมมนาออนไลน์"},{code:"premium_course",name:"หลักสูตร Premium Course",description:"หลักสูตรพิเศษเฉพาะสำหรับสมาชิก"}],t.gd=[{code:"pre",name:"สำรองที่นั่ง",description:"สำรองที่นั่งล่วงหน้า"},{code:"free",name:"เรียนฟรี",description:"เรียนฟรีไม่มีเงื่อนไข"},{code:"paid",name:"จ่ายเงิน",description:"มีค่าใช้จ่ายในกาเรลงทะเบียน"}]}}]);
//# sourceMappingURL=6688.a9378400.js.map