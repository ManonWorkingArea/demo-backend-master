"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[694],{60694:function(e,t,s){s.r(t),s.d(t,{default:function(){return I}});var o=s(20641);function a(e,t,s,a,n,l){const r=(0,o.g2)("Authen"),i=(0,o.g2)("Dashboard");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(r),this.login?((0,o.uX)(),(0,o.Wv)(i,{key:0})):(0,o.Q3)("",!0)],64)}var n=s(52968),l=s(75220),r=s(53751),i=s(90033);const d={class:"flex-1 bg-gray-100 pt-2 pb-5"},c={class:"mt-2"},m={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},u={class:"space-y-6 sm:px-6 lg:col-span-9 lg:px-0"},g={class:"shadow sm:overflow-hidden sm:rounded-md"},p={class:"bg-white py-6 px-4 sm:p-6"},f={class:"mt-6 grid grid-cols-4 gap-6"},h={class:"col-span-4 sm:col-span-2"},k={class:"col-span-4 sm:col-span-2"},x={class:"mt-6 grid grid-cols-6 gap-6"},b={class:"col-span-4 sm:col-span-3"},y={class:"col-span-4 sm:col-span-3"},v={class:"shadow sm:overflow-hidden sm:rounded-md mt-8"},L={class:"bg-white py-6 px-4 sm:p-6"},w={class:"mt-6 grid grid-cols-6 gap-6"},A={class:"col-span-4 sm:col-span-3"},P={class:"col-span-4 sm:col-span-3"},C={"aria-labelledby":"plan-heading",class:"mt-8"},F={class:"shadow sm:overflow-hidden sm:rounded-md"},N={class:"bg-gray-50 px-4 py-3 text-right sm:px-6 border-t"},E={type:"submit",class:"inline-flex justify-center rounded-md border border-transparent bg-gray-800 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"};function U(e,t,s,a,n,l){const U=(0,o.g2)("breadcrumbs"),S=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(U,{navigation:[{name:"ย้อนกลับ",link:"/school/index",style:"chevron-left"}]}),(0,o.Lk)("div",d,[(0,o.Lk)("div",c,[(0,o.Lk)("div",m,[(0,o.Lk)("div",u,[(0,o.Lk)("form",{onSubmit:t[6]||(t[6]=(0,r.D$)(((...e)=>l.addAdmin&&l.addAdmin(...e)),["prevent"]))},[(0,o.Lk)("section",{"aria-labelledby":"payment-details-heading",class:(0,i.C4)(["relative",[n.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},[(0,o.Lk)("div",g,[(0,o.Lk)("div",p,[t[11]||(t[11]=(0,o.Lk)("div",null,[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-medium leading-6 text-gray-900"},"ข้อมูลส่วนตัว"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของหลักสูตรให้ครบถ้วน.")],-1)),(0,o.Lk)("div",f,[(0,o.Lk)("div",h,[t[7]||(t[7]=(0,o.Lk)("label",{for:"firstname",class:"block text-sm font-medium text-gray-700"},"ชื่อ",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.firstname=e),type:"text",name:"firstname",id:"firstname",autocomplete:"firstname",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.firstname]])]),(0,o.Lk)("div",k,[t[8]||(t[8]=(0,o.Lk)("label",{for:"lastname",class:"block text-sm font-medium text-gray-700"},"นามสกุล",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.lastname=e),type:"text",name:"lastname",id:"lastname",autocomplete:"lastname",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.lastname]])])]),(0,o.Lk)("div",x,[(0,o.Lk)("div",b,[t[9]||(t[9]=(0,o.Lk)("label",{for:"phone",class:"block text-sm font-medium text-gray-700"},"เบอร์โทร",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.phone=e),type:"text",name:"phone",id:"phone",autocomplete:"phone",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.phone]])]),(0,o.Lk)("div",y,[t[10]||(t[10]=(0,o.Lk)("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"อีเมล์",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.email=e),type:"text",name:"email",id:"email",autocomplete:"email",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.email]])])])])]),(0,o.Lk)("div",v,[(0,o.Lk)("div",L,[t[14]||(t[14]=(0,o.Lk)("div",null,[(0,o.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-medium leading-6 text-gray-900"},"ข้อมูลบัญชี"),(0,o.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของหลักสูตรให้ครบถ้วน.")],-1)),(0,o.Lk)("div",w,[(0,o.Lk)("div",A,[t[12]||(t[12]=(0,o.Lk)("label",{for:"username",class:"block text-sm font-medium text-gray-700"},"ชื่อบัญชีผู้ใช้งาน",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.username=e),type:"text",name:"username",id:"username",autocomplete:"username",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.username]])]),(0,o.Lk)("div",P,[t[13]||(t[13]=(0,o.Lk)("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"รหัสผ่าน",-1)),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>n.password=e),type:"text",name:"password",id:"password",autocomplete:"password",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.password]])])])])])],2),(0,o.Lk)("section",C,[(0,o.Lk)("div",F,[(0,o.Lk)("div",N,[(0,o.Lk)("button",E,[(0,o.bF)(S,{icon:["fas","save"],class:"pr-2 pl-2"}),t[15]||(t[15]=(0,o.eW)("บันทึกข้อมูล"))])])])])],32)])])])])],64)}var S=s(36406),X=s(21396),J=s.n(X),$=s(40475),j={name:"ContactUs",inject:["apiServer"],data(){return{firstname:"",lastname:"",phone:"",email:"",username:"",password:"",role:"",configs:$.A.get("configs"),activeBlock:!1}},components:{Breadcrumbs:S.A},methods:{async addAdmin(){try{this.activeBlock=!0;const e=J().lib.WordArray.random(16),t=J().SHA256(this.password+e).toString(),s=await fetch("https://gateway.cloudrestfulapi.com/api/user/",{method:"POST",headers:{"Content-Type":"application/json","client-token-key":this.configs.key},body:JSON.stringify({data:{firstname:this.firstname,lastname:this.lastname,phone:this.phone,email:this.email,username:this.username,password:t,parent:this.configs.siteID,salt:e.toString(),role:"admin"},options:{fieldType:[["parent","objectId"]],uniqueFields:[["username"]]}})}),o=await s.json();o.success&&(window.location.href="/origin/user"),console.log(o)}catch(e){console.log(e)}}},setup(){},mounted(){}},q=s(64621);const B=(0,q.A)(j,[["render",U]]);var T=B,V=s(74284),_={name:"Home",components:{Dashboard:T,Authen:V.A},data(){return{login:$.A.get("session","login")}},methods:{},mounted(){},setup(){const e=(0,l.lq)(),t=e.meta.title;(0,n.K7)(t),console.log("Dashboard")}};const D=(0,q.A)(_,[["render",a]]);var I=D},36406:function(e,t,s){s.d(t,{A:function(){return F}});s(44114);var o=s(20641),a=s(90033);const n={class:"flex-1 bg-white"},l={class:"pt-4"},r={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},i={class:"hidden sm:flex","aria-label":"Breadcrumb"},d={role:"list",class:"flex items-center space-x-4"},c={class:"flex"},m={href:"/",class:"text-sm font-medium text-gray-500 hover:text-gray-700"},u={key:0},g={class:"flex items-center"},p=["href"],f={class:"flex items-center"},h={class:"ml-4 text-sm font-medium text-gray-400"},k={class:"mt-2 md:flex md:items-center md:justify-between pb-3"},x={class:"min-w-0 flex-1"},b={class:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-2xl sm:tracking-tight"},y={class:"mt-4 flex flex-shrink-0 md:mt-0 md:ml-4"},v=["onClick"];function L(e,t,s,L,w,A){const P=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("div",l,[(0,o.Lk)("div",r,[(0,o.Lk)("div",null,[(0,o.Lk)("div",null,[(0,o.Lk)("nav",i,[(0,o.Lk)("ol",d,[(0,o.Lk)("li",null,[(0,o.Lk)("div",c,[(0,o.Lk)("a",m,[(0,o.bF)(P,{icon:["fas","home"]})])])]),e.$route.matched.length>1?((0,o.uX)(),(0,o.CE)("li",u,[(0,o.Lk)("div",g,[(0,o.bF)(P,{icon:["fas","chevron-right"],class:"text-gray-200"}),(0,o.Lk)("a",{href:"/"+this.ParentPage,class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700"},(0,a.v_)(this.ParentName),9,p)])])):(0,o.Q3)("",!0),(0,o.Lk)("li",null,[(0,o.Lk)("div",f,[(0,o.bF)(P,{icon:["fas","chevron-right"],class:"text-gray-200"}),(0,o.Lk)("span",h,(0,a.v_)(this.PageName),1)])])])])]),(0,o.Lk)("div",k,[(0,o.Lk)("div",x,[(0,o.Lk)("h2",b,[(0,o.bF)(P,{icon:["fas",`${this.PageIcon}`],class:"text-gray-500 text-[18px]"},null,8,["icon"]),(0,o.eW)(" "+(0,a.v_)(this.PageName),1)])]),(0,o.Lk)("div",y,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.navigation,((t,s)=>((0,o.uX)(),(0,o.CE)("button",{key:s,onClick:s=>e.$router.push(t.link),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,o.bF)(P,{icon:["fas",`${t.style}`],class:"text-gray-200 mr-2"},null,8,["icon"]),(0,o.eW)(" "+(0,a.v_)(t.name),1)],8,v)))),128))])])])])])])}var w=s(75220),A={data(){const e=(0,w.lq)();return{PageName:e.meta.title,PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page}},components:{},props:{navigation:{type:Array,default:()=>[]}}},P=s(64621);const C=(0,P.A)(A,[["render",L]]);var F=C},74284:function(e,t,s){s.d(t,{A:function(){return m}});var o=s(20641);function a(e,t,s,a,n,l){return(0,o.uX)(),(0,o.CE)("div")}var n=s(75220),l=s(63084),r=s(40475),i={name:"Authen",data(){return{configs:r.A.get("configs"),session:r.A.get("session")}},created(){l.A.option(this.$route)},computed:{},components:{},mounted(){this.checkAuth()},updated(){},methods:{async checkAuth(){const e=(0,n.lq)(),t=e.meta.auth,s=e.name,o=r.A.get("session");let a=o.token,i=o.login,d=o.current;l.A.log("hasLogin",i),l.A.log("Page -> Auth:",t),l.A.log("User -> Token:",a),l.A.log("User -> Login:",i),"frontend"===this.session.interface?l.A.log("Front-End"):"backend"===this.session.interface&&(l.A.log("Back-End"),i?("Login"==s||void 0==d?(l.A.log("Not Login Again"),this.$router.replace({path:"/"})):(l.A.log("Has School Active"),t?(l.A.log("This page is : Authen Request"),""===a||null===a||void 0==a?l.A.log("Your Cannot Access"):l.A.log("Your Can Access")):l.A.log("This page is : No Authen Request")),l.A.log("Login")):(l.A.log("Not Login"),"Login"!=s?(window.location.href="/member/login",l.A.log("Not Login Page",s)):l.A.log("Login Page",s)))}},setup(){}},d=s(64621);const c=(0,d.A)(i,[["render",a]]);var m=c}}]);
//# sourceMappingURL=694.2172ba69.js.map