"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[7344],{27344:function(e,t,s){s.r(t),s.d(t,{default:function(){return Z}});var a=s(20641);function o(e,t,s,o,n,l){const i=(0,a.g2)("Authen"),r=(0,a.g2)("Dashboard");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(i),this.login?((0,a.uX)(),(0,a.Wv)(r,{key:0})):(0,a.Q3)("",!0)],64)}var n=s(52968),l=s(75220),i=s(53751),r=s(90033);const c={class:"flex-1 bg-gray-100 pt-2 pb-5"},d={class:"mt-2"},m={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},u={class:"space-y-6 sm:px-6 lg:col-span-9 lg:px-0"},p={class:"shadow sm:overflow-hidden sm:rounded-md"},g={class:"bg-white py-6 px-4 sm:p-6"},f={class:"mt-6 grid grid-cols-4 gap-6"},x={class:"col-span-4 sm:col-span-2"},k={class:"mt-6 grid grid-cols-3 gap-6"},h={class:"col-span-3 sm:col-span-1"},b={class:"col-span-3 sm:col-span-1"},L={class:"col-span-3"},y={class:"col-span-3 sm:col-span-1"},v={class:"flex items-center"},A={class:"col-span-3 sm:col-span-1"},w={class:"flex items-center"},C={class:"col-span-3 sm:col-span-1"},P={class:"flex items-center"},U={class:"col-span-3 sm:col-span-1"},X={class:"mt-1"},V={class:"inline-flex items-center"},F={class:"inline-flex items-center ml-6"},D={class:"inline-flex items-center ml-6"},N={class:"inline-flex items-center ml-6"},q={class:"inline-flex items-center ml-6"},E={class:"col-span-3 sm:col-span-1"},$={class:"mt-1"},_={class:"inline-flex items-center"},B={class:"inline-flex items-center ml-6"},T={class:"inline-flex items-center ml-6"},H={"aria-labelledby":"plan-heading",class:"mt-8"},J={class:"shadow sm:overflow-hidden sm:rounded-md"},S={class:"bg-gray-50 px-4 py-3 text-right sm:px-6 border-t"},W={type:"submit",class:"inline-flex justify-center rounded-md border border-transparent bg-gray-800 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"};function j(e,t,s,o,n,l){const j=(0,a.g2)("breadcrumbs"),K=(0,a.g2)("font-awesome-icon");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(j,{navigation:[{name:"ย้อนกลับ",link:"/application/dashboard",style:"chevron-left"}]}),(0,a.Lk)("div",c,[(0,a.Lk)("div",d,[(0,a.Lk)("div",m,[(0,a.Lk)("div",u,[(0,a.Lk)("form",{onSubmit:t[15]||(t[15]=(0,i.D$)(((...e)=>l.addApplication&&l.addApplication(...e)),["prevent"]))},[(0,a.Lk)("section",{"aria-labelledby":"payment-details-heading",class:(0,r.C4)(["relative",[n.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},[(0,a.Lk)("div",p,[(0,a.Lk)("div",g,[t[33]||(t[33]=(0,a.Lk)("div",null,[(0,a.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-medium leading-6 text-gray-900"},"ข้อมูลใบสมัคร"),(0,a.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของใบสมัครให้ครบถ้วน.")],-1)),(0,a.Lk)("div",f,[(0,a.Lk)("div",x,[t[16]||(t[16]=(0,a.Lk)("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"ชื่อ",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),type:"text",name:"name",id:"name",autocomplete:"name",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,n.name]])])]),(0,a.Lk)("div",k,[(0,a.Lk)("div",h,[t[17]||(t[17]=(0,a.Lk)("label",{for:"slug",class:"block text-sm font-medium text-gray-700"},"Slug",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.slug=e),type:"text",id:"slug",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm",required:""},null,512),[[i.Jo,n.slug]])]),(0,a.Lk)("div",b,[t[18]||(t[18]=(0,a.Lk)("label",{for:"code",class:"block text-sm font-medium text-gray-700"},"Code",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.code=e),type:"text",id:"code",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm",required:""},null,512),[[i.Jo,n.code]])]),(0,a.Lk)("div",L,[t[19]||(t[19]=(0,a.Lk)("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.description=e),id:"description",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm",rows:"3",required:""},null,512),[[i.Jo,n.description]])]),(0,a.Lk)("div",y,[(0,a.Lk)("label",v,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>n.display=e),class:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"},null,512),[[i.lH,n.display]]),t[20]||(t[20]=(0,a.Lk)("span",{class:"ml-2 text-sm text-gray-700"},"Display",-1))])]),(0,a.Lk)("div",A,[(0,a.Lk)("label",w,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=e=>n.web=e),class:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"},null,512),[[i.lH,n.web]]),t[21]||(t[21]=(0,a.Lk)("span",{class:"ml-2 text-sm text-gray-700"},"Web",-1))])]),(0,a.Lk)("div",C,[(0,a.Lk)("label",P,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=e=>n.isDefault=e),class:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"},null,512),[[i.lH,n.isDefault]]),t[22]||(t[22]=(0,a.Lk)("span",{class:"ml-2 text-sm text-gray-700"},"Default",-1))])]),(0,a.Lk)("div",U,[t[28]||(t[28]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Method",-1)),(0,a.Lk)("div",X,[(0,a.Lk)("label",V,[(0,a.bo)((0,a.Lk)("input",{type:"radio","onUpdate:modelValue":t[7]||(t[7]=e=>n.method=e),value:"user",class:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"},null,512),[[i.XL,n.method]]),t[23]||(t[23]=(0,a.Lk)("span",{class:"ml-2 text-sm text-gray-700"},"User",-1))]),(0,a.Lk)("label",F,[(0,a.bo)((0,a.Lk)("input",{type:"radio","onUpdate:modelValue":t[8]||(t[8]=e=>n.method=e),value:"product",class:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"},null,512),[[i.XL,n.method]]),t[24]||(t[24]=(0,a.Lk)("span",{class:"ml-2 text-sm text-gray-700"},"Product",-1))]),(0,a.Lk)("label",D,[(0,a.bo)((0,a.Lk)("input",{type:"radio","onUpdate:modelValue":t[9]||(t[9]=e=>n.method=e),value:"corporate",class:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"},null,512),[[i.XL,n.method]]),t[25]||(t[25]=(0,a.Lk)("span",{class:"ml-2 text-sm text-gray-700"},"Corporate",-1))]),(0,a.Lk)("label",N,[(0,a.bo)((0,a.Lk)("input",{type:"radio","onUpdate:modelValue":t[10]||(t[10]=e=>n.method=e),value:"form",class:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"},null,512),[[i.XL,n.method]]),t[26]||(t[26]=(0,a.Lk)("span",{class:"ml-2 text-sm text-gray-700"},"Form",-1))]),(0,a.Lk)("label",q,[(0,a.bo)((0,a.Lk)("input",{type:"radio","onUpdate:modelValue":t[11]||(t[11]=e=>n.method=e),value:"assessment",class:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"},null,512),[[i.XL,n.method]]),t[27]||(t[27]=(0,a.Lk)("span",{class:"ml-2 text-sm text-gray-700"},"Assessment",-1))])])]),(0,a.Lk)("div",E,[t[32]||(t[32]=(0,a.Lk)("label",{class:"block text-sm font-medium text-gray-700"},"Limit",-1)),(0,a.Lk)("div",$,[(0,a.Lk)("label",_,[(0,a.bo)((0,a.Lk)("input",{type:"radio","onUpdate:modelValue":t[12]||(t[12]=e=>n.limit=e),value:"general",class:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"},null,512),[[i.XL,n.limit]]),t[29]||(t[29]=(0,a.Lk)("span",{class:"ml-2 text-sm text-gray-700"},"General",-1))]),(0,a.Lk)("label",B,[(0,a.bo)((0,a.Lk)("input",{type:"radio","onUpdate:modelValue":t[13]||(t[13]=e=>n.limit=e),value:"company",class:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"},null,512),[[i.XL,n.limit]]),t[30]||(t[30]=(0,a.Lk)("span",{class:"ml-2 text-sm text-gray-700"},"Company",-1))]),(0,a.Lk)("label",T,[(0,a.bo)((0,a.Lk)("input",{type:"radio","onUpdate:modelValue":t[14]||(t[14]=e=>n.limit=e),value:"admin",class:"form-radio h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"},null,512),[[i.XL,n.limit]]),t[31]||(t[31]=(0,a.Lk)("span",{class:"ml-2 text-sm text-gray-700"},"Admin",-1))])])])])])])],2),(0,a.Lk)("section",H,[(0,a.Lk)("div",J,[(0,a.Lk)("div",S,[(0,a.Lk)("button",W,[(0,a.bF)(K,{icon:["fas","save"],class:"pr-2 pl-2"}),t[34]||(t[34]=(0,a.eW)("บันทึกข้อมูล"))])])])])],32)])])])])],64)}var K=s(36406),I=s(40475),O={name:"Add Application",data(){return{name:"",form:[],document:[],status:[],approver:[],slug:"",code:"",description:"",display:"",web:"",isDefault:"",method:"",limit:"",session:I.A.get("session"),configs:I.A.get("configs"),activeBlock:!1}},components:{Breadcrumbs:K.A},methods:{async addApplication(){try{this.activeBlock=!0;const e=await fetch("https://gateway.cloudrestfulapi.com/api/application/",{method:"POST",headers:{"Content-Type":"application/json","client-token-key":this.configs.key},body:JSON.stringify({data:{name:this.name,form:this.form,document:this.document,approver:this.approver,status:this.status,slug:this.slug,code:this.code,description:this.description,display:this.display,web:this.web,isDefault:this.isDefault,method:this.method,limit:this.limit,parent:this.session.current._id},options:{fieldType:[],uniqueFields:[]}})}),t=await e.json();200===e.status&&(window.location.href="/application/dashboard"),console.log(t)}catch(e){console.log(e)}}},setup(){},mounted(){}},Q=s(64621);const R=(0,Q.A)(O,[["render",j]]);var Y=R,G=s(74284),M={name:"Home",components:{Dashboard:Y,Authen:G.A},data(){return{login:I.A.get("session","login")}},methods:{},mounted(){},setup(){const e=(0,l.lq)(),t=e.meta.title;(0,n.K7)(t),console.log("Dashboard")}};const z=(0,Q.A)(M,[["render",o]]);var Z=z},36406:function(e,t,s){s.d(t,{A:function(){return U}});s(44114);var a=s(20641),o=s(90033);const n={class:"flex-1 bg-white"},l={class:"pt-4"},i={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},r={class:"hidden sm:flex","aria-label":"Breadcrumb"},c={role:"list",class:"flex items-center space-x-4"},d={class:"flex"},m={href:"/",class:"text-sm font-medium text-gray-500 hover:text-gray-700"},u={key:0},p={class:"flex items-center"},g=["href"],f={class:"flex items-center"},x={class:"ml-4 text-sm font-medium text-gray-400"},k={class:"mt-2 md:flex md:items-center md:justify-between pb-3"},h={class:"min-w-0 flex-1"},b={class:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-2xl sm:tracking-tight"},L={class:"mt-4 flex flex-shrink-0 md:mt-0 md:ml-4"},y=["onClick"];function v(e,t,s,v,A,w){const C=(0,a.g2)("font-awesome-icon");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",l,[(0,a.Lk)("div",i,[(0,a.Lk)("div",null,[(0,a.Lk)("div",null,[(0,a.Lk)("nav",r,[(0,a.Lk)("ol",c,[(0,a.Lk)("li",null,[(0,a.Lk)("div",d,[(0,a.Lk)("a",m,[(0,a.bF)(C,{icon:["fas","home"]})])])]),e.$route.matched.length>1?((0,a.uX)(),(0,a.CE)("li",u,[(0,a.Lk)("div",p,[(0,a.bF)(C,{icon:["fas","chevron-right"],class:"text-gray-200"}),(0,a.Lk)("a",{href:"/"+this.ParentPage,class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700"},(0,o.v_)(this.ParentName),9,g)])])):(0,a.Q3)("",!0),(0,a.Lk)("li",null,[(0,a.Lk)("div",f,[(0,a.bF)(C,{icon:["fas","chevron-right"],class:"text-gray-200"}),(0,a.Lk)("span",x,(0,o.v_)(this.PageName),1)])])])])]),(0,a.Lk)("div",k,[(0,a.Lk)("div",h,[(0,a.Lk)("h2",b,[(0,a.bF)(C,{icon:["fas",`${this.PageIcon}`],class:"text-gray-500 text-[18px]"},null,8,["icon"]),(0,a.eW)(" "+(0,o.v_)(this.PageName),1)])]),(0,a.Lk)("div",L,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.navigation,((t,s)=>((0,a.uX)(),(0,a.CE)("button",{key:s,onClick:s=>e.$router.push(t.link),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,a.bF)(C,{icon:["fas",`${t.style}`],class:"text-gray-200 mr-2"},null,8,["icon"]),(0,a.eW)(" "+(0,o.v_)(t.name),1)],8,y)))),128))])])])])])])}var A=s(75220),w={data(){const e=(0,A.lq)();return{PageName:e.meta.title,PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page}},components:{},props:{navigation:{type:Array,default:()=>[]}}},C=s(64621);const P=(0,C.A)(w,[["render",v]]);var U=P},74284:function(e,t,s){s.d(t,{A:function(){return m}});var a=s(20641);function o(e,t,s,o,n,l){return(0,a.uX)(),(0,a.CE)("div")}var n=s(75220),l=s(63084),i=s(40475),r={name:"Authen",data(){return{configs:i.A.get("configs"),session:i.A.get("session")}},created(){l.A.option(this.$route)},computed:{},components:{},mounted(){this.checkAuth()},updated(){},methods:{async checkAuth(){const e=(0,n.lq)(),t=e.meta.auth,s=e.name,a=i.A.get("session");let o=a.token,r=a.login,c=a.current;l.A.log("hasLogin",r),l.A.log("Page -> Auth:",t),l.A.log("User -> Token:",o),l.A.log("User -> Login:",r),"frontend"===this.session.interface?l.A.log("Front-End"):"backend"===this.session.interface&&(l.A.log("Back-End"),r?("Login"==s||void 0==c?(l.A.log("Not Login Again"),this.$router.replace({path:"/"})):(l.A.log("Has School Active"),t?(l.A.log("This page is : Authen Request"),""===o||null===o||void 0==o?l.A.log("Your Cannot Access"):l.A.log("Your Can Access")):l.A.log("This page is : No Authen Request")),l.A.log("Login")):(l.A.log("Not Login"),"Login"!=s?(window.location.href="/member/login",l.A.log("Not Login Page",s)):l.A.log("Login Page",s)))}},setup(){}},c=s(64621);const d=(0,c.A)(r,[["render",o]]);var m=d}}]);
//# sourceMappingURL=7344.c8746dc5.js.map