"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[7438],{97438:function(e,t,n){n.r(t),n.d(t,{default:function(){return oe}});var o=n(20641);function r(e,t,n,r,i,s){const c=(0,o.g2)("Edit");return this.login?((0,o.uX)(),(0,o.Wv)(c,{key:0})):(0,o.Q3)("",!0)}var i=n(52968),s=n(75220),c=n(90033);const a={class:"camera-container"},l={class:"camera-preview"},d={ref:"video",autoplay:""},u=["disabled"],f=["disabled"],p=["src"];function y(e,t,n,r,i,s){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",a,[t[3]||(t[3]=(0,o.Lk)("h1",null,"Camera Preview",-1)),(0,o.Lk)("div",l,[(0,o.Lk)("video",d,null,512),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>s.startCamera&&s.startCamera(...e)),disabled:s.isCameraActive},"Start Camera",8,u),(0,o.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>s.captureImage&&s.captureImage(...e)),disabled:!s.isCameraActive},"Capture Image",8,f)]),i.capturedImage?((0,o.uX)(),(0,o.CE)("img",{key:0,src:i.capturedImage,alt:"Captured",class:"captured-image"},null,8,p)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",null,[t[4]||(t[4]=(0,o.Lk)("div",null,[(0,o.Lk)("p",null,"Press any key to start tracking:")],-1)),(0,o.Lk)("div",null,[(0,o.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>s.clearLog&&s.clearLog(...e))},"Clear Log")]),(0,o.Lk)("div",null,[(0,o.Lk)("ul",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.keyLog,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t},(0,c.v_)(e),1)))),128))])])])],64)}n(44114),n(98992),n(3949);
/**! 
 * hotkeys-js v3.13.9 
 * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies. 
 * 
 * Copyright (c) 2024 kenny wong <wowohoo@qq.com> 
 * https://github.com/jaywcjlove/hotkeys-js.git 
 * 
 * @website: https://jaywcjlove.github.io/hotkeys-js
 
 * Licensed under the MIT license 
 */
const h="undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function m(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent&&e.attachEvent("on".concat(t),n)}function g(e,t,n,o){e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent&&e.detachEvent("on".concat(t),n)}function k(e,t){const n=t.slice(0,t.length-1);for(let o=0;o<n.length;o++)n[o]=e[n[o].toLowerCase()];return n}function v(e){"string"!==typeof e&&(e=""),e=e.replace(/\s/g,"");const t=e.split(",");let n=t.lastIndexOf("");for(;n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function w(e,t){const n=e.length>=t.length?e:t,o=e.length>=t.length?t:e;let r=!0;for(let i=0;i<n.length;i++)-1===o.indexOf(n[i])&&(r=!1);return r}const b={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":h?173:189,"=":h?61:187,";":h?59:186,"'":222,"[":219,"]":221,"\\":220},L={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},C={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},E={16:!1,18:!1,17:!1,91:!1},O={};for(let re=1;re<20;re++)b["f".concat(re)]=111+re;let K=[],S=null,_="all";const x=new Map,j=e=>b[e.toLowerCase()]||L[e.toLowerCase()]||e.toUpperCase().charCodeAt(0),A=e=>Object.keys(b).find((t=>b[t]===e)),I=e=>Object.keys(L).find((t=>L[t]===e));function P(e){_=e||"all"}function D(){return _||"all"}function M(){return K.slice(0)}function T(){return K.map((e=>A(e)||I(e)||String.fromCharCode(e)))}function X(){const e=[];return Object.keys(O).forEach((t=>{O[t].forEach((t=>{let{key:n,scope:o,mods:r,shortcut:i}=t;e.push({scope:o,shortcut:i,mods:r,keys:n.split("+").map((e=>j(e)))})}))})),e}function U(e){const t=e.target||e.srcElement,{tagName:n}=t;let o=!0;const r="INPUT"===n&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return(t.isContentEditable||(r||"TEXTAREA"===n||"SELECT"===n)&&!t.readOnly)&&(o=!1),o}function $(e){return"string"===typeof e&&(e=j(e)),-1!==K.indexOf(e)}function B(e,t){let n,o;e||(e=D());for(const r in O)if(Object.prototype.hasOwnProperty.call(O,r))for(n=O[r],o=0;o<n.length;)if(n[o].scope===e){const e=n.splice(o,1);e.forEach((e=>{let{element:t}=e;return G(t)}))}else o++;D()===e&&P(t||"all")}function F(e){let t=e.keyCode||e.which||e.charCode;const n=K.indexOf(t);if(n>=0&&K.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&K.splice(0,K.length),93!==t&&224!==t||(t=91),t in E){E[t]=!1;for(const e in L)L[e]===t&&(q[e]=!1)}}function N(e){if("undefined"===typeof e)Object.keys(O).forEach((e=>{Array.isArray(O[e])&&O[e].forEach((e=>Q(e))),delete O[e]})),G(null);else if(Array.isArray(e))e.forEach((e=>{e.key&&Q(e)}));else if("object"===typeof e)e.key&&Q(e);else if("string"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];let[r,i]=n;"function"===typeof r&&(i=r,r=""),Q({key:e,scope:r,method:i,splitKey:"+"})}}const Q=e=>{let{key:t,scope:n,method:o,splitKey:r="+"}=e;const i=v(t);i.forEach((e=>{const t=e.split(r),i=t.length,s=t[i-1],c="*"===s?"*":j(s);if(!O[c])return;n||(n=D());const a=i>1?k(L,t):[],l=[];O[c]=O[c].filter((e=>{const t=!o||e.method===o,r=t&&e.scope===n&&w(e.mods,a);return r&&l.push(e.element),!r})),l.forEach((e=>G(e)))}))};function R(e,t,n,o){if(t.element!==o)return;let r;if(t.scope===n||"all"===t.scope){r=t.mods.length>0;for(const e in E)Object.prototype.hasOwnProperty.call(E,e)&&(!E[e]&&t.mods.indexOf(+e)>-1||E[e]&&-1===t.mods.indexOf(+e))&&(r=!1);(0!==t.mods.length||E[16]||E[18]||E[17]||E[91])&&!r&&"*"!==t.shortcut||(t.keys=[],t.keys=t.keys.concat(K),!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0)))}}function W(e,t){const n=O["*"];let o=e.keyCode||e.which||e.charCode;if(!q.filter.call(this,e))return;if(93!==o&&224!==o||(o=91),-1===K.indexOf(o)&&229!==o&&K.push(o),["metaKey","ctrlKey","altKey","shiftKey"].forEach((t=>{const n=C[t];e[t]&&-1===K.indexOf(n)?K.push(n):!e[t]&&K.indexOf(n)>-1?K.splice(K.indexOf(n),1):"metaKey"===t&&e[t]&&(K=K.filter((e=>e in C||e===o)))})),o in E){E[o]=!0;for(const e in L)L[e]===o&&(q[e]=!0);if(!n)return}for(const c in E)Object.prototype.hasOwnProperty.call(E,c)&&(E[c]=e[C[c]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===K.indexOf(17)&&K.push(17),-1===K.indexOf(18)&&K.push(18),E[17]=!0,E[18]=!0);const r=D();if(n)for(let c=0;c<n.length;c++)n[c].scope===r&&("keydown"===e.type&&n[c].keydown||"keyup"===e.type&&n[c].keyup)&&R(e,n[c],r,t);if(!(o in O))return;const i=O[o],s=i.length;for(let c=0;c<s;c++)if(("keydown"===e.type&&i[c].keydown||"keyup"===e.type&&i[c].keyup)&&i[c].key){const n=i[c],{splitKey:o}=n,s=n.key.split(o),a=[];for(let e=0;e<s.length;e++)a.push(j(s[e]));a.sort().join("")===K.sort().join("")&&R(e,n,r,t)}}function q(e,t,n){K=[];const o=v(e);let r=[],i="all",s=document,c=0,a=!1,l=!0,d="+",u=!1,f=!1;for(void 0===n&&"function"===typeof t&&(n=t),"[object Object]"===Object.prototype.toString.call(t)&&(t.scope&&(i=t.scope),t.element&&(s=t.element),t.keyup&&(a=t.keyup),void 0!==t.keydown&&(l=t.keydown),void 0!==t.capture&&(u=t.capture),"string"===typeof t.splitKey&&(d=t.splitKey),!0===t.single&&(f=!0)),"string"===typeof t&&(i=t),f&&N(e,i);c<o.length;c++)e=o[c].split(d),r=[],e.length>1&&(r=k(L,e)),e=e[e.length-1],e="*"===e?"*":j(e),e in O||(O[e]=[]),O[e].push({keyup:a,keydown:l,scope:i,mods:r,shortcut:o[c],method:n,key:o[c],splitKey:d,element:s});if("undefined"!==typeof s&&window){if(!x.has(s)){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;return W(e,s)},t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.event;W(e,s),F(e)};x.set(s,{keydownListener:e,keyupListenr:t,capture:u}),m(s,"keydown",e,u),m(s,"keyup",t,u)}if(!S){const e=()=>{K=[]};S={listener:e,capture:u},m(window,"focus",e,u)}}}function z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(O).forEach((n=>{const o=O[n].filter((n=>n.scope===t&&n.shortcut===e));o.forEach((e=>{e&&e.method&&e.method()}))}))}function G(e){const t=Object.values(O).flat(),n=t.findIndex((t=>{let{element:n}=t;return n===e}));if(n<0){const{keydownListener:t,keyupListenr:n,capture:o}=x.get(e)||{};t&&n&&(g(e,"keyup",n,o),g(e,"keydown",t,o),x.delete(e))}if(t.length<=0||x.size<=0){const e=Object.keys(x);if(e.forEach((e=>{const{keydownListener:t,keyupListenr:n,capture:o}=x.get(e)||{};t&&n&&(g(e,"keyup",n,o),g(e,"keydown",t,o),x.delete(e))})),x.clear(),Object.keys(O).forEach((e=>delete O[e])),S){const{listener:e,capture:t}=S;g(window,"focus",e,t),S=null}}}const H={getPressedKeyString:T,setScope:P,getScope:D,deleteScope:B,getPressedKeyCodes:M,getAllKeyCodes:X,isPressed:$,filter:U,trigger:z,unbind:N,keyMap:b,modifier:L,modifierMap:C};for(const re in H)Object.prototype.hasOwnProperty.call(H,re)&&(q[re]=H[re]);if("undefined"!==typeof window){const e=window.hotkeys;q.noConflict=t=>(t&&window.hotkeys===q&&(window.hotkeys=e),q),window.hotkeys=q}var V={data(){return{keyLog:[],videoStream:null,capturedImage:null}},computed:{isCameraActive(){return!!this.videoStream}},methods:{trackKeys(){q("*",(e=>{const t=e.key,n=(new Date).toLocaleString();this.keyLog.push(`${t} detected - ${n}`)}))},clearLog(){this.keyLog=[]},async startCamera(){try{this.videoStream=await navigator.mediaDevices.getUserMedia({video:!0}),this.$refs.video.srcObject=this.videoStream}catch(e){console.error("Error accessing camera:",e)}},captureImage(){if(this.videoStream){const e=this.$refs.video,t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;const n=t.getContext("2d");n.drawImage(e,0,0,t.width,t.height);const o=(new Date).toLocaleString();n.fillStyle="white",n.font="16px Arial",n.fillText(o,10,20);const r=t.toDataURL("image/png");this.capturedImage=r}}},mounted(){this.trackKeys()},beforeUnmount(){q.unbind(),this.videoStream&&this.videoStream.getTracks().forEach((e=>e.stop()))}},J=n(64621);const Y=(0,J.A)(V,[["render",y],["__scopeId","data-v-6425aa52"]]);var Z=Y,ee=n(40475),te={name:"Lesson Streaming",components:{Edit:Z},data(){return{login:ee.A.get("session","login")}},methods:{},setup(){const e=(0,s.lq)(),t=e.meta.title;(0,i.K7)(t)}};const ne=(0,J.A)(te,[["render",r]]);var oe=ne}}]);
//# sourceMappingURL=7438.4918958b.js.map