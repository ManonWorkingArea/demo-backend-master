"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[7586],{7586:function(o,e,t){t.r(e),t.d(e,{default:function(){return O}});var l=t(20641);function a(o,e,t,a,s,n){const r=(0,l.g2)("Edit");return this.login?((0,l.uX)(),(0,l.Wv)(r,{key:0})):(0,l.Q3)("",!0)}var s=t(52968),n=t(75220),r=t(90033),i=t(53751);const c={class:"w-full max-w-4xl mx-auto bg-gray-900 rounded-lg shadow-lg overflow-hidden mt-4 p-2"},u=["href"],d=["src"],g={class:"p-0 bg-gray-800 flex items-center gap-3"},h={class:"relative flex-grow h-1 bg-white rounded-lg"},f={class:"relative w-24 h-1 bg-white rounded-lg"},p={class:"w-full max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden mt-4 p-6"},m={class:"flex flex-col gap-6"},y={class:"grid grid-cols-2 gap-4"},k={class:"flex items-center"},b=["src"],v={key:1},x={class:"flex items-center"},L={class:"flex items-center"},w={class:"flex items-center"},C={class:"flex items-center"},P={class:"flex items-center"},U={class:"grid grid-cols-2 gap-4"},S={class:"flex items-center"},F={class:"flex items-center"},B={class:"flex items-center"},D={class:"flex flex-col gap-2"},T={class:"flex items-center"},R={class:"flex items-center"},E={class:"flex items-center"},X={class:"flex items-center"};function _(o,e,t,a,s,n){const _=(0,l.g2)("Subhead");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(_,{navigation:[{name:"หลักสูตร",link:"/lesson",style:"home",class:"default-btn",type:"button"},{name:"Player",link:"/lesson/player-customize",style:"play",class:"default-btn",type:"button"},{name:"Course Detail",link:"/lesson/detail-customize",style:"paint-roller",class:"default-btn",type:"button"}]}),(0,l.Lk)("div",c,[(0,l.Lk)("div",{class:"relative w-full h-96 flex items-center justify-center",style:(0,r.Tr)({backgroundColor:s.playerBackgroundColor})},[(0,l.Lk)("button",{class:"absolute w-16 h-16 rounded-full flex items-center justify-center hover:bg-red-700 text-2xl text-white border-none shadow-lg focus:outline-none",style:(0,r.Tr)({backgroundColor:s.mainColor})}," ▶ ",4),(0,l.Lk)("div",{class:(0,r.C4)(["absolute",s.positions[s.logoPosition]])},[(0,l.Lk)("a",{href:s.logoLink,target:"_blank"},[(0,l.Lk)("img",{ref:"logoRef",src:s.logoUrl,alt:"Logo",style:(0,r.Tr)({width:s.logoWidth+"px"}),class:"h-auto"},null,12,d)],8,u)],2),(0,l.Lk)("div",{ref:"overlayRef",class:(0,r.C4)(["absolute bg-gray-800 bg-opacity-75 text-white text-sm px-3 py-1 rounded-lg text-center",s.positions[s.overlayPosition]])},(0,r.v_)(s.overlayPrefix)+" "+(0,r.v_)(s.overlayData),3)],4),(0,l.Lk)("div",g,[e[18]||(e[18]=(0,l.Lk)("button",{class:"text-white text-xl focus:outline-none"},"⏸",-1)),(0,l.Lk)("div",h,[(0,l.Lk)("div",{class:"h-full",style:(0,r.Tr)({backgroundColor:s.controlColor,width:"30%"})},null,4),e[16]||(e[16]=(0,l.Lk)("div",{class:"absolute -top-1 left-[30%] w-4 h-4 bg-white rounded-full transform -translate-x-1/2"},null,-1))]),e[19]||(e[19]=(0,l.Lk)("span",{class:"text-gray-400 min-w-[100px] text-center whitespace-nowrap"}," 00:00 / 02:37 ",-1)),(0,l.Lk)("div",f,[(0,l.Lk)("div",{class:"h-full",style:(0,r.Tr)({backgroundColor:s.controlColor,width:"50%"})},null,4),e[17]||(e[17]=(0,l.Lk)("div",{class:"absolute -top-1 left-[50%] w-4 h-4 bg-white rounded-full transform -translate-x-1/2"},null,-1))]),e[20]||(e[20]=(0,l.Lk)("button",{class:"text-white text-xl focus:outline-none"},"⚙️",-1)),e[21]||(e[21]=(0,l.Lk)("button",{class:"text-white text-xl focus:outline-none"},"⛶",-1))])]),(0,l.Lk)("div",p,[e[41]||(e[41]=(0,l.Lk)("h3",{class:"text-gray-900 text-lg mb-4 font-semibold"},"Control Panel",-1)),(0,l.Lk)("div",m,[(0,l.Lk)("div",null,[e[29]||(e[29]=(0,l.Lk)("h4",{class:"text-gray-900 font-medium mb-2"},"Logo Configuration",-1)),(0,l.Lk)("div",y,[(0,l.Lk)("div",k,[e[22]||(e[22]=(0,l.Lk)("label",{class:"text-gray-900 font-medium w-1/3"},"Select Logo:",-1)),(0,l.Lk)("input",{type:"file",onChange:e[0]||(e[0]=(...o)=>n.onFileChange&&n.onFileChange(...o)),class:"hidden",ref:"fileInput"},null,544),(0,l.Lk)("div",{class:"w-16 h-16 bg-gray-200 border rounded cursor-pointer flex items-center justify-center",onClick:e[1]||(e[1]=(...o)=>n.selectFile&&n.selectFile(...o))},[s.logoUrl?((0,l.uX)(),(0,l.CE)("img",{key:0,src:s.logoUrl,alt:"Logo Thumbnail",class:"w-full h-full object-cover"},null,8,b)):((0,l.uX)(),(0,l.CE)("span",v,"+"))])]),(0,l.Lk)("div",x,[e[23]||(e[23]=(0,l.Lk)("label",{class:"text-gray-900 font-medium w-1/3"},"Logo URL:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>s.logoUrl=o),class:"flex-grow p-2 border rounded"},null,512),[[i.Jo,s.logoUrl]])]),(0,l.Lk)("div",L,[e[24]||(e[24]=(0,l.Lk)("label",{class:"text-gray-900 font-medium w-1/3"},"Logo Link:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>s.logoLink=o),class:"flex-grow p-2 border rounded"},null,512),[[i.Jo,s.logoLink]])]),(0,l.Lk)("div",w,[e[26]||(e[26]=(0,l.Lk)("label",{class:"text-gray-900 font-medium w-1/3"},"Logo Position:",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.logoPosition=o),class:"flex-grow p-2 border rounded"},e[25]||(e[25]=[(0,l.Lk)("option",{value:"top-left"},"Top Left",-1),(0,l.Lk)("option",{value:"top-right"},"Top Right",-1),(0,l.Lk)("option",{value:"bottom-left"},"Bottom Left",-1),(0,l.Lk)("option",{value:"bottom-right"},"Bottom Right",-1)]),512),[[i.u1,s.logoPosition]])]),(0,l.Lk)("div",C,[e[27]||(e[27]=(0,l.Lk)("label",{class:"text-gray-900 font-medium w-1/3"},"Logo Width:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=o=>s.logoWidth=o),class:"flex-grow p-2 border rounded",min:"50"},null,512),[[i.Jo,s.logoWidth]])]),(0,l.Lk)("div",P,[(0,l.bo)((0,l.Lk)("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=o=>s.alwaysShowFullScreen=o),class:"mr-2"},null,512),[[i.lH,s.alwaysShowFullScreen]]),e[28]||(e[28]=(0,l.Lk)("label",{class:"text-gray-900 font-medium"},"Always Show in Full Screen",-1))])])]),(0,l.Lk)("div",null,[e[35]||(e[35]=(0,l.Lk)("h4",{class:"text-gray-900 font-medium mb-2"},"Overlay IP Configuration",-1)),(0,l.Lk)("div",U,[(0,l.Lk)("div",S,[e[30]||(e[30]=(0,l.Lk)("label",{class:"text-gray-900 font-medium w-1/3"},"Overlay IP Prefix:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=o=>s.overlayPrefix=o),class:"flex-grow p-2 border rounded"},null,512),[[i.Jo,s.overlayPrefix]])]),(0,l.Lk)("div",F,[e[32]||(e[32]=(0,l.Lk)("label",{class:"text-gray-900 font-medium w-1/3"},"Overlay IP Position:",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":e[8]||(e[8]=o=>s.overlayPosition=o),class:"flex-grow p-2 border rounded"},e[31]||(e[31]=[(0,l.Fv)('<option value="top-left">Top Left</option><option value="top-right">Top Right</option><option value="bottom-left">Bottom Left</option><option value="bottom-right">Bottom Right</option><option value="center">Center</option>',5)]),512),[[i.u1,s.overlayPosition]])]),(0,l.Lk)("div",B,[e[34]||(e[34]=(0,l.Lk)("label",{class:"text-gray-900 font-medium w-1/3"},"Data to Show:",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":e[9]||(e[9]=o=>s.overlayData=o),class:"flex-grow p-2 border rounded"},e[33]||(e[33]=[(0,l.Lk)("option",{value:"ip"},"IP",-1),(0,l.Lk)("option",{value:"username"},"Username",-1),(0,l.Lk)("option",{value:"email"},"Email",-1),(0,l.Lk)("option",{value:"datetime"},"Datetime",-1)]),512),[[i.u1,s.overlayData]])])])]),(0,l.Lk)("div",null,[e[40]||(e[40]=(0,l.Lk)("h4",{class:"text-gray-900 font-medium mb-2"},"Color Configuration",-1)),(0,l.Lk)("div",D,[(0,l.Lk)("div",T,[e[36]||(e[36]=(0,l.Lk)("label",{class:"text-gray-900 font-medium w-1/3"},"Player Background Color:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"color","onUpdate:modelValue":e[10]||(e[10]=o=>s.playerBackgroundColor=o),class:"ml-2"},null,512),[[i.Jo,s.playerBackgroundColor]])]),(0,l.Lk)("div",R,[e[37]||(e[37]=(0,l.Lk)("label",{class:"text-gray-900 font-medium w-1/3"},"Play Button Color:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"color","onUpdate:modelValue":e[11]||(e[11]=o=>s.mainColor=o),class:"ml-2"},null,512),[[i.Jo,s.mainColor]])]),(0,l.Lk)("div",E,[e[38]||(e[38]=(0,l.Lk)("label",{class:"text-gray-900 font-medium w-1/3"},"Seek Bar Color:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"color","onUpdate:modelValue":e[12]||(e[12]=o=>s.controlBackgroundColor=o),class:"ml-2"},null,512),[[i.Jo,s.controlBackgroundColor]])]),(0,l.Lk)("div",X,[e[39]||(e[39]=(0,l.Lk)("label",{class:"text-gray-900 font-medium w-1/3"},"Volume Bar Color:",-1)),(0,l.bo)((0,l.Lk)("input",{type:"color","onUpdate:modelValue":e[13]||(e[13]=o=>s.controlColor=o),class:"ml-2"},null,512),[[i.Jo,s.controlColor]])])])])]),(0,l.Lk)("button",{onClick:e[14]||(e[14]=(...o)=>n.saveToJson&&n.saveToJson(...o)),class:"mt-4 bg-blue-600 text-white px-4 py-2 rounded shadow"},"Save to JSON"),(0,l.Lk)("button",{onClick:e[15]||(e[15]=(...o)=>n.updateData&&n.updateData(...o)),class:"mt-4 bg-green-600 text-white px-4 py-2 rounded shadow"},"Update Data")])],64)}t(14603),t(47566),t(98721);var V=t(87814),$=t(40475),W=t(93426),J={components:{Subhead:V.A},data(){return{playerBackgroundColor:"#1a1a1a",logoUrl:"",logoLink:"",overlayPrefix:"",logoPosition:"top-left",overlayPosition:"bottom-left",logoWidth:100,alwaysShowFullScreen:!0,overlayData:"ip",logoRef:null,overlayRef:null,positions:{"top-left":["top-2","left-2"],"top-right":["top-2","right-2"],"bottom-left":["bottom-2","left-2"],"bottom-right":["bottom-2","right-2"],center:["top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2"]},mainColor:"#ff0000",controlBackgroundColor:"#ff0000",controlColor:"#ff0000",fileInput:null}},created(){this.configs=$.A.get("configs")||{},this.session=$.A.get("session")||{},this.logoUrl=this.configs.logoUrl||"https://new-logo-url.com/logo.png",this.logoLink=this.configs.logoLink||"https://example.com",this.overlayPrefix=this.configs.overlayPrefix||"Your New Prefix: ",this.overlayPosition=this.configs.overlayPosition||"bottom-left",this.logoWidth=this.configs.logoWidth||100,this.alwaysShowFullScreen=this.configs.alwaysShowFullScreen||!0,this.overlayData=this.configs.overlayData||"ip"},watch:{logoUrl(o){this.logoRef&&(this.logoRef.src=o)},overlayPrefix(o){this.overlayRef&&(this.overlayRef.innerHTML=`${o} ${this.overlayData}`)}},methods:{translate:W.Tl,saveToJson(){const o={playerBackgroundColor:this.playerBackgroundColor,logoUrl:this.logoUrl,overlayPrefix:this.overlayPrefix,logoPosition:this.logoPosition,overlayPosition:this.overlayPosition},e=JSON.stringify(o,null,2),t=new Blob([e],{type:"application/json"}),l=URL.createObjectURL(t),a=document.createElement("a");a.href=l,a.download="player-customization.json",a.click(),URL.revokeObjectURL(l)},selectFile(){this.fileInput.click()},onFileChange(o){const e=o.target.files[0];if(e){const o=new FileReader;o.onload=o=>{this.logoUrl=o.target.result},o.readAsDataURL(e)}},async updateData(){try{const o={data:{player_theme:{logoUrl:this.logoUrl,logoLink:this.logoLink,logoWidth:this.logoWidth,logoPosition:this.logoPosition,alwaysShowFullScreen:this.alwaysShowFullScreen,overlayPrefix:this.overlayPrefix,overlayPosition:this.overlayPosition,overlayData:this.overlayData,colors:{"--plyr-color-main":this.mainColor,"--plyr-control-color":this.controlColor,"--plyr-control-background":this.controlBackgroundColor,"--plyr-background":this.playerBackgroundColor}}}},{data:e,status:t}=await this.$Request.PUT(`hostname/${this.session.current._id}`,o,this.configs.key);200===t&&(this.$swal({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,icon:"success",title:"บันทึกข้อมูลสำเร็จ",text:"ข้อมูลถูกบันทึกเรียบร้อยแล้ว"}),console.log(e))}catch(o){console.error(o)}},async loadData(){try{const{data:o,status:e}=await this.$Request.GET(`hostname/${this.session.current._id}`,this.configs.key);if(200===e){const e=o.player_theme||{};this.logoUrl=e.logoUrl||this.logoUrl,this.logoLink=e.logoLink||this.logoLink,this.logoWidth=e.logoWidth||this.logoWidth,this.logoPosition=e.logoPosition||this.logoPosition,this.alwaysShowFullScreen=e.alwaysShowFullScreen||this.alwaysShowFullScreen,this.overlayPrefix=e.overlayPrefix||this.overlayPrefix,this.overlayPosition=e.overlayPosition||this.overlayPosition,this.overlayData=e.overlayData||this.overlayData;const t=e.colors||{};this.mainColor=t["--plyr-color-main"]||this.mainColor,this.controlBackgroundColor=t["--plyr-control-background"]||this.controlBackgroundColor,this.controlColor=t["--plyr-control-color"]||this.controlColor,this.playerBackgroundColor=t["--plyr-background"]||this.playerBackgroundColor,console.log(o),this.$swal({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,icon:"success",title:"โหลดข้อมูลสำเร็จ",text:"ข้อมูลถูกโหลดเรียบร้อยแล้ว"})}}catch(o){console.error(o)}}},mounted(){this.loadData()}},A=t(64621);const I=(0,A.A)(J,[["render",_]]);var j=I,K={name:"PlayerCustomizer",components:{Edit:j},data(){return{login:$.A.get("session","login")}},methods:{},setup(){const o=(0,n.lq)(),e=o.meta.title;(0,s.K7)(e)}};const N=(0,A.A)(K,[["render",a]]);var O=N},87814:function(o,e,t){t.d(e,{A:function(){return B}});var l=t(20641),a=t(90033),s=t(53751);const n={class:"py-2 bg-white border-l border-r border-b border-1 border-gray-200"},r={class:"mx-auto px-2 sm:px-6 lg:px-6 xl:flex xl:items-center xl:justify-between"},i={class:"min-w-0 flex-1"},c={class:"mt-1 text-[18px] font-semibold leading-8 text-gray-700"},u={key:0,class:"text-sm text-gray-500"},d={class:"mt-5 flex xl:mt-0 xl:ml-4"},g={class:"flex items-center space-x-2"},h={class:"text-sm text-gray-400"},f=["onUpdate:modelValue","placeholder","onChange"],p={value:"",disabled:""},m=["value"],y=["onClick"],k={class:"text-sm hidden sm:inline-block ml-1"},b=["onClick"],v={class:"text-sm hidden sm:inline-block ml-1"};function x(o,e,t,x,L,w){const C=(0,l.g2)("font-awesome-icon");return(0,l.uX)(),(0,l.CE)("header",n,[(0,l.Lk)("div",r,[(0,l.Lk)("div",i,[(0,l.Lk)("h1",c,[(0,l.bF)(C,{icon:["fas",this.PageIcon],class:"text-gray-500 text-[18px]"},null,8,["icon"]),(0,l.eW)(" "+(0,a.v_)(t.pageTitle?t.pageTitle:this.PageName),1)]),t.subhead?((0,l.uX)(),(0,l.CE)("p",u,(0,a.v_)(t.subhead),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",d,[(0,l.Lk)("div",g,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.navigation,((e,t)=>((0,l.uX)(),(0,l.CE)(l.FK,{key:t},["select"===e.type?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.Lk)("label",h,(0,a.v_)(e.placeholder),1),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":o=>e.value=o,class:"block w-36 py-2 px-3 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-md",placeholder:e.placeholder,onChange:t=>o.$emit("toggleStatus",e.value)},[(0,l.Lk)("option",p,"-- "+(0,a.v_)(e.placeholder)+" --",1),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.options,((o,e)=>((0,l.uX)(),(0,l.CE)("option",{key:e,value:o.value},(0,a.v_)(o.name),9,m)))),128))],40,f),[[s.u1,e.value]])],64)):"call-function"===e.type?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[!1!==e.visible?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:t=>o.$emit(e.function),type:"button",class:(0,a.C4)(w.getClasses(e.class))},[(0,l.bF)(C,{icon:["fas",`${e.style}`],class:(0,a.C4)({"text-gray-500 mr-2":"icon-btn"===e.class,"text-white":"primary-btn"===e.class})},null,8,["icon","class"]),(0,l.Lk)("span",k,(0,a.v_)(e.name),1)],10,y)):(0,l.Q3)("",!0)],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:2},[!1!==e.visible?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:o=>w.handleNavigationClick(e),type:"button",class:(0,a.C4)(w.getClasses(e.class))},[(0,l.bF)(C,{icon:["fas",`${e.style}`],class:(0,a.C4)({"text-gray-500 mr-2":"icon-btn"===e.class,"text-white":"primary-btn"===e.class})},null,8,["icon","class"]),(0,l.Lk)("span",v,(0,a.v_)(e.name),1)],10,b)):(0,l.Q3)("",!0)],64))],64)))),128))])])])])}t(44114);var L=t(75220),w=t(52968),C=t(23264),P=t(93426),U={props:{navigation:{type:Array,default:()=>[]},pageTitle:{type:String,default:()=>null},subhead:{type:String,default:()=>null}},data(){const o=(0,L.lq)();return console.log("Translate",(0,P.Tl)("router-"+o.meta.parent+"-"+o.meta.key)),{PageName:(0,P.iX)(),PageIcon:o.meta.icon,PagePath:o.meta.path,ParentName:o.meta.parent,ParentPage:o.meta.page}},setup(){(0,w.K7)((0,P.iX)())},methods:{getClasses(o){const e=(0,C.c)(o);return`${e}`},handleNavigationClick(o){o.function?this.$emit(o.eventName||o.function):this.$router.push(o.link)}}},S=t(64621);const F=(0,S.A)(U,[["render",x]]);var B=F},23264:function(o,e,t){function l(o){switch(o){case"input-plaintext":return"pl-0 focus:outline-none focus:ring-0 shadow-none border-0";case"primary-btn":return"px-4 py-2 text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"icon-btn":return"px-4 py-2 text-gray-700 bg-transparent hover:bg-transparent hover:text-gray-800";case"default-btn":return"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"danger-btn":return"px-4 py-2 text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"success-btn":return"px-4 py-2 text-white bg-green-600 rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-50";default:return""}}t.d(e,{c:function(){return l}})}}]);
//# sourceMappingURL=7586.4bf7203f.js.map