"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[7631],{91879:function(t,e,s){s.r(e),s.d(e,{default:function(){return X}});var a=s(20641);function i(t,e,s,i,o,n){const l=(0,a.g2)("Add",!0);return this.login?((0,a.uX)(),(0,a.Wv)(l,{key:0})):(0,a.Q3)("",!0)}var o=s(52968),n=s(75220),l=(s(44114),s(90033));const c={key:0},d={class:"py-2 border-gray-800 bg-white"},r={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 xl:flex xl:items-center xl:justify-between"},m={class:"min-w-0 flex-1"},b={class:"text-xl font-bold leading-7 text-gray-700 sm:truncate sm:text-1xl sm:tracking-tight"},u={class:"mt-5 flex xl:mt-0 xl:ml-4"},x={class:"hidden sm:block"},g={class:"flex-1 bg-gray-100 pt-2 pb-5 border-t"},p={class:"mt-4"},h={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},v={class:"sm:px-6 lg:col-span-9 lg:px-0"},f={class:"tabs relative mb-6"},k={class:"flex"},y={class:"mr-1"},w={class:"mr-1"},L={class:"mr-1"},C={key:0,class:""},T={key:1,class:"tab-content"},A={key:2,class:"tab-content"};function F(t,e,s,i,o,n){const F=(0,a.g2)("font-awesome-icon"),P=(0,a.g2)("ExamForm");return o.loading_sources?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("header",d,[(0,a.Lk)("div",r,[(0,a.Lk)("div",m,[(0,a.Lk)("h1",b,[(0,a.bF)(F,{icon:["fas",o.PageIcon],class:"text-gray-500 text-[24px]"},null,8,["icon"]),(0,a.eW)(" "+(0,l.v_)(o.PageName),1)])]),(0,a.Lk)("div",u,[(0,a.Lk)("span",x,[(0,a.Lk)("button",{onClick:e[0]||(e[0]=e=>t.$router.push("/lesson/detail/"+this.history+"#contest")),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-50"},[(0,a.bF)(F,{icon:["fas","chevron-left"],class:"text-black text-[12px] mr-2"}),e[5]||(e[5]=(0,a.eW)(" ย้อนกลับ "))]),(0,a.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>n.saveData&&n.saveData(...t)),type:"button",class:"ml-3 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,a.bF)(F,{icon:["fas","save"],class:"text-white text-[12px] pt-[3px] mr-2"}),e[6]||(e[6]=(0,a.eW)(" บันทึกข้อมูล "))])])])])]),(0,a.Lk)("div",g,[(0,a.Lk)("div",p,[(0,a.Lk)("div",h,[(0,a.Lk)("div",v,[(0,a.Lk)("div",f,[(0,a.Lk)("ul",k,[(0,a.Lk)("li",y,[(0,a.Lk)("a",{onClick:e[2]||(e[2]=t=>n.setActiveTab("tab1")),class:(0,l.C4)(["inline-block py-3 px-6 text-md rounded-md",{"shadow bg-white text-blue-800":"tab1"===o.activeTab}])},e[7]||(e[7]=[(0,a.Lk)("i",{class:"fas fa-clipboard-list"},null,-1),(0,a.eW)(" สร้างแบบทดสอบ ")]),2)]),(0,a.Lk)("li",w,[(0,a.Lk)("a",{onClick:e[3]||(e[3]=t=>n.setActiveTab("tab2")),class:(0,l.C4)(["inline-block py-3 px-6 text-md rounded-md",{"shadow bg-white text-blue-800":"tab2"===o.activeTab}])},e[8]||(e[8]=[(0,a.Lk)("i",{class:"fas fa-question-circle"},null,-1),(0,a.eW)(" จัดการคำถาม ")]),2)]),(0,a.Lk)("li",L,[(0,a.Lk)("a",{onClick:e[4]||(e[4]=t=>n.setActiveTab("tab3")),class:(0,l.C4)(["inline-block py-3 px-6 text-md rounded-md",{"shadow bg-white text-blue-800":"tab3"===o.activeTab}])},e[9]||(e[9]=[(0,a.Lk)("i",{class:"fas fa-cogs"},null,-1),(0,a.eW)(" ตั้งค่าเพิ่มเติม ")]),2)])])]),"tab1"===o.activeTab?((0,a.uX)(),(0,a.CE)("div",C,[(0,a.bF)(P,{ref:"examFormComponent",mode:"add",course:o.course,history:o.history,onSubmit:n.handleSubmit,onCancel:n.handleCancel},null,8,["course","history","onSubmit","onCancel"])])):(0,a.Q3)("",!0),"tab2"===o.activeTab?((0,a.uX)(),(0,a.CE)("div",T,[(0,a.Lk)("section",{"aria-labelledby":"questions-heading",class:(0,l.C4)(["relative",[o.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},e[10]||(e[10]=[(0,a.Fv)('<div class="divide-y divide-gray-200 overflow-hidden bg-white mb-8 shadow rounded-md"><div class="px-4 py-5 sm:px-6"><h2 id="questions-heading" class="text-lg font-bold leading-6 text-gray-900">จัดการคำถาม</h2><p class="mt-1 text-sm text-gray-500">เพิ่ม แก้ไข และจัดการคำถามของแบบทดสอบ</p></div><div class="px-4 py-5 sm:p-6"><div class="text-center text-gray-500 py-8"><i class="fas fa-question-circle text-4xl mb-4"></i><p>ฟีเจอร์นี้จะเปิดใช้งานหลังจากสร้างแบบทดสอบเรียบร้อยแล้ว</p></div></div></div>',1)]),2)])):(0,a.Q3)("",!0),"tab3"===o.activeTab?((0,a.uX)(),(0,a.CE)("div",A,[(0,a.Lk)("section",{"aria-labelledby":"settings-heading",class:(0,l.C4)(["relative",[o.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},e[11]||(e[11]=[(0,a.Fv)('<div class="divide-y divide-gray-200 overflow-hidden bg-white mb-8 shadow rounded-md"><div class="px-4 py-5 sm:px-6"><h2 id="settings-heading" class="text-lg font-bold leading-6 text-gray-900">ตั้งค่าเพิ่มเติม</h2><p class="mt-1 text-sm text-gray-500">ตั้งค่าขั้นสูงสำหรับแบบทดสอบ</p></div><div class="px-4 py-5 sm:p-6"><div class="text-center text-gray-500 py-8"><i class="fas fa-cogs text-4xl mb-4"></i><p>ฟีเจอร์นี้จะเปิดใช้งานในเร็วๆ นี้</p></div></div></div>',1)]),2)])):(0,a.Q3)("",!0)])])])])])):(0,a.Q3)("",!0)}var P=s(40475),E=s(88198),S={name:"AddExam",data(){const t=(0,n.lq)();return{PageName:t.meta.title,PageIcon:t.meta.icon,PagePath:t.meta.path,ParentName:t.meta.parent,ParentPage:t.meta.page,dataItem:this.$route.params.id,history:this.$route.params.history,course:this.$route.params.id,login:P.A.get("session","login"),configs:P.A.get("configs"),activeBlock:!1,loading_sources:!0,activeTab:"tab1"}},components:{ExamForm:E.A},methods:{setActiveTab(t){this.activeTab=t},async handleSubmit(t){if(this.login)try{this.activeBlock=!0;const e=await fetch("https://gateway.cloudrestfulapi.com/api/exam",{method:"POST",headers:{"Content-Type":"application/json","client-token-key":this.configs.key},body:JSON.stringify({data:t,options:{}})});await e.json(),200===e.status&&(this.activeBlock=!1,window.location.href="/lesson/detail/"+this.history)}catch(e){console.log(e)}},handleCancel(){this.$router.push("/lesson/detail/"+this.history+"#contest")},saveData(){this.$refs.examFormComponent&&this.$refs.examFormComponent.handleSubmit()}}},W=s(64621);const $=(0,W.A)(S,[["render",F]]);var q=$,B={name:"Home",components:{Add:q},data(){return{login:P.A.get("session","login")}},methods:{},setup(){const t=(0,n.lq)(),e=t.meta.title;(0,o.K7)(e)}};const Q=(0,W.A)(B,[["render",i]]);var X=Q}}]);
//# sourceMappingURL=7631.7df7591b.js.map