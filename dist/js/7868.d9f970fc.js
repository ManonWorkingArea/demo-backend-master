(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[7868],{81899:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return ke}});var s=o(20641);function n(e,t,o,n,i,a){const r=(0,s.g2)("Detail",!0);return this.login?((0,s.uX)(),(0,s.Wv)(r,{key:0})):(0,s.Q3)("",!0)}var i=o(52968),a=o(75220),r=(o(44114),o(90033));const l={key:3,class:"text-center"},c={key:4},d={class:"mx-auto max-w-3xl px-4 mt-5 sm:px-6 md:flex md:items-center md:justify-between md:space-x-5 lg:max-w-7xl lg:px-8"},u={class:"flex items-center space-x-5"},g={class:"text-2xl font-bold text-gray-900"},p={class:"justify-stretch mt-6 flex flex-col-reverse space-y-4 space-y-reverse sm:flex-row-reverse sm:justify-end sm:space-y-0 sm:space-x-3 sm:space-x-reverse md:mt-0 md:flex-row md:space-x-3"},m={class:"mx-auto mt-8 grid max-w-3xl grid-cols-1 gap-6 sm:px-6 lg:max-w-7xl lg:grid-flow-col-dense lg:grid-cols-1"},h={class:"space-y-6 lg:col-span-2 lg:col-start-1"},f={"aria-labelledby":"notes-title"},y={class:"bg-white shadow sm:overflow-hidden sm:rounded-lg"},b={class:"divide-y divide-gray-200"},v={class:"px-4 py-5 sm:px-6 relative"},k={id:"notes-title",class:"text-lg font-bold text-gray-900"},w={class:"text-sm font-medium text-gray-500"},x={href:"#",class:"text-indigo-400"},C={href:"#",class:"text-indigo-400"},L={href:"#",class:"text-indigo-400"},F={class:"absolute top-4 right-4 ml-3 inline-flex items-center"},T={class:"px-4 py-6 sm:px-6"},S=["innerHTML"],O={class:"mx-auto mt-8 grid max-w-3xl grid-cols-1 gap-6 sm:px-6 lg:max-w-7xl lg:grid-flow-col-dense lg:grid-cols-2"},B={class:"space-y-6 lg:col-span-1 lg:col-start-1"},_={"aria-labelledby":"notes-title"},D={class:"bg-white shadow sm:overflow-hidden sm:rounded-lg"},j={class:"divide-y divide-gray-200"},A={class:"px-4 py-5 sm:px-6 relative"},W={id:"notes-title",class:"text-lg font-bold text-gray-900"},E={class:"text-sm font-medium bg-indigo-600 pl-2 pr-2 pt-1 pb-1 rounded text-white"},M={class:"absolute top-4 right-4"},R={class:"px-4 py-6 sm:px-6"},X={key:0},I={key:0,class:"relative"},U={class:"absolute text-white z-10 p-1 left-5"},z=["src"],P={ref:"videoStreaming",controls:"",crossorigin:"",playsinline:"",class:"w-full"},Q=["src"],K=["innerHTML"],N={class:"bg-white/80 p-3"},$={class:"space-y-6 lg:col-span-1 lg:col-start-2"},J={"aria-labelledby":"notes-title"},V={class:"bg-white shadow sm:overflow-hidden sm:rounded-lg"},Y={class:"divide-y divide-gray-200"},q={class:"px-4 py-5 sm:px-6 relative"},G={class:"absolute top-4 right-4"},H={class:"px-4 py-6 sm:px-6"},Z=["src"],ee={class:"bg-white/80 p-3"};function te(e,t,o,n,i,a){const te=(0,s.g2)("FileBrowser"),oe=(0,s.g2)("SetContentSource"),se=(0,s.g2)("Loader"),ne=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)(s.FK,null,[i.FileBrowserOpen?((0,s.uX)(),(0,s.Wv)(te,{key:0,isWindowsOpen:!0,allowFileType:["mp4"],callbackFunction:"video",onFileBrowserTrigger:a.changeFileTrigger,onFileBrowserCallback:a.selectFileTrigger},null,8,["onFileBrowserTrigger","onFileBrowserCallback"])):(0,s.Q3)("",!0),i.CoverBrowserOpen?((0,s.uX)(),(0,s.Wv)(te,{key:1,isWindowsOpen:!0,allowFileType:["jpg","png"],callbackFunction:"cover",onFileBrowserTrigger:a.changeCoverTrigger,onFileBrowserCallback:a.selectFileTrigger},null,8,["onFileBrowserTrigger","onFileBrowserCallback"])):(0,s.Q3)("",!0),i.SetContentSourceModal?((0,s.uX)(),(0,s.Wv)(oe,{key:2,isWindowsOpen:!0,setContentTriggerObj:this.setContentTriggerObj,contentType:this.contentType,contentOriginal:this.videoContent,onSetContentTrigger:a.SetContentTrigger,onSetContentEvent:a.SetContentSource},null,8,["setContentTriggerObj","contentType","contentOriginal","onSetContentTrigger","onSetContentEvent"])):(0,s.Q3)("",!0),i.loading_sources?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",l,[(0,s.bF)(se)])),i.loading_sources?((0,s.uX)(),(0,s.CE)("div",c,[(0,s.Lk)("div",d,[(0,s.Lk)("div",u,[(0,s.Lk)("div",null,[(0,s.Lk)("h1",g,(0,r.v_)(i.courseData.name),1),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.courseData.category,(e=>((0,s.uX)(),(0,s.CE)("a",{key:e.id,href:"#",class:"text-xs font-medium bg-indigo-600 pl-2 pr-2 pt-1 pb-1 mr-1 rounded text-white"},(0,r.v_)(this.objectFindByKey(this.categoryData,"slug",e).name),1)))),128))])]),(0,s.Lk)("div",p,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/lesson/detail/"+this.parentID)),type:"button",class:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-100"},[(0,s.bF)(ne,{icon:["fas","chevron-left"],class:"text-black text-[12px] mr-2"}),t[11]||(t[11]=(0,s.eW)(" ย้อนกลับ "))])])]),(0,s.Lk)("div",m,[(0,s.Lk)("div",h,[(0,s.Lk)("section",f,[(0,s.Lk)("div",y,[(0,s.Lk)("div",b,[(0,s.Lk)("div",v,[(0,s.Lk)("h2",k,"บทเรียน : "+(0,r.v_)(i.playerData.name),1),(0,s.Lk)("p",w,[t[12]||(t[12]=(0,s.eW)(" ประเภท ")),(0,s.Lk)("a",x,(0,r.v_)(i.playerData.type||"n/a"),1),t[13]||(t[13]=(0,s.Lk)("span",{class:"font-medium text-gray-200"},"|",-1)),t[14]||(t[14]=(0,s.eW)(" ความยาว ")),(0,s.Lk)("a",C,(0,r.v_)(i.playerData.duration||"n/a"),1),t[15]||(t[15]=(0,s.eW)(" นาที ")),t[16]||(t[16]=(0,s.Lk)("span",{class:"font-medium text-gray-200"},"|",-1)),t[17]||(t[17]=(0,s.eW)(" วิทยากร ")),(0,s.Lk)("a",L,(0,r.v_)(i.playerData.lecturer||"n/a"),1)]),(0,s.Lk)("div",F,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$router.push("/lesson/player/edit/"+this.dataItem)),type:"button",class:"mr-3 rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-100"},[(0,s.bF)(ne,{icon:["fas","edit"],class:"text-black pr-3"}),t[18]||(t[18]=(0,s.eW)(" แก้ไขข้อมูล "))]),(0,s.Lk)("button",{onClick:t[2]||(t[2]=e=>a.deletePlayer(this.dataItem)),type:"button",class:"rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-100"},[(0,s.bF)(ne,{icon:["fas","trash"],class:"text-black pr-3"}),t[19]||(t[19]=(0,s.eW)(" ลบบทเรียน "))])])]),(0,s.Lk)("div",T,[(0,s.Lk)("div",{innerHTML:i.playerData.description},null,8,S)])])])])])]),(0,s.Lk)("div",O,[(0,s.Lk)("div",B,[(0,s.Lk)("section",_,[(0,s.Lk)("div",D,[(0,s.Lk)("div",j,[(0,s.Lk)("div",A,[(0,s.Lk)("h2",W,[t[20]||(t[20]=(0,s.eW)("เนื้อหาบทเรียน ")),(0,s.Lk)("small",E,(0,r.v_)(this.typeName),1)]),(0,s.Lk)("span",M,[(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>a.removeVideo&&a.removeVideo(...e)),type:"button",class:"ml-3 inline-flex items-center rounded-md ounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-100"},[(0,s.bF)(ne,{icon:["fas","trash"],class:"text-gray-400"})]),"demand"==this.type?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[4]||(t[4]=(...e)=>a.OpenFileBrowser&&a.OpenFileBrowser(...e)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,s.bF)(ne,{icon:["fas","cloud-upload"],class:"text-gray-200 pr-3"}),t[21]||(t[21]=(0,s.eW)(" เลือกวีดีโอ "))])):(0,s.Q3)("",!0),"streaming"==this.type?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t[5]||(t[5]=e=>a.openSetContentSource(this.videoContent,"streaming")),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,s.bF)(ne,{icon:["fas","cloud-upload"],class:"text-gray-200 pr-3"}),t[22]||(t[22]=(0,s.eW)(" เลือกวีดีโอ "))])):(0,s.Q3)("",!0),"youtube"==this.type?((0,s.uX)(),(0,s.CE)("button",{key:2,onClick:t[6]||(t[6]=e=>a.openSetContentSource(this.videoContent,"youtube")),type:"button",class:"aml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,s.bF)(ne,{icon:["fas","cloud-upload"],class:"text-gray-200 pr-3"}),t[23]||(t[23]=(0,s.eW)(" เลือกวีดีโอ "))])):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",R,[void 0!=i.playerData.video?((0,s.uX)(),(0,s.CE)("figure",X,["streaming"==this.type||"demand"==this.type?((0,s.uX)(),(0,s.CE)("div",I,[(0,s.Lk)("div",U,[(0,s.Lk)("img",{src:i.playerLogo,alt:"",class:"w-24 lg:w-36 xs:w-10 sm:w-10"},null,8,z)]),(0,s.Lk)("video",P,[(0,s.Lk)("source",{src:this.videoContent},null,8,Q)],512)])):(0,s.Q3)("",!0),"youtube"==this.type?((0,s.uX)(),(0,s.CE)("div",{key:1,class:"w-full",innerHTML:this.videoContent},null,8,K)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),void 0===i.playerData.video?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t[7]||(t[7]=(...e)=>a.OpenFileBrowser&&a.OpenFileBrowser(...e)),type:"button",class:"relative bg-cover block w-full rounded-lg border-2 border-dashed border-gray-300 p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,s.Lk)("div",N,[(0,s.bF)(ne,{icon:["fas","cloud-upload"],class:"mx-auto h-12 w-12 text-black"}),t[24]||(t[24]=(0,s.Lk)("span",{class:"mt-2 block text-sm font-medium text-black"},"เลือกวีดีโอ",-1))])])):(0,s.Q3)("",!0)])])])])]),(0,s.Lk)("div",$,[(0,s.Lk)("section",J,[(0,s.Lk)("div",V,[(0,s.Lk)("div",Y,[(0,s.Lk)("div",q,[t[26]||(t[26]=(0,s.Lk)("h2",{id:"notes-title",class:"text-lg font-bold text-gray-900"},[(0,s.eW)("ภาพตัวอย่าง "),(0,s.Lk)("small",{class:"text-sm font-medium"},"(Thumbnail)")],-1)),(0,s.Lk)("span",G,[(0,s.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>a.removeCover&&a.removeCover(...e)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-100"},[(0,s.bF)(ne,{icon:["fas","trash"],class:"text-gray-400"})]),(0,s.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>a.OpenCoverBrowser&&a.OpenCoverBrowser(...e)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,s.bF)(ne,{icon:["fas","cloud-upload"],class:"text-gray-200 pr-3"}),t[25]||(t[25]=(0,s.eW)(" เลือกรูปหน้าปก "))])])]),(0,s.Lk)("div",H,[(0,s.Lk)("img",{src:this.cover,class:""},null,8,Z),void 0===this.cover?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[10]||(t[10]=(...e)=>a.OpenCoverBrowser&&a.OpenCoverBrowser(...e)),type:"button",class:"relative bg-cover block w-full rounded-lg border-2 border-dashed border-gray-300 p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,s.Lk)("div",ee,[(0,s.bF)(ne,{icon:["fas","cloud-upload"],class:"mx-auto h-12 w-12 text-black"}),t[27]||(t[27]=(0,s.Lk)("span",{class:"mt-2 block text-sm font-medium text-black"},"เลือกรูปหน้าปก",-1))])])):(0,s.Q3)("",!0)])])])])])])])):(0,s.Q3)("",!0)],64)}o(98992),o(3949),o(81454);var oe=o(87054),se=o(59911),ne=o.n(se),ie=o(75435),ae=o(40687),re=o(13955),le=o(40475),ce=o(64945),de=o(34330),ue=o.n(de),ge=o(95093),pe=o.n(ge);pe()().format();var me={data(){return{login:le.A.get("session","login"),courseData:[],playerData:[],examData:[],schoolAdmin:[],accessSession:[],playerType:[],dataItem:this.$route.params.id,accessToken:le.A.get("session","token"),selectFileCallback:"",cover:"",type:"",typeName:"",loading_sources:!0,selectSession:!1,FileBrowserOpen:!1,CoverBrowserOpen:!1,readMoreActivated:!1,contentType:"",SetContentSourceModal:!1,setContentTriggerObj:"",videoContent:"",parentID:"",longText:"",playerLogo:"",playerSource:"",playerPoster:"",playerOptions:{controls:["play-large","current-time","play","mute","volume","progress","settings","fullscreen"],settings:["quality","speed","loop"]}}},components:{Loader:ie.A,FileBrowser:ae.A,SetContentSource:re.A},computed:{categoryData(){const e=le.A.get("session","access"),t=e.category;return t}},methods:{objectFindByKey(e,t,o){for(var s=0;s<e.length;s++)if(e[s][t]===o)return e[s];return null},dateTime(e){return pe()(e).format("DD/MM/YYYY hh:mm:ss")},activateReadMore(){this.readMoreActivated=!0},unActivateReadMore(){this.readMoreActivated=!1},async getData(){if(this.login)try{this.loading_sources=!1;const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+this.dataItem,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),t=await e.json();if(console.log(t),t.success){this.playerData=t.data,this.parentID=t.data.courseId,this.type=t.data.type,this.cover=t.data.cover;const e=await this.getCourseData(this.parentID);console.log("courseReturn",e),e.success&&(void 0===this.playerData.video?(this.playerSource="",this.playerPoster="",this.playerLogo="https://fti.academy/theme/skin/vodi/assets/img/logo/color-logo.png"):(this.playerSource=this.playerData.video.desktop,this.playerPoster="https://vz-28af3134-886.b-cdn.net/24b5e108-1c7f-438d-8fde-8c49fa43a9c0/thumbnail.jpg",this.playerLogo="https://fti.academy/theme/skin/vodi/assets/img/logo/color-logo.png","demand"===t.data.type?this.videoContent=this.playerData.video.desktop:"streaming"===t.data.type?this.videoContent=this.playerData.video.streaming:"youtube"===t.data.type&&(this.videoContent=this.playerData.video.youtube)),this.courseData=e.data,this.loading_sources=!0,this.videoStreaming())}}catch(e){console.log(e)}},async getCourseData(e){if(this.login)try{this.loading_sources=!1;const t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/mcourses/"+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}});return await t.json()}catch(t){console.log(t)}},OpenFileBrowser(){this.FileBrowserOpen=!0},changeFileTrigger(e){this.FileBrowserOpen=e},OpenCoverBrowser(){this.CoverBrowserOpen=!0},changeCoverTrigger(e){this.CoverBrowserOpen=e},selectFileTrigger(e){console.log("callback",e.callback),void 0!=e&&(this.selectFileCallback=e,console.log("selectFileTrigger",e),"video"===e.callback?this.updataVideo(e.file):"cover"===e.callback&&(console.log("change cover"),this.updataCover(e.file)))},async updataVideo(e){if(this.login)try{const t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({video:{desktop:e,mobile:e}})}),o=await t.json();o.success&&window.location.reload()}catch(t){console.log(t)}},async updataCover(e){if(this.login)try{const t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({cover:e})}),o=await t.json();o.success&&(this.cover=e)}catch(t){console.log(t)}},openSetContentSource(e,t){this.setContentTriggerObj=e,this.contentType=t,this.SetContentSourceModal=!0},SetContentTrigger(e){this.SetContentSourceModal=e},async SetContentSource(e){if(console.log("payload",e),this.login)try{if("streaming"===this.contentType){const t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({video:{streaming:e.contentURL}})}),o=await t.json();console.log("SetContentSource"),o.success&&(this.SetContentSourceModal=!1,window.location.reload())}else if("youtube"===this.contentType){const t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({video:{youtube:e.contentURL}})}),o=await t.json();console.log("SetContentSource"),o.success&&(this.SetContentSourceModal=!1,window.location.reload())}}catch(t){console.log(t)}},async deletePlayer(e){if(this.login)try{console.log("id",e);const t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),o=await t.json();o.success&&(console.log(o),window.location.href="/lesson/detail/"+this.parentID)}catch(t){console.log(t)}},videoStreaming(){const e=this;var t=e.videoContent;const o=this.$refs.videoStreaming;let s=t.split(".").pop();console.log("tage url",t),console.log("tage video",o),console.log("extension video",s);const n={};if("mp4"===s){const e=new(ue())(o,n);e.on("timeupdate",(e=>{const t=e.detail.plyr;console.log(t)}))}else if("m3u8"===s)if(ce.Ay.isSupported()){const e=new ce.Ay;e.loadSource(t),e.on(ce.Ay.Events.MANIFEST_PARSED,(function(){const t=e.levels.map((e=>e.height));n.quality={default:t[0],options:t,forced:!0,onChange:e=>i(e)};const s=new(ue())(o,n);s.on("ready",(()=>{})),s.on("play",(()=>{console.log("Play")})),s.on("pause",(()=>{})),s.on("timeupdate",(()=>{})),s.on("ended",(()=>{})),s.on("progress",(()=>{}))})),e.attachMedia(o),window.hls=e}else{const e=new(ue())(o,n);e.on("timeupdate",(e=>{const t=e.detail.plyr;console.log(t)}))}function i(e){window.hls.levels.forEach(((t,o)=>{t.height===e&&(console.log("Found quality match with "+e),window.hls.currentLevel=o)}))}},changeSession(){this.selectSession=!0},updated(){ne().replace()},async removeVideo(){if(this.login)try{const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({video:{}})}),t=await e.json();t.success&&window.location.reload()}catch(e){console.log(e)}},async removeCover(){if(this.login)try{const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({cover:""})}),t=await e.json();t.success&&(this.cover="")}catch(e){console.log(e)}}},async mounted(){try{await this.getData();const e=le.A.get("session","access");this.accessSession=e.current,this.videoStreaming(),this.playerType=oe.OC,this.typeName=this.objectFindByKey(this.playerType,"code",this.type).name}catch(e){console.log(Error)}},setup(){}},he=o(64621);const fe=(0,he.A)(me,[["render",te]]);var ye=fe,be={name:"PlayerDetail",components:{Detail:ye},data(){return{login:le.A.get("session","login")}},methods:{},setup(){const e=(0,a.lq)(),t=e.meta.title;(0,i.K7)(t)}};const ve=(0,he.A)(be,[["render",n]]);var ke=ve},40687:function(e,t,o){"use strict";o.d(t,{A:function(){return f}});var s=o(20641),n=o(50953),i=o(90033),a=o(94232),r=o(10797),l=o(55372);const c={key:0,class:"fixed inset-0 overflow-y-auto"},d={class:"flex min-h-full items-center justify-center p-4 text-center"},u={class:"font-medium"},g={class:"bg-black w-8 h-8 right-2 top-2 leading-8 hover:bg-gray-500"},p={props:["isWindowsOpen","allowFileType","callbackFunction"],data(){return console.log("FileBrowser props:",this.isWindowsOpen,this.allowFileType,this.callbackFunction),{SessionList:[],loading_sources:!0,activeBlock:!1,schoolId:"",isOpen:this.isWindowsOpen,isAllow:this.allowFileType,isCallback:this.callbackFunction,mode:"popup"}},components:{FileManager:l.A},watch:{isWindowsOpen(e){console.log("isWindowsOpen changed to:",e),this.isOpen=e}},methods:{selectFileTrigger(e){this.selectFileTrigger=e,this.closeModal(),this.selectFile(e)},closeModal(){this.isOpen=!1,this.$emit("fileBrowserTrigger",!1)},selectFile(e){this.$emit("fileBrowserCallback",e)}},async mounted(){console.log("FileBrowser mounted with isOpen:",this.isOpen,"isWindowsOpen:",this.isWindowsOpen)},setup(){}};var m=Object.assign(p,{__name:"FileBrowser",setup(e){return(t,o)=>{const p=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.Wv)((0,n.R1)(a.O),{appear:"",show:t.isOpen,as:"template"},{default:(0,s.k6)((()=>[(0,s.bF)((0,n.R1)(r.lG),{as:"div",onClose:t.closeModal,class:"relative z-10"},{default:(0,s.k6)((()=>[(0,s.bF)((0,n.R1)(a._),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,s.k6)((()=>o[1]||(o[1]=[(0,s.Lk)("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)]))),_:1}),t.loading_sources?((0,s.uX)(),(0,s.CE)("div",c,[(0,s.Lk)("div",d,[(0,s.bF)((0,n.R1)(a._),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:(0,s.k6)((()=>[(0,s.bF)((0,n.R1)(r.Lj),{class:(0,i.C4)(["w-[60rem] z-40 transform overflow-hidden bg-white p-3 text-left align-middle shadow-xl transition-all blocking relative",[t.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},{default:(0,s.k6)((()=>[(0,s.bF)((0,n.R1)(r.L3),{as:"h3",class:"text-lg pb-2 font-bold leading-6 text-gray-900 border-b"},{default:(0,s.k6)((()=>[o[3]||(o[3]=(0,s.eW)("เลือกไฟล์ (Select File) ")),(0,s.Lk)("p",u,[o[2]||(o[2]=(0,s.eW)("อนุญาติเฉพาะไฟล์ ")),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.allowFileType,(e=>((0,s.uX)(),(0,s.CE)("span",{key:e.code,class:"text-xs font-medium bg-indigo-600 pl-2 pr-2 pt-1 mr-1 rounded text-white"},(0,i.v_)(e),1)))),128))]),(0,s.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>t.closeModal&&t.closeModal(...e)),type:"button",class:"z-50 absolute top-2 right-2"},[(0,s.Lk)("div",g,[(0,s.bF)(p,{icon:["fas","times"],class:"text-white mt-[7px] font-sm"})])])])),_:1}),(0,s.Lk)("div",null,[(0,s.bF)(l.A,{onSelectFileTrigger:t.selectFileTrigger,Mode:t.mode,AllowFile:t.isAllow,CallbackFunc:t.isCallback},null,8,["onSelectFileTrigger","Mode","AllowFile","CallbackFunc"])])])),_:1},8,["class"])])),_:1})])])):(0,s.Q3)("",!0)])),_:1},8,["onClose"])])),_:1},8,["show"])}}});const h=m;var f=h},13955:function(e,t,o){"use strict";o.d(t,{A:function(){return k}});var s=o(20641),n=o(50953),i=o(90033),a=o(53751),r=o(94232),l=o(10797);const c={class:"fixed inset-0 overflow-y-auto"},d={class:"flex min-h-full items-center justify-center p-4 text-center"},u={class:"text-gray-500"},g={class:"font-bold"},p={class:"mt-2 pb-4 border-b"},m=["value"],h=["value"],f={class:"mt-4"},y={data(){return{loading_sources:!0,activeBlock:!1,contentURL:"",contentType:"",contentOriginal:""}},components:{},methods:{setContentSource(){this.$emit("set-content-event",{contentURL:this.$refs.form.contentURL.value,contentOriginal:this.$refs.form.contentOriginal.value})},isLetterOrNumber(e){let t=String.fromCharCode(e.keyCode);if(/^[a-zA-Z0-9@#&().+_"-]*$/.test(t))return!0;e.preventDefault()}},async mounted(){},setup(){},watch:{contentURL(e){console.log(e);let t=e.replace(/[^\x20-\x7E]/g,"");console.log(t),this.contentURL=t}}};var b=Object.assign(y,{__name:"SetContentSource",props:{isWindowsOpen:Boolean,renameTriggerObj:String,contentType:String,contentOriginal:String},emits:["set-content-trigger","set-content-event"],setup(e,{emit:t}){const o=e,y=t,b=(0,n.KR)(o.isWindowsOpen),v=(0,n.KR)(o.renameTriggerObj),k=(0,n.KR)(o.contentType),w=(0,n.KR)(o.contentOriginal);function x(){b.value=!1,y("set-content-trigger",!1)}return y("set-content-trigger",!0),(e,t)=>{const o=(0,s.g2)("font-awesome-icon");return e.loading_sources?((0,s.uX)(),(0,s.Wv)((0,n.R1)(r.O),{key:0,appear:"",show:b.value,as:"template"},{default:(0,s.k6)((()=>[(0,s.bF)((0,n.R1)(l.lG),{as:"div",onClose:x,class:"relative z-10"},{default:(0,s.k6)((()=>[(0,s.bF)((0,n.R1)(r._),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,s.k6)((()=>t[2]||(t[2]=[(0,s.Lk)("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)]))),_:1}),(0,s.Lk)("div",c,[(0,s.Lk)("div",d,[(0,s.bF)((0,n.R1)(r._),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:(0,s.k6)((()=>[(0,s.bF)((0,n.R1)(l.Lj),{class:(0,i.C4)(["w-[40rem] transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all blocking relative",[e.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},{default:(0,s.k6)((()=>[(0,s.bF)((0,n.R1)(l.L3),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900 pb-4 border-b"},{default:(0,s.k6)((()=>[t[4]||(t[4]=(0,s.eW)("แก้ไขต้นฉบับเนื้อหา ")),t[5]||(t[5]=(0,s.Lk)("br",null,null,-1)),(0,s.Lk)("small",u,[t[3]||(t[3]=(0,s.eW)("ประเภท ")),(0,s.Lk)("span",g,(0,i.v_)(k.value),1)])])),_:1}),(0,s.Lk)("div",p,[(0,s.Lk)("form",{onSubmit:t[0]||(t[0]=(0,a.D$)(((...t)=>e.setContentSource&&e.setContentSource(...t)),["prevent"])),ref:"form"},[(0,s.Lk)("input",{type:"text",name:"contentURL",id:"contentURL",autocomplete:"contentURL",class:"mt-1 block w-full rounded-md py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm",value:w.value},null,8,m),(0,s.Lk)("input",{type:"hidden",name:"contentOriginal",id:"contentOriginal",autocomplete:"contentOriginal",class:"mt-1 block w-full rounded-md py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm",value:v.value},null,8,h)],544)]),(0,s.Lk)("div",f,[(0,s.Lk)("button",{type:"button",class:"w-50 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-md font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-100",onClick:x},[(0,s.bF)(o,{icon:["fas","times"],class:"text-black text-[12px] mr-2"}),t[6]||(t[6]=(0,s.eW)(" ยกเลิก "))]),(0,s.Lk)("button",{type:"button",class:"w-50 float-right inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-md font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",onClick:t[1]||(t[1]=(...t)=>e.setContentSource&&e.setContentSource(...t))},[(0,s.bF)(o,{icon:["fas","check"],class:"text-white text-[12px] mr-2"}),t[7]||(t[7]=(0,s.eW)(" เพิ่มเนื้อหา "))])])])),_:1},8,["class"])])),_:1})])])])),_:1})])),_:1},8,["show"])):(0,s.Q3)("",!0)}}});const v=b;var k=v},87054:function(e,t){t.OC=[{code:"demand",slug:"On-Demand",name:"ไฟล์วีดีโอ"},{code:"streaming",slug:"Streaming",name:"ลิงค์สตรีมมิ่ง"},{code:"live",slug:"live",name:"ไลฟ์"},{code:"youtube",slug:"Youtube",name:"Youtube"},{code:"document",slug:"Document",name:"เอกสาร"},{code:"exam",slug:"Exam",name:"แบบทดสอบ"},{code:"folder",slug:"Folder",name:"บทเรียนแบบกลุ่ม"}],t.Ac=[{code:"general",name:"ข้อสอบทั่วไป"},{code:"pre",name:"ข้อสอบก่อนเรียน"},{code:"post",name:"ข้อสอบหลังเรียน"}],t.Mq=[{code:"standard",name:"คอร์สธรรมดา",description:"คอร์สเรียนตามปกติ จำกัดการเรียนด้วยเงื่อนไข"},{code:"buffe",name:"คอร์สบุฟเฟต์",description:"เรียนได้ไม่จำกัดภายในเงื่อนไขที่กำหนด"},{code:"seminar",name:"คอร์สสัมนนา",description:"หลักสูตรสัมมนา"}],t.Vy=[{code:"step",name:"เรียนตามลำดับ",description:"ต้องเรียนให้จบเป็นลำดับไปทีละบท"},{code:"full",name:"เรียนได้ทั้งหมด",description:"สามารถเลือกเรียนได้เองทุกบท"},{code:"onsite",name:"อบรมในสสถานที่",description:"ฝึกอบรมในสถานที่"}],t.Up=[{code:"single",name:"หลักสูตรเดี่ยว (Single Course)",description:"เรียนแบบหลักสูตรเดี่ยว"},{code:"multiple",name:"หลักสูตรรวม (Multiple Course)",description:"เรียนแบบหลักสูตรรวม"}],t.fM=[{code:"e_learning",name:"หลักสูตร e-Learning",description:"ศูนย์รวมหลักสูตรออนไลน์"},{code:"onsite",name:"หลักสูตร Onsite",description:"ศูนย์รวมหลักสูตรสัมมนา"},{code:"public_course",name:"หลักสูตร Public Course",description:"รวมหลักสูตรที่เผนแพร่จากสาธารณะ"},{code:"online_course",name:"หลักสูตร Online Course",description:"งานอบรมผ่านการสัมมนาออนไลน์"},{code:"premium_course",name:"หลักสูตร Premium Course",description:"หลักสูตรพิเศษเฉพาะสำหรับสมาชิก"}],t.gd=[{code:"pre",name:"สำรองที่นั่ง",description:"สำรองที่นั่งล่วงหน้า"},{code:"free",name:"เรียนฟรี",description:"เรียนฟรีไม่มีเงื่อนไข"},{code:"paid",name:"จ่ายเงิน",description:"มีค่าใช้จ่ายในกาเรลงทะเบียน"}]}}]);
//# sourceMappingURL=7868.d9f970fc.js.map