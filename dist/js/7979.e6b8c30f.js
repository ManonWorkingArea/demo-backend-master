(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[7979],{17979:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return de}});var s=a(20641);function o(e,t,a,o,n,l){const i=(0,s.g2)("Edit",!0);return this.login?((0,s.uX)(),(0,s.Wv)(i,{key:0})):(0,s.Q3)("",!0)}var n=a(52968),l=a(75220),i=(a(44114),a(90033)),r=a(53751);const d={class:"py-2 border-gray-800"},c={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 xl:flex xl:items-center xl:justify-between"},u={class:"min-w-0 flex-1"},m={class:"mt-2 text-xl font-bold leading-7 text-gray-700 sm:truncate sm:text-1xl sm:tracking-tight"},p={class:"mt-5 flex xl:mt-0 xl:ml-4"},g={class:"hidden sm:block"},y={class:"flex-1 bg-gray-100 pt-2 pb-5 border-t"},f={class:"mt-8"},x={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},b={class:"space-y-6 sm:px-6 lg:col-span-9 lg:px-0"},h={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},k={class:"px-4 py-5 sm:p-6"},v={class:"grid grid-cols-4 gap-6"},L={class:"col-span-4 sm:col-span-4"},w={class:"mt-6 grid grid-cols-5 gap-6"},C={class:"col-span-4 sm:col-span-2"},D={class:"col-span-4 sm:col-span-2"},_={class:"col-span-4 sm:col-span-1"},E={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},I={class:"px-4 py-5 sm:px-6"},A={class:"mt-1 text-sm text-gray-500"},P={class:"px-4 py-5 sm:p-6"},T={class:"grid grid-cols-4 gap-6"},F={class:"col-span-4 sm:col-span-4"},V={class:""},X={class:"space-y-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-10"},U=["id","value"],W=["for"],B={class:"text-gray-500 font-medium"},O=["id","value"],j=["for"],K={class:"text-gray-500 font-medium"},M=["id"],S=["for"],$={class:"text-gray-500 font-medium"},J=["id","value"],N=["for"],Q={class:"text-gray-500 font-medium"},q={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},z={class:"px-4 py-5 sm:p-6"},H={class:"grid grid-cols-4 gap-6"},Y={class:"col-span-4 sm:col-span-6"},G={class:"bg-gray-50 px-4 py-4 sm:px-6 text-right"},R={type:"submit",class:"ml-3 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"};function Z(e,t,a,o,n,l){const Z=(0,s.g2)("font-awesome-icon"),ee=(0,s.g2)("MiniMCE");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("header",d,[(0,s.Lk)("div",c,[(0,s.Lk)("div",u,[(0,s.Lk)("h1",m,[(0,s.bF)(Z,{icon:["fas",n.PageIcon],class:"text-gray-500 text-[24px]"},null,8,["icon"]),(0,s.eW)(" "+(0,i.v_)(n.PageName),1)])]),(0,s.Lk)("div",p,[(0,s.Lk)("span",g,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/lesson/detail/"+this.parentID)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-50"},[(0,s.bF)(Z,{icon:["fas","home"],class:"text-black text-[12px] mr-2"}),t[13]||(t[13]=(0,s.eW)(" หลักสูตร "))]),(0,s.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$router.push("/lesson/player/detail/"+this.dataItem)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-50"},[(0,s.bF)(Z,{icon:["fas","chevron-left"],class:"text-black text-[12px] mr-2"}),t[14]||(t[14]=(0,s.eW)(" ย้อนกลับ "))])])])])]),(0,s.Lk)("div",y,[(0,s.Lk)("div",f,[(0,s.Lk)("div",x,[(0,s.Lk)("div",b,[(0,s.Lk)("form",{onSubmit:t[12]||(t[12]=(0,r.D$)(((...e)=>l.updataData&&l.updataData(...e)),["prevent"]))},[(0,s.Lk)("section",{"aria-labelledby":"payment-details-heading",class:(0,i.C4)(["relative",[n.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},[(0,s.Lk)("div",h,[t[19]||(t[19]=(0,s.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,s.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"ข้อมูลบทเรียน"),(0,s.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของบทเรียนให้ครบถ้วน")],-1)),(0,s.Lk)("div",k,[(0,s.Lk)("div",v,[(0,s.Lk)("div",L,[t[15]||(t[15]=(0,s.Lk)("label",{for:"name",class:"block text-base font-medium text-gray-900"},"ชื่อบทเรียน",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.name=e),type:"text",name:"name",id:"name",autocomplete:"name",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.name]])])]),(0,s.Lk)("div",w,[(0,s.Lk)("div",C,[t[16]||(t[16]=(0,s.Lk)("label",{for:"slug",class:"block text-base font-medium text-gray-900"},"รหัสบทเรียน",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.slug=e),type:"text",name:"slug",id:"slug",autocomplete:"slug",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.slug]])]),(0,s.Lk)("div",D,[t[17]||(t[17]=(0,s.Lk)("label",{for:"lecturer",class:"block text-base font-medium text-gray-900"},"วิทยากร",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>n.lecturer=e),type:"text",name:"lecturer",id:"lecturer",autocomplete:"lecturer",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.lecturer]])]),(0,s.Lk)("div",_,[t[18]||(t[18]=(0,s.Lk)("label",{for:"duration",class:"block text-base font-medium text-gray-900"},"ความยาว (นาที)",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>n.duration=e),type:"text",name:"duration",id:"duration",autocomplete:"duration",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[r.Jo,n.duration]])])])])]),(0,s.Lk)("div",E,[(0,s.Lk)("div",I,[t[20]||(t[20]=(0,s.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"ประเภทบทเรียน (Type)",-1)),(0,s.Lk)("p",A,"กรอกข้อมูลของบทเรียนให้ครบถ้วน - "+(0,i.v_)(n.playerData.mode),1)]),(0,s.Lk)("div",P,[(0,s.Lk)("div",T,[(0,s.Lk)("div",F,[(0,s.Lk)("fieldset",V,[(0,s.Lk)("div",X,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.playerType,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"flex items-center"},["sub"===n.playerData.mode&&"folder"!=e.code?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>n.type=e),id:e.code,value:e.code,type:"radio",class:"mt-[-20px] h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,U),[[r.XL,n.type]]),(0,s.Lk)("label",{for:e.code,class:"ml-3 block text-sm font-bold text-gray-700"},[(0,s.eW)((0,i.v_)(e.slug)+" ",1),(0,s.Lk)("p",B,(0,i.v_)(e.name),1)],8,W)],64)):(0,s.Q3)("",!0),"sub"!=n.playerData.mode&&"folder"===n.playerData.type&&"folder"===e.code?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>n.type=e),id:e.code,value:e.code,type:"radio",class:"mt-[-20px] h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,O),[[r.XL,n.type]]),(0,s.Lk)("label",{for:e.code,class:"ml-3 block text-sm font-bold text-gray-700"},[(0,s.eW)((0,i.v_)(e.slug)+" ",1),(0,s.Lk)("p",K,(0,i.v_)(e.name),1)],8,j)],64)):(0,s.Q3)("",!0),"sub"!=n.playerData.mode&&"folder"===n.playerData.type&&"folder"!=e.code?((0,s.uX)(),(0,s.CE)(s.FK,{key:2},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>n.type=e),id:e.code,type:"radio",class:"mt-[-20px] h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500 opacity-50",disabled:"",readonly:""},null,8,M),[[r.XL,n.type]]),(0,s.Lk)("label",{for:e.code,class:"ml-3 block text-sm font-bold text-gray-700"},[(0,s.eW)((0,i.v_)(e.slug)+" ",1),(0,s.Lk)("p",$,(0,i.v_)(e.name),1)],8,S)],64)):(0,s.Q3)("",!0),"sub"!=n.playerData.mode&&"folder"!=n.playerData.type?((0,s.uX)(),(0,s.CE)(s.FK,{key:3},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>n.type=e),id:e.code,value:e.code,type:"radio",class:"mt-[-20px] h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,J),[[r.XL,n.type]]),(0,s.Lk)("label",{for:e.code,class:"ml-3 block text-sm font-bold text-gray-700"},[(0,s.eW)((0,i.v_)(e.slug)+" ",1),(0,s.Lk)("p",Q,(0,i.v_)(e.name),1)],8,N)],64)):(0,s.Q3)("",!0)])))),128))])])])])])]),(0,s.Lk)("div",q,[t[22]||(t[22]=(0,s.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,s.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"คำอธิบาย"),(0,s.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของบทเรียนให้ครบถ้วน")],-1)),(0,s.Lk)("div",z,[(0,s.Lk)("div",H,[(0,s.Lk)("div",Y,[(0,s.bF)(ee,{modelValue:n.description,"onUpdate:modelValue":t[10]||(t[10]=e=>n.description=e),options:{}},null,8,["modelValue"])])])]),(0,s.Lk)("div",G,[(0,s.Lk)("button",{onClick:t[11]||(t[11]=t=>e.$router.push("/lesson/player/detail/"+this.dataItem)),type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," ยกเลิก "),(0,s.Lk)("button",R,[(0,s.bF)(Z,{icon:["fas","save"],class:"pr-2 pl-2"}),t[21]||(t[21]=(0,s.eW)("บันทึกข้อมูล "))])])])],2)],32)])])])])],64)}var ee=a(87054),te=a(40475),ae=a(35100),se=(a(4934),a(12983),{name:"EditPlayer",inject:["apiServer"],data(){const e=(0,l.lq)();return{PageName:e.meta.title,PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page,accessSession:[],playerType:[],name:"",slug:"",description:"",duration:"",lecturer:"",type:"",activeBlock:!1,playerData:[],loading_sources:!0,dataItem:this.$route.params.id,accessToken:te.A.get("session","token")}},components:{MiniMCE:ae.A},methods:{slugify(e){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();for(var t="àáãäâèéëêìíïîòóöôùúüûñç·/_,:;",a="aaaaaeeeeiiiioooouuuunc------",s=0,o=t.length;s<o;s++)e=e.replace(new RegExp(t.charAt(s),"g"),a.charAt(s));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),e},async getData(){if(te.A.get("session","login"))try{this.loading_sources=!1;const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+this.dataItem,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),t=await e.json();console.log(t),this.parentID=t.data.courseId,this.name=t.data.name,this.slug=t.data.slug,this.description=t.data.description,this.duration=t.data.duration,this.type=t.data.type,this.lecturer=t.data.lecturer,this.playerData=t.data,this.loading_sources=!0}catch(e){console.log(e)}},async updataData(){if(te.A.get("session","login"))try{const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({courseId:this.course,name:this.name,slug:this.slugify(this.slug),description:this.description,duration:this.duration,type:this.type,lecturer:this.lecturer})}),t=await e.json();t.success&&this.$swal({title:"บันทึกข้อมูลเรียบร้อยแล้ว ?",text:"คุณต้องการที่จะดำเนินการอย่างไร !",type:"success",showCancelButton:!0,confirmButtonColor:"#0054b4",confirmButtonText:"รายละเอียดเนื้อหา",cancelButtonText:"บทเรียนหลัก",closeOnConfirm:!1,closeOnCancel:!1}).then((e=>{e.isConfirmed?(console.log("Home"),window.location.href="/lesson/player/detail/"+this.dataItem):(console.log("New"),window.location.href="/lesson/detail/"+this.parentID)}))}catch(e){console.log(e)}}},setup(){},async mounted(){try{await this.getData();const e=te.A.get("session","access");this.accessSession=e.current,this.playerType=ee.OC}catch(e){console.log(Error)}}}),oe=a(64621);const ne=(0,oe.A)(se,[["render",Z]]);var le=ne,ie={name:"Home",components:{Edit:le},data(){return{login:te.A.get("session","login")}},methods:{},setup(){const e=(0,l.lq)(),t=e.meta.title;(0,n.K7)(t)}};const re=(0,oe.A)(ie,[["render",o]]);var de=re},87054:function(e,t){t.OC=[{code:"demand",slug:"On-Demand",name:"ไฟล์วีดีโอ"},{code:"streaming",slug:"Streaming",name:"ลิงค์สตรีมมิ่ง"},{code:"live",slug:"live",name:"ไลฟ์"},{code:"youtube",slug:"Youtube",name:"Youtube"},{code:"document",slug:"Document",name:"เอกสาร"},{code:"exam",slug:"Exam",name:"แบบทดสอบ"},{code:"folder",slug:"Folder",name:"บทเรียนแบบกลุ่ม"}],t.Ac=[{code:"general",name:"ข้อสอบทั่วไป"},{code:"pre",name:"ข้อสอบก่อนเรียน"},{code:"post",name:"ข้อสอบหลังเรียน"}],t.Mq=[{code:"standard",name:"คอร์สธรรมดา",description:"คอร์สเรียนตามปกติ จำกัดการเรียนด้วยเงื่อนไข"},{code:"buffe",name:"คอร์สบุฟเฟต์",description:"เรียนได้ไม่จำกัดภายในเงื่อนไขที่กำหนด"},{code:"seminar",name:"คอร์สสัมนนา",description:"หลักสูตรสัมมนา"}],t.Vy=[{code:"step",name:"เรียนตามลำดับ",description:"ต้องเรียนให้จบเป็นลำดับไปทีละบท"},{code:"full",name:"เรียนได้ทั้งหมด",description:"สามารถเลือกเรียนได้เองทุกบท"},{code:"onsite",name:"อบรมในสสถานที่",description:"ฝึกอบรมในสถานที่"}],t.Up=[{code:"single",name:"หลักสูตรเดี่ยว (Single Course)",description:"เรียนแบบหลักสูตรเดี่ยว"},{code:"multiple",name:"หลักสูตรรวม (Multiple Course)",description:"เรียนแบบหลักสูตรรวม"}],t.fM=[{code:"e_learning",name:"หลักสูตร e-Learning",description:"ศูนย์รวมหลักสูตรออนไลน์"},{code:"onsite",name:"หลักสูตร Onsite",description:"ศูนย์รวมหลักสูตรสัมมนา"},{code:"public_course",name:"หลักสูตร Public Course",description:"รวมหลักสูตรที่เผนแพร่จากสาธารณะ"},{code:"online_course",name:"หลักสูตร Online Course",description:"งานอบรมผ่านการสัมมนาออนไลน์"},{code:"premium_course",name:"หลักสูตร Premium Course",description:"หลักสูตรพิเศษเฉพาะสำหรับสมาชิก"}],t.gd=[{code:"pre",name:"สำรองที่นั่ง",description:"สำรองที่นั่งล่วงหน้า"},{code:"free",name:"เรียนฟรี",description:"เรียนฟรีไม่มีเงื่อนไข"},{code:"paid",name:"จ่ายเงิน",description:"มีค่าใช้จ่ายในกาเรลงทะเบียน"}]}}]);
//# sourceMappingURL=7979.e6b8c30f.js.map