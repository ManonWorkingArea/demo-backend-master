"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[799],{52781:function(e,t,s){s.d(t,{A:function(){return P}});s(44114);var a=s(20641),n=s(53751);const o={class:"flex-1 bg-gray-100 pt-2 pb-5 border-t"},i={class:"mt-8"},l={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},r={class:"space-y-6 sm:px-6 lg:col-span-9 lg:px-0"},c={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow"},d={class:"px-4 py-5 sm:p-6"},m={class:"grid grid-cols-4 gap-6"},u={class:"col-span-4 sm:col-span-2"},g={class:"col-span-4 sm:col-span-2"},p={class:"col-span-4 sm:col-span-6"},f={class:"bg-gray-50 px-4 py-4 sm:px-6 text-right"},h={type:"submit",class:"ml-3 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"};function x(e,t,s,x,k,b){const y=(0,a.g2)("PageHeader"),v=(0,a.g2)("font-awesome-icon");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(y),(0,a.Lk)("div",o,[(0,a.Lk)("div",i,[(0,a.Lk)("div",l,[(0,a.Lk)("div",r,[t[10]||(t[10]=(0,a.Lk)("div",{class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow"},[(0,a.Lk)("div",{class:"px-4 py-5 sm:px-6"}),(0,a.Lk)("div",{class:"px-4 py-5 sm:p-6"}),(0,a.Lk)("div",{class:"bg-gray-50 px-4 py-4 sm:px-6"})],-1)),(0,a.Lk)("div",c,[t[9]||(t[9]=(0,a.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,a.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"แก้ไขข้อมูล"),(0,a.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลด้้านล่างให้ครบถ้วน")],-1)),(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,n.D$)(((...e)=>b.updataData&&b.updataData(...e)),["prevent"]))},[(0,a.Lk)("div",d,[(0,a.Lk)("div",m,[(0,a.Lk)("div",u,[t[5]||(t[5]=(0,a.Lk)("label",{for:"name",class:"block text-base font-medium text-gray-900"},"ชื่อหมวดหมู่",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>k.name=e),type:"text",name:"name",id:"name",autocomplete:"name",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[n.Jo,k.name]])]),(0,a.Lk)("div",g,[t[6]||(t[6]=(0,a.Lk)("label",{for:"slug",class:"block text-base font-medium text-gray-900"},"รหัสหมวดหมู่",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>k.slug=e),type:"text",name:"slug",id:"slug",autocomplete:"slug",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[n.Jo,k.slug]])]),(0,a.Lk)("div",p,[t[7]||(t[7]=(0,a.Lk)("label",{for:"slug",class:"block text-base font-medium text-gray-900"},"คำอธิบาย",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>k.description=e),type:"text",name:"description",id:"description",autocomplete:"description",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[n.Jo,k.description]])])])]),(0,a.Lk)("div",f,[(0,a.Lk)("button",{onClick:t[3]||(t[3]=t=>e.$router.push("/config/"+this.PagePath)),type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," ยกเลิก "),(0,a.Lk)("button",h,[(0,a.bF)(v,{icon:["fas","save"],class:"pr-2 pl-2"}),t[8]||(t[8]=(0,a.eW)("บันทึกข้อมูล "))])])],32)])])])])])],64)}var k=s(95638),b=s(75220),y=s(40475),v={name:"ContactUs",inject:["apiServer"],data(){const e=(0,b.lq)();return{PageName:e.meta.title,PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page,Callback:e.meta.callback,name:"",slug:"",description:"",activeBlock:!1,loading_sources:!0,dataItem:this.$route.params.id,accessToken:y.A.get("session","token")}},components:{PageHeader:k.A},methods:{async getData(){if(y.A.get("session","login"))try{this.loading_sources=!1;const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/"+this.Callback+"/"+this.dataItem,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),t=await e.json();console.log(t),t.success&&(this.name=t.data.name,this.slug=t.data.slug,this.description=t.data.description,this.loading_sources=!0)}catch(e){console.log(e)}},async updataData(){if(y.A.get("session","login"))try{const e=y.A.get("session","token");let t=this.$route.params.id;const s=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/"+this.Callback+"/"+t,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e},body:JSON.stringify({name:this.name,slug:this.slug,description:this.description})}),a=await s.json();a.success&&this.$swal({title:"บันทึกข้อมูลเรียบร้อยแล้ว ?",text:"คุณต้องการที่จะดำเนินการอย่างไร !",type:"success",showCancelButton:!0,confirmButtonColor:"#0054b4",confirmButtonText:"กลับไปหน้าหลัก",cancelButtonText:"รีเฟรซหน้านี้",closeOnConfirm:!1,closeOnCancel:!1}).then((e=>{e.isConfirmed?(console.log("Home"),window.location.href="/config/"+this.PagePath):(console.log("New"),window.location.reload())}))}catch(e){console.log(e)}}},setup(){},async mounted(){try{await this.getData()}catch(e){console.log(Error)}}},L=s(64621);const w=(0,L.A)(v,[["render",x]]);var P=w},60799:function(e,t,s){s.r(t),s.d(t,{default:function(){return u}});var a=s(20641);function n(e,t,s,n,o,i){const l=(0,a.g2)("Admin");return this.login?((0,a.uX)(),(0,a.Wv)(l,{key:0})):(0,a.Q3)("",!0)}var o=s(52968),i=s(75220),l=s(52781),r=s(40475),c={name:"Home",components:{Admin:l.A},data(){return{login:r.A.get("session","login")}},methods:{showAlert(){this.$swal("Hello Vue world!!!")}},setup(){const e=(0,i.lq)(),t=e.meta.title;(0,o.K7)(t)}},d=s(64621);const m=(0,d.A)(c,[["render",n]]);var u=m},95638:function(e,t,s){s.d(t,{A:function(){return B}});s(44114);var a=s(20641),n=s(90033);const o={class:"flex-1 bg-white"},i={class:"pt-8"},l={class:"mx-auto px-6 sm:px-6 lg:px-6"},r={class:"sm:hidden","aria-label":"Back"},c={href:"#",class:"flex items-center text-sm font-medium text-gray-500 hover:text-gray-700"},d={class:"hidden sm:flex","aria-label":"Breadcrumb"},m={role:"list",class:"flex items-center space-x-4"},u={class:"flex"},g={href:"/",class:"text-sm font-medium text-gray-500 hover:text-gray-700"},p={class:"flex items-center"},f=["href"],h={class:"flex items-center"},x={class:"ml-4 text-sm font-medium text-gray-400"},k={class:"mt-2 md:flex md:items-center md:justify-between pb-5"},b={class:"min-w-0 flex-1"},y={class:"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight"},v={class:"mt-4 flex flex-shrink-0 md:mt-0 md:ml-4"};function L(e,t,s,L,w,P){const A=(0,a.g2)("font-awesome-icon");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("div",i,[(0,a.Lk)("div",l,[(0,a.Lk)("div",null,[(0,a.Lk)("div",null,[(0,a.Lk)("nav",r,[(0,a.Lk)("a",c,[(0,a.bF)(A,{icon:["fas","chevron-left"],class:"text-gray-200 mr-2"}),t[1]||(t[1]=(0,a.eW)(" Back "))])]),(0,a.Lk)("nav",d,[(0,a.Lk)("ol",m,[(0,a.Lk)("li",null,[(0,a.Lk)("div",u,[(0,a.Lk)("a",g,[(0,a.bF)(A,{icon:["fas","home"]})])])]),(0,a.Lk)("li",null,[(0,a.Lk)("div",p,[(0,a.bF)(A,{icon:["fas","chevron-right"],class:"text-gray-200"}),(0,a.Lk)("a",{href:"/"+w.ParentPage,class:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700"},(0,n.v_)(w.ParentName),9,f)])]),(0,a.Lk)("li",null,[(0,a.Lk)("div",h,[(0,a.bF)(A,{icon:["fas","chevron-right"],class:"text-gray-200"}),(0,a.Lk)("span",x,(0,n.v_)(w.PageName),1)])])])])]),(0,a.Lk)("div",k,[(0,a.Lk)("div",b,[(0,a.Lk)("h2",y,[(0,a.bF)(A,{icon:["fas",w.PageIcon],class:"text-gray-500 text-[24px]"},null,8,["icon"]),(0,a.eW)(" "+(0,n.v_)(w.PageName),1)])]),(0,a.Lk)("div",v,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/"+w.ParentPage+"/"+w.PagePath)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,a.bF)(A,{icon:["fas","chevron-left"],class:"text-gray-200 mr-2"}),t[2]||(t[2]=(0,a.eW)(" ย้อนกลับ"))])])])])])])])}var w=s(75220),P={name:"PageHeader",data(){const e=(0,w.lq)();return{PageName:e.meta.title,PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page}},components:{},methods:{},setup(){},mounted(){}},A=s(64621);const C=(0,A.A)(P,[["render",L]]);var B=C}}]);
//# sourceMappingURL=799.8e2da304.js.map