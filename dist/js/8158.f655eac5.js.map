{"version":3,"file":"js/8158.f655eac5.js","mappings":"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","sources":["webpack://node-backend/./src/extensions/modules/elearning/lesson/view/course/Payment.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/Payment.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/Payment.vue?3b4f","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/frontend/Payment.vue","webpack://node-backend/./src/extensions/modules/elearning/lesson/component/course/frontend/Payment.vue?a510","webpack://node-backend/./src/extensions/modules/elearning/lesson/view/course/Payment.vue?8d3c","webpack://node-backend/./src/plugins/DeviceUtils.js"],"sourcesContent":["<template>\n    <component :is=\"componentName\" />\n    </template>\n    \n    <script>\n    import { useTitle } from 'vue-page-title';\n    import { useRoute } from 'vue-router';\n    import storageManager from '@/plugins/storage';\n    import Backend from '../../component/course/Payment.vue';\n    import Frontend from '../../component/course/frontend/Payment.vue';\n    \n    export default {\n    name: 'Lesson Payment',\n    components: {\n        Backend,\n        Frontend,\n    },\n    data() {\n        return {\n            session: storageManager.get('session')\n        };\n    },\n    setup() {\n        const route = useRoute();\n        const routeName = route.meta.title;\n        useTitle(routeName);\n    },\n    computed: {\n        componentName() {\n            if (this.session.interface === 'backend') {\n                return 'Backend';\n            } else if (this.session.interface === 'frontend') {\n                return 'Frontend';\n            } else {\n                console.error('Invalid interface:', this.session.interface);\n                return null;\n            }\n        }\n    }\n    };\n    </script>\n        ","<template>\n    <div></div>\n  </template>\n  \n  <script setup>\n  </script>\n  \n  <style scoped>\n  </style>\n  ","import { render } from \"./Payment.vue?vue&type=template&id=80ba06f4\"\nconst script = {}\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\n\nimport html2canvas from 'html2canvas';\n\n//import {useTitle} \tfrom 'vue-page-title';\n//import {useRoute} \tfrom 'vue-router'\nimport storageManager from '@/plugins/storage';\nimport convertUtils from \"@/plugins/convertUtils\";\n//import Review from '@/utils/Review.vue';\nimport deviceUtils from \"@/plugins/DeviceUtils\";\n\nimport requestClient from '@/plugins/requestClient';\nconst Request = new requestClient(false);\n\nconst statusArray = [\n  { name: 'pending', label: 'รอเรียน', styleClass: 'bg-gray-300 text-gray-600', icon: 'hourglass-start' },\n  { name: 'processing', label: 'กำลังเรียน', styleClass: 'bg-yellow-300 text-yellow-800', icon: 'spinner' },\n  { name: 'complete', label: 'เรียนจบแล้ว', styleClass: 'bg-green-300 text-green-800', icon: 'check' },\n];\n\nexport default {\n\tname: 'Lesson Detail',\n\tcomponents: {\n\t},\n\tdata() {\n\t\treturn {\n            defaultCoverUrl: 'https://vue-project.sgp1.digitaloceanspaces.com/default-coverjpg.jpg',\n\n            uniqueVisitors: null,\n            pageViewsPerDay: null,\n            pageViewsPerWeek: null,\n            pageViewsPerMonth: null,\n            activeBlock: false,\n\n            login: storageManager.get('session','login'),\n            configs: storageManager.get('configs'),\n            session: storageManager.get('session'),\n            dataItem: this.$route.params.id,\n            enroll:storageManager.get('session','enroll'),\n            deviceType: deviceUtils.deviceDetect(),\n\n            lesson:[],\n            order:[],\n\n            paymentMethods: [\n                { code:'bill_payment', name: 'Bill Payment', description: 'ชำระผ่าน QR Code (อนุมัติ 1-2 วันทำการ)' },\n                { code:'transfer', name: 'Bank Transfer', description: 'โอนเงินเข้าบัญชีธนาคาร (อนุมัติ 2-4 วันทำการ)' },\n            ],\n            selectedPaymentMethod: 'bill_payment',\n            showCustomerData: false,\n\n            firstname:'',\n            lastname:'',\n            phone:'',\n            email:'',\n            address:'',\n            province:'',\n            zipcode:'',\n\n            limitItem:100,\n            limitOptions: [1,10, 50, 100, 200, 500, 1000, 2000, 3000, 4000], // Define the available options\n            currentPage: 1,\n            totalPages: 0,\n            totalItems: 0,\n            formattedData:[],\n\t\t}\n\t},\n\tmethods: {\n    async captureAndDownloadImage() {\n        const targetElement = document.getElementById('payment_slip');\n        if (!targetElement) {\n          console.error('Target element not found.');\n          return;\n        }\n\n        try {\n          // Wait for the QR code to render by delaying for 1 second\n          await new Promise(resolve => setTimeout(resolve, 1000));\n\n          // Capture the target element\n          const canvas = await html2canvas(targetElement);\n          const image = canvas.toDataURL('image/png');\n\n          // Create a temporary anchor element to trigger the download\n          const link = document.createElement('a');\n          link.href = image;\n          link.download = 'captured_image.png';\n          link.click();\n        } catch (error) {\n          console.error('Error capturing or downloading image:', error);\n        }\n      },\n        backCourse() {\n            this.$router.push('/user/profile');\n        },\n        formatThaidate(date) {\n            return convertUtils.toThaiDatetime(date,'short');\n        },\n        generateQRCodeUrl() {\n            if (this.order && this.order.price !== undefined && this.order.price !== null) {\n                const formattedPrice = String(this.order.price).padEnd(5, '0');\n                return `https://qrcode.tec-it.com/API/QRCode?data=%7c099300013225402%0a${this.order.ref1}%0a${this.order.ref2}%0a${formattedPrice}&backcolor=%23ffffff`;\n            } else {\n                return \"default_qr_code_url_here\";\n            }\n        },\n        selectPaymentMethod(index) {\n            this.selectedPaymentMethod = this.paymentMethods[index].name;\n        },\n        handleLoginSuccess() {\n            console.log(\"Login Success\");\n        },\n        getStatus(status) {\n            const statusObj = statusArray.find(item => item.name === status);\n            if (statusObj) {\n                return `<p class=\"inline-flex rounded-full px-2 text-xs font-semibold leading-5 capitalize ${statusObj.styleClass}\">\n                <i class=\"fa fa-${statusObj.icon} mr-1 mt-1\"></i>${statusObj.label}\n                </p>`;\n            }\n            return '';\n        },\n        checkExam(type) {\n            return this.exam.some(item => item.type === type);\n        },\n        formatSeconds(seconds) {\n            return convertUtils.secondsToTime(seconds);\n        },\n        formatPrice(regular,sale) {\n            return convertUtils.formatPrice(regular,sale);\n        },\n        finalPrice(regular, sale) {\n            const finalPrice = sale || regular; // Use 'sale' if it has data, otherwise use 'regular'\n            return finalPrice;\n        },\n        async getData() {\n            try {\n            this.loading_sources  = false;\n            \n            const resAPI      = await Request.GET(`order/${this.dataItem}`, this.configs.key);\n            const RestReturn  = resAPI.data;\n\n            if(resAPI.status===200) {\n              this.order     = RestReturn;\n              await this.getAllData();\n            }\n            } catch (error) {\n              console.log(error)  \n            }\n        },\n        async getAllData() {\n        try {\n            const andConditions = {\n                _id: this.dataItem, // Replace 'xxx' with the actual _id value you want to search for\n            };\n\n            const pipeline = [\n                {\n                    $match: andConditions,\n                },\n                {\n                  $set: {\n                    userID: { $toObjectId: \"$userID\" },\n                    courseID: { $toObjectId: \"$courseID\" },\n                  },\n                },\n                {\n                    $lookup: {\n                    from: \"user\",\n                    localField: \"userID\",\n                    foreignField: \"_id\",\n                    as: \"user\",\n                    },\n                },\n                {\n                  $unwind: \"$user\",\n                },\n                {\n                    $lookup: {\n                    from: \"course\",\n                    localField: \"courseID\",\n                    foreignField: \"_id\",\n                    as: \"course\",\n                    },\n                },\n                {\n                  $unwind: \"$course\",\n                },\n              {\n                $facet: {\n                  paginatedData: [\n                    { $skip: (1 - 1) * 1 },\n                    { $limit: 1 },\n                    {\n                      $project: {\n                        order: \"$$ROOT\",\n                        user: \"$user\",\n                        course: \"$course\",\n                      },\n                    },\n                  ],\n                  totalCount: [\n                    { $count: \"count\" },\n                  ],\n                },\n              },\n            ];\n\n            const resAPI = await Request.POST(`order/aggregate`, { pipeline }, this.configs.key);\n            const restReturn = resAPI.data;\n\n            if (restReturn) {\n                const paginatedData = restReturn[0].paginatedData[0];\n                const totalCount = restReturn[0].totalCount[0].count;\n\n                this.formattedData = {\n                    data: {\n                    order: paginatedData.order,\n                    course: paginatedData.course,\n                    user: paginatedData.user,\n                    },\n                    total: totalCount,\n                    paging: {\n                    page: this.currentPage,\n                    limit: this.limitItem,\n                    totalPages: Math.ceil(totalCount / this.limitItem),\n                    },\n                };\n\n                console.log(\"formattedData\", this.formattedData);\n            }\n\n        } catch (error) {\n          console.log(error);\n        } finally {\n          this.loading = false;\n          this.activeBlock = false;\n        }\n      },\n\t},\n    async mounted () {\n      try {\n        await this.getData();\n      } catch (error) {\n        console.log(Error);\n      }\n    },\n    setup() {\n    },\n    computed: {\n      loggedInComputed() {\n        const login = storageManager.get('session', 'login');\n        const enroll = storageManager.get('session', 'enroll');\n\n        if (login) {\n          return {\n            enrollAccess(courseId) {\n              if (!enroll || enroll.length === 0) {\n                return false;\n              }\n              const course = enroll.find(item => item.courseID === courseId);\n              return !!course;\n            }\n          };\n        } else {\n          return {\n            enrollAccess() {\n              return false;\n            }\n          };\n        }\n      },\n  },\n};\n</script>\n\n<template>\n\n  <div class=\"bg-gray-100\" v-if=\"formattedData && formattedData.data\"   id=\"payment_slip\">\n\n      <div class=\"bg-gray-100 py-6\">\n        <div class=\"mx-auto sm:w-2/6 w-full p-3 grid grid-cols-2 gap-4\">\n            <div class=\"col-span-1\">\n              <img src=\"https://vue-project.sgp1.digitaloceanspaces.com/Logo/color-logopng.png\" class=\"relative\" style=\"width: 120px;\">\n            </div>\n            <div class=\"col-span-1 pt-2 text-sm text-right\">\n                <strong>Code</strong> : {{order._id}}<br>\n                <strong>Date</strong> : {{ formatThaidate(formattedData.data.order.createdAt) }}\n            </div>\n            <!-- Add content for the right column here -->\n          </div>\n                  \n        <div class=\"mx-auto sm:w-2/6 w-full bg-white p-3 rounded-lg shadow-md relative\" :data-content=\"'กำลังติดต่อฐานข้อมูล กรุณารอสักครู่.....'\" :class=\"[(activeBlock?'isblock' : 'isunblock')]\">\n\n            <div class=\"flex pt-2 pb-2 justify-content-between align-items-center\">\n                <h2 class=\"text-xl font-semibold text-gray-800 mb-3\">\n                  <font-awesome-icon :icon=\"['fas', 'shopping-bag']\"/> ชำระเงิน\n                </h2>\n                <div v-if=\"formattedData.data.order\" class=\"mb-0 ml-auto\"><span class=\"p-1 pl-2 pr-2 text-sm rounded-md bg-indigo-600 text-white\">{{ formattedData.data.order.status }}</span></div>\n              </div>\n\n            <div class=\"rounded-md border border-gray-200\">\n                <div class=\"mb-2 p-3 border-b border-gray-200\">\n                    <h2 class=\"text-md font-bold text-indigo-800\">รายละเอียดการสั่งซื้อ</h2>\n                    <div class=\"flex justify-between pt-2 text-gray-900\">\n                        <dt class=\"text-sm\">\n                            <p v-if=\"formattedData.data.course\">{{ formattedData.data.course.name }}</p>\n                            <p class=\"text-gray-500 mt-1\" v-if=\"formattedData.data.order\"> {{ formatThaidate(formattedData.data.order.createdAt) }}</p>\n                            </dt>\n                    </div>\n                </div>\n\n                <div class=\"mb-2 p-3 border-b border-gray-200\">\n                    <h2 class=\"text-md font-bold text-indigo-800\">ผู้สั่งซื้อ</h2>\n                    <div class=\"flex justify-between pt-2 text-gray-900\">\n                        <dt class=\"text-sm\">\n                            <p v-if=\"formattedData.data.user\">{{ formattedData.data.user.firstname }} {{ formattedData.data.user.lastname }}</p>\n                            <p v-if=\"formattedData.data.user\">{{ formattedData.data.user.phone }} {{ formattedData.data.user.email }}</p>\n                        </dt>\n                    </div>\n                </div>\n                \n                <div class=\"mb-2 p-3 border-b border-gray-200\">\n                    <h2 class=\"text-md font-bold text-indigo-800\">ข้อมูลการชำระเงิน</h2>\n                    <div class=\"flex justify-between pt-2 text-gray-600\">\n                        <dt class=\"text-sm\">Ref1 : <span class=\"font-bold\">{{order.ref1}}</span></dt>\n                    </div>\n                    <div class=\"flex justify-between text-gray-600\">\n                        <dt class=\"text-sm\">Ref2 : <span class=\"font-bold\">{{order.ref2}}</span></dt>\n                    </div>\n                </div>\n\n                <div class=\"mb-2 p-3 pt-1 border-b border-gray-200\">\n                    <div class=\"\">\n                        <div class=\"flex justify-between text-gray-900\">\n                            <dt class=\"text-base\">ยอดชำระรวม</dt>\n                            <dd class=\"text-base font-bold\">{{order.price}} ฿</dd>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"mb-2 p-3 border-b border-gray-200\">\n                    <div class=\"flex items-center justify-center mb-4\">\n                        <img v-if=\"this.formattedData\" :src=\"generateQRCodeUrl()\" alt=\"QR Code\" class=\"w-32 h-32\">\n                    </div>\n                </div>\n\n                <div class=\"mb-2 p-3\">\n                    <h2 class=\"text-md font-bold text-indigo-800\">ช่องทางการชำระเงิน</h2>\n                \n                    <div class=\"space-y-2\">\n                        <span class=\"text-red-500 font-bold block\">กรุณาส่งหลักฐานการชำระเงินมาที่ @doacer</span>\n                        <span class=\"text-red-500 block pb-5\">ห้ามนำ QR Code ของผู้อื่นมาชำระเงิน</span>\n                        <span class=\"text-gray-600\">\n                        - ชำระเงินผ่านตู้ ATM,Mobile application ด้วยวิธีการสแกน QR Code จากใบแจ้งชำระเงิน ที่พิมพ์ออกมาหรือที่ปรากฏในจออุปกรณ์ที่ใช้งานเท่านั้น<br>\n                        - กรุณาเก็บหลักฐานการชำระเงิน (Slip) เอาไว้สำหรับใช้อ้างอิง ในกรณีที่เกิดปัญหาในการตรวจสอบข้อมูล<br>\n                        - ใช้เวลาในการตรวจสอบยอดการชำระประมาณ 2 วันทำการ ระบบจะแจ้งเตือนอีกครั้งเมื่อการชำระเงินได้รับการอนุมัติ<br>\n                        </span>\n                    </div>\n                </div>\n\n                <div class=\"mt-2 mb-2 pt-2 text-center border-t border-gray-200\">\n                  <!-- <button @click=\"captureAndDownloadImage\" class=\"mr-2 bg-black hover:bg-gray-700 text-white py-3 px-6 rounded-md font-semibold focus:outline-none focus:ring focus:border-indigo-700\"><font-awesome-icon :icon=\"['fas', 'download']\"/>ดาวน์โหลดข้อมูลการชำระเงิน</button> -->\n                    <button\n                    @click=\"backCourse\"\n                    class=\"bg-black hover:bg-gray-700 text-white py-3 px-6 rounded-md font-semibold focus:outline-none focus:ring focus:border-indigo-700\"\n                    >\n                    <font-awesome-icon :icon=\"['fas', 'check-circle']\"/> ย้อนกลับ\n                    </button>\n                </div>\n            \n            </div>\n          \n\n        </div>\n      </div>\n    \n    </div>\n</template>\n\n<style>\n.title {\nfont-family: \"Quicksand\", \"Source Sans Pro\", -apple-system, BlinkMacSystemFont,\n    \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;\ndisplay: block;\nfont-weight: 400;\nfont-size: 100px;\ncolor: #2E495E;\nletter-spacing: 1px;\nfont-size: 6em;\n}\n.green {\ncolor: #00C48D;\n}\n\n.subtitle {\nfont-weight: 300;\nfont-size: 3em;\ncolor: #2E495E;\nword-spacing: 5px;\npadding-bottom: 15px;\n}\n\n.links {\npadding-top: 15px;\n}\n\n:root {\n--plyr-color-main: #ff0000; /* use --color-btn-primary for NBC Theme */\n}\n\n.plyr--video {\nborder-radius: 10px;\n}\n\na.block {\n  position: relative;\n}\n\na.block::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 20px;\n  height: 20px;\n}\n\na.block::before.not-available {\n  content: \"Not Available\";\n  font-size: 14px;\n  text-align: center;\n  background-color: #ccc;\n  color: #fff;\n  padding: 4px;\n  border-radius: 4px;\n}\n\na.block::before.play {\n  content: \"►\";\n  font-size: 20px;\n  color: #000;\n}\n\n</style>","import { render } from \"./Payment.vue?vue&type=template&id=070a921f\"\nimport script from \"./Payment.vue?vue&type=script&lang=js\"\nexport * from \"./Payment.vue?vue&type=script&lang=js\"\n\nimport \"./Payment.vue?vue&type=style&index=0&id=070a921f&lang=css\"\n\nimport exportComponent from \"../../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Payment.vue?vue&type=template&id=5b3281f5\"\nimport script from \"./Payment.vue?vue&type=script&lang=js\"\nexport * from \"./Payment.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","class DeviceUtils {\n  isMobile() {\n    return window.innerWidth <= 768;\n  }\n\n  deviceDetect() {\n    return this.isMobile() ? 'mobile' : 'desktop';\n  }\n}\n\nconst deviceUtils = new DeviceUtils();\nexport default deviceUtils;\n"],"names":["_createBlock","_resolveDynamicComponent","$options","componentName","_createElementBlock","script","__exports__","key","class","id","$data","formattedData","data","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","src","style","_hoisted_4","_createTextVNode","_toDisplayString","order","_id","formatThaidate","createdAt","_normalizeClass","activeBlock","_hoisted_5","_hoisted_6","_createVNode","_component_font_awesome_icon","icon","_hoisted_7","_hoisted_8","status","_createCommentVNode","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","course","_hoisted_13","name","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","user","_hoisted_18","firstname","lastname","_hoisted_19","phone","email","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","ref1","_hoisted_24","_hoisted_25","_hoisted_26","ref2","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","price","_hoisted_31","_hoisted_32","generateQRCodeUrl","alt","_hoisted_33","_createStaticVNode","_hoisted_34","onClick","_cache","args","backCourse","Request","requestClient","statusArray","label","styleClass","components","defaultCoverUrl","uniqueVisitors","pageViewsPerDay","pageViewsPerWeek","pageViewsPerMonth","login","storageManager","get","configs","session","dataItem","this","$route","params","enroll","deviceType","deviceUtils","deviceDetect","lesson","paymentMethods","code","description","selectedPaymentMethod","showCustomerData","address","province","zipcode","limitItem","limitOptions","currentPage","totalPages","totalItems","methods","captureAndDownloadImage","targetElement","document","getElementById","Promise","resolve","setTimeout","canvas","html2canvas","image","toDataURL","link","createElement","href","download","click","error","console","$router","push","date","convertUtils","toThaiDatetime","undefined","formattedPrice","String","padEnd","selectPaymentMethod","index","handleLoginSuccess","log","getStatus","statusObj","find","item","checkExam","type","exam","some","formatSeconds","seconds","secondsToTime","formatPrice","regular","sale","finalPrice","getData","loading_sources","resAPI","GET","RestReturn","getAllData","andConditions","pipeline","$match","$set","userID","$toObjectId","courseID","$lookup","from","localField","foreignField","as","$unwind","$facet","paginatedData","$skip","$limit","$project","totalCount","$count","POST","restReturn","count","total","paging","page","limit","Math","ceil","loading","mounted","Error","setup","computed","loggedInComputed","enrollAccess","courseId","length","Backend","Frontend","route","useRoute","routeName","meta","title","useTitle","interface","render","DeviceUtils","isMobile","window","innerWidth"],"sourceRoot":""}