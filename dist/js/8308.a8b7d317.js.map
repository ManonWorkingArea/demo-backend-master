{"version":3,"file":"js/8308.a8b7d317.js","mappings":"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","sources":["webpack://node-backend/./src/extensions/modules/elearning/school/view/unit/Unit.vue","webpack://node-backend/./src/extensions/modules/elearning/school/component/unit/Unit.vue","webpack://node-backend/./src/extensions/modules/elearning/school/component/unit/Unit.vue?c585","webpack://node-backend/./src/extensions/modules/elearning/school/view/unit/Unit.vue?cb9f","webpack://node-backend/./src/interface/template/outline/Breadcrumbs.vue","webpack://node-backend/./src/interface/template/outline/Breadcrumbs.vue?411a","webpack://node-backend/./src/utils/authen.vue","webpack://node-backend/./src/utils/authen.vue?6a92"],"sourcesContent":["<script>\nimport {useTitle} \tfrom 'vue-page-title';\nimport {useRoute} \tfrom 'vue-router'\nimport Dashboard \tfrom '../../component/unit/Unit.vue';\nimport Authen \t\tfrom '@/utils/authen.vue';\nimport storageManager from '@/plugins/storage';\n\nexport default {\n\tname: 'Home',\n\tcomponents: {\n\t\tDashboard,\n\t\tAuthen\n\t},\n\tdata() { return { login: storageManager.get('session','login') } },\n\tmethods: {},\n\tmounted() {},\n\tsetup() {\n        const route     = useRoute();\n        const routeName = route.meta.title;\n        useTitle(routeName);\n\t\tconsole.log(\"Dashboard\");\n    },\n};\n</script>\n\n<template>\n<Authen/> \n<Dashboard v-if=\"this.login\"/> \n</template>","<script>\n\n// Component\nimport feather from 'feather-icons';\nimport Loader from '@/interface/template/Loader.vue';\nimport Breadcrumbs from '@/interface/template/outline/Breadcrumbs.vue';\nimport storageManager from '@/plugins/storage';\n\nexport default {\n    inject: ['apiServer'],\n    data() {\n      return {\n        hostkey:this.$Key,\n        accessToken: storageManager.get('session','token'),\n        configs: storageManager.get('configs'),\n        listItems: [],\n        loading_sources: true,\n      }\n    },\n    components: {\n      Loader,\n      Breadcrumbs\n    },\n    methods: {\n      async getData() {\n        if(storageManager.get('session','login')) {\n          try {\n            this.loading_sources = false;\n\n            const resAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/hostname/query\", {\n              method: 'POST',\n              headers: {'Content-Type': 'application/json','client-token-key':this.hostkey},\n              body: JSON.stringify({\n                method: 'find',\n                args: [\n                  {\n                    $and: [\n                      { siteType: 'unit' },\n                      { parent: this.configs.siteID }\n                    ]\n                  }\n                ]\n              })\n            });\n\n            const RestReturn   = await resAPI.json();\n            console.log(RestReturn);\n\n            this.listItems        = RestReturn;\n            this.loading_sources  = true;\n\n          } catch (error) {\n            console.log(error)\n          }\n        }\n      },\n      async deleteData(id) {\n        if(storageManager.get('session','login')) {\n          try {\n            this.loading_sources = false;\n            console.log(\"id\",id)\n            const resAPI = await fetch(\"https://asia-southeast2-elearning-6871c.cloudfunctions.net/schools/\" + id, {\n              method: 'DELETE',\n              headers: {'Content-Type': 'application/json','Authorization': 'Bearer ' + this.accessToken},\n            });\n            console.log(await resAPI);\n            this.loading_sources = true;\n            await this.getData();\n\n          } catch (error) {\n            console.log(error)\n          }\n        }\n      },\n      updated() {\n        feather.replace();\n      },\n    },\n    async mounted () {\n      try {\n        await this.getData();\n      } catch (error) {\n        console.log(Error);\n      }\n    },\n    setup() {\n      //console.log(\"Setup\");\n    },\n};\n</script>\n\n<template>\n\n  <div v-if=\"!loading_sources\" class=\"text-center\"><Loader/></div>\n\n  <breadcrumbs v-if=\"loading_sources\"\n  :navigation=\"\n  [\n    {\n      name: 'เพิ่ม Asset',\n      link: '/school/add',\n      style: 'plus'\n    }\n  ]\"\n  /> \n\n  <div class=\"flex-1 pb-8 bg-gray-100 pt-2 pb-5 border-t\" v-if=\"loading_sources\">\n    <div class=\"mt-8\">\n      <div class=\"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6\">\n\n        <div class=\"mt-8 flex flex-col\">\n          <div class=\"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8\">\n            <div class=\"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8\">\n\n              <div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n                \n                <div v-for=\"(asset) in listItems\" :key=\"asset._id\" class=\"bg-white rounded-lg shadow-md overflow-hidden\">\n                  <img class=\"w-full h-48 object-cover\" :src=\"asset.loginBg ? asset.loginBg : 'https://picsum.photos/seed/picsum/200/300'\" alt=\"Placeholder image\">\n                  <div class=\"p-4\">\n                    <a :href=\"'/school/detail/'+asset._id\" class=\"font-bold text-gray-600 hover:underline\">{{ asset.siteName }}</a>\n                    <p class=\"text-sm text-gray-400\"><font-awesome-icon :icon=\"['fas','globe']\" class=\"text-black mt-[3px] mr-1 text-md\"/> {{ asset.hostname }}</p>\n                  </div>\n                  <div class=\"bg-gray-100 border-t-2 border-gray-200 py-2 px-4 flex justify-between items-center\">\n                    <a href=\"javascript:void(0);\" @click=\"$router.push('/school/edit/'+ asset._id)\" class=\"text-gray-900 hover:text-gray-500 text-md font-medium\">\n                      <font-awesome-icon :icon=\"['fas','square-pen']\" class=\"text-black mt-[3px] mr-2 text-md\"/>\n                      <span>แก้ไข</span>\n                    </a>\n\n                    <a href=\"javascript:void(0);\" @click=\"$router.push('/school/admin/'+ asset._id)\" class=\"text-gray-900 hover:text-gray-500 text-md font-medium\">\n                      <font-awesome-icon :icon=\"['fas','user-tie']\" class=\"text-black mt-[3px] mr-2 text-md\"/>\n                      <span>ผู้ดูแล</span>\n                    </a>\n\n                    <a href=\"#\" class=\"text-gray-900 hover:text-gray-500 text-md font-medium\">\n                      <font-awesome-icon :icon=\"['fas','trash-can']\" class=\"text-black mt-[3px] mr-2 text-md\"/>\n                      <span>ลบ</span>\n                    </a>\n                  </div>\n                </div>\n\n                <a :href=\"'/school/add'\" class=\"bg-white p-10 rounded-lg shadow-md overflow-hidden flex flex-col items-center justify-center cursor-pointer p-10\">\n                  <div class=\"w-12 h-12 rounded-full bg-blue-500 text-white flex items-center justify-center hover:opacity-70\">\n                    <font-awesome-icon :icon=\"['fas','plus']\" class=\"text-3xl\"/>\n                  </div>\n                  <p class=\"text-gray-500 mt-2 text-center\">Add School</p>\n                </a>\n                \n              </div>\n              \n            </div>\n          </div>\n        </div>\n\n\n    </div>\n  </div>\n</div>\n</template>","import { render } from \"./Unit.vue?vue&type=template&id=5b0f1644\"\nimport script from \"./Unit.vue?vue&type=script&lang=js\"\nexport * from \"./Unit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Unit.vue?vue&type=template&id=f4de3a0e\"\nimport script from \"./Unit.vue?vue&type=script&lang=js\"\nexport * from \"./Unit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <div class=\"flex-1 bg-white\">\n      <div class=\"pt-4\">\n        <div class=\"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6\">\n          <div>\n            <div>\n              <nav class=\"hidden sm:flex\" aria-label=\"Breadcrumb\">\n                <ol role=\"list\" class=\"flex items-center space-x-4\">\n                  <li>\n                    <div class=\"flex\">\n                      <a href=\"/\" class=\"text-sm font-medium text-gray-500 hover:text-gray-700\">\n                        <font-awesome-icon :icon=\"['fas','home']\" />\n                      </a>\n                    </div>\n                  </li>\n                  <li v-if=\"$route.matched.length > 1\">\n                    <div class=\"flex items-center\">\n                      <font-awesome-icon :icon=\"['fas','chevron-right']\" class=\"text-gray-200\"/>\n                      <a :href=\"'/' + this.ParentPage\" class=\"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700\">{{ this.ParentName }}</a>\n                    </div>\n                  </li>\n                  <li>\n                    <div class=\"flex items-center\">\n                      <font-awesome-icon :icon=\"['fas','chevron-right']\" class=\"text-gray-200\"/>\n                      <span class=\"ml-4 text-sm font-medium text-gray-400\">{{ this.PageName }}</span>\n                    </div>\n                  </li>\n                </ol>\n              </nav>\n            </div>\n            <div class=\"mt-2 md:flex md:items-center md:justify-between pb-3\">\n              <div class=\"min-w-0 flex-1\">\n                <h2 class=\"text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-2xl sm:tracking-tight\"><font-awesome-icon :icon=\"['fas',`${this.PageIcon}`]\" class=\"text-gray-500 text-[18px]\"/> {{ this.PageName }}</h2>\n              </div>\n                <div class=\"mt-4 flex flex-shrink-0 md:mt-0 md:ml-4\">\n                  <button\n                    v-for=\"(button, index) in navigation\"\n                    :key=\"index\"\n                    @click=\"$router.push(button.link)\"\n                    type=\"button\"\n                    class=\"ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\n                  >\n                    <font-awesome-icon :icon=\"['fas', `${button.style}`]\" class=\"text-gray-200 mr-2\" />\n                    {{ button.name }}\n                  </button>\n                </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </template>\n\n  <script>\n    import {useRoute} \tfrom 'vue-router'\n    export default {\n        data() {\n            const route = useRoute();\n            return {\n                PageName: route.meta.title,\n                PageIcon: route.meta.icon,\n                PagePath: route.meta.path,\n                ParentName: route.meta.parent,\n                ParentPage: route.meta.page,\n            }\n        },\n        components: {\n        },\n        props: {\n          navigation: {\n            type: Array,\n            default: () => []\n          }\n        }\n    }\n</script>\n","import { render } from \"./Breadcrumbs.vue?vue&type=template&id=4ed053f0\"\nimport script from \"./Breadcrumbs.vue?vue&type=script&lang=js\"\nexport * from \"./Breadcrumbs.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport {useRoute} from 'vue-router';\nimport debug from '@/plugins/Logger.js';\nimport storageManager from '../plugins/storage.js';\n\nexport default {\n\tname: 'Authen',\n    data() {\n      return {\n        configs: storageManager.get('configs'),\n        session: storageManager.get('session'),\n      };\n    },\n    created() {\n        debug.option(this.$route);\n    },\n    computed: {\n    },\n\tcomponents: {\n\t},\n\tmounted() {\n    this.checkAuth();\n\t},\n\tupdated() {\n\t},\n\tmethods: {\n        async checkAuth()\n        {\n            const route      = useRoute();\n            const pageAuth   = route.meta.auth;\n            const page       = route.name;\n\n            const session \t\t= storageManager.get('session');\n            let accessToken     = session.token;\n            let hasLogin        = session.login;\n            let activeSchool    = session.current;\n\n            debug.log(\"hasLogin\",hasLogin)\n            debug.log(\"Page -> Auth:\",pageAuth)\n            debug.log(\"User -> Token:\",accessToken)\n            debug.log(\"User -> Login:\",hasLogin)\n\n            if(this.session.interface===\"frontend\")\n            {\n                debug.log(\"Front-End\");\n            }\n            else if(this.session.interface===\"backend\")\n            {\n                debug.log(\"Back-End\");\n                if(hasLogin) {// ถ้าเข้าสู๋ระบบแล้ว\n                    if (page==\"Login\" || activeSchool==undefined) { // ห้ามเข้าสู่ระบบซ้ำ || ยังไม่ได้เลือกโรงเรียน\n                        debug.log(\"Not Login Again\");\n                        this.$router.replace({path: '/'});\n                    } else {// เลือกโรงเรียนแล้ว\n                        debug.log(\"Has School Active\");\n                        if(pageAuth) {\n                            debug.log(\"This page is : Authen Request\");\n                            if(accessToken===\"\" || accessToken ===null || accessToken==undefined) {\n                                debug.log(\"Your Cannot Access\");\n                            } else {\n                                debug.log(\"Your Can Access\");\n                            }\n                        } else {\n                            debug.log(\"This page is : No Authen Request\");\n                        }\n                    }\n                    debug.log(\"Login\");\n                } else {// ยังไม่ได้เข้าสู่ระบบ\n                    debug.log(\"Not Login\");\n                    if(page!=\"Login\") { \n                        window.location.href = \"/member/login\"\n                        //this.$router.replace({path: '/member/login'});\n                        debug.log(\"Not Login Page\",page);\n                    } else {\n                        debug.log(\"Login Page\",page);\n                    }\n                }\n            }\n        },\n    },\n    setup() { \n    },\n};\n</script>\n\n<template>\n<div></div>\n</template>","import { render } from \"./authen.vue?vue&type=template&id=588dd34a\"\nimport script from \"./authen.vue?vue&type=script&lang=js\"\nexport * from \"./authen.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","_Fragment","_createVNode","_component_Authen","login","_createBlock","_component_Dashboard","key","_createCommentVNode","class","href","$data","loading_sources","_hoisted_1","_component_Loader","_component_breadcrumbs","navigation","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_renderList","listItems","asset","_id","src","loginBg","alt","_hoisted_9","_hoisted_10","siteName","_hoisted_11","_hoisted_12","_component_font_awesome_icon","icon","_createTextVNode","_toDisplayString","hostname","_hoisted_13","onClick","$event","_ctx","$router","push","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","inject","data","hostkey","this","$Key","accessToken","storageManager","get","configs","components","Loader","Breadcrumbs","methods","getData","resAPI","fetch","method","headers","body","JSON","stringify","args","$and","siteType","parent","siteID","RestReturn","json","console","log","error","deleteData","id","updated","feather","mounted","Error","setup","__exports__","name","Dashboard","Authen","route","useRoute","routeName","meta","title","useTitle","render","role","$route","matched","length","ParentPage","ParentName","PageName","PageIcon","$props","button","index","link","type","style","PagePath","path","page","props","Array","default","session","created","debug","option","computed","checkAuth","pageAuth","auth","token","hasLogin","activeSchool","current","interface","undefined","replace","window","location"],"sourceRoot":""}