{"version":3,"file":"js/8524.50b9345c.js","mappings":"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","sources":["webpack://node-backend/./src/extensions/modules/extra/vote/component/Package.vue","webpack://node-backend/./src/extensions/modules/extra/vote/component/Package.vue?77c6","webpack://node-backend/./src/extensions/modules/extra/vote/view/Package.vue","webpack://node-backend/./src/extensions/modules/extra/vote/view/Package.vue?1e42","webpack://node-backend/./src/utils/authen.vue","webpack://node-backend/./src/utils/authen.vue?6a92"],"sourcesContent":["<template>\n  <div class=\"mx-auto\">\n    <!-- If no package is selected, show the package list -->\n    <div>\n      <!-- Title and button in a two-column layout -->\n      <div class=\"flex justify-between items-center mb-4 border-b pb-2 pt-2 pl-2 pr-2 border-gray-200\">\n        <!-- Title on the left -->\n        <h3 class=\"text-md font-bold\">Packages</h3>\n\n        <!-- Button on the right -->\n        <button\n          @click=\"addPackage\"\n          class=\"primary-btn px-4 py-2 bg-blue-500 text-white rounded shadow-sm hover:bg-blue-600\"\n        >\n          เพิ่ม Package\n        </button>\n      </div>\n\n      <div class=\"p-4\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\n          <template v-for=\"(packageItem) in packages\" :key=\"packageItem._id\">\n            <div class=\"bg-white p-5 rounded-sm shadow-sm\">\n              <div class=\"flex items-center justify-between\">\n                <!-- Package name -->\n                <h3 class=\"text-md font-semibold\">\n                  {{ getPackageIndex(packageItem) }}.{{ packageItem.name }}\n                </h3>\n              </div>\n              <p class=\"text-xs text-gray-500 mt-1\">{{ packageItem.code }}</p>\n              <p class=\"text-sm text-gray-600 mt-1\">{{ packageItem.description }}</p>\n              <div class=\"mt-4 flex justify-between\">\n                <div class=\"space-x-2\">\n                  <button @click=\"movePackageUp(packageItem)\" class=\"text-sm text-gray-500 hover:text-gray-700\">\n                    <font-awesome-icon :icon=\"['fas','chevron-up']\" class=\"pr-2 pl-2\" />\n                  </button>\n                  <button @click=\"movePackageDown(packageItem)\" class=\"text-sm text-gray-500 hover:text-gray-700\">\n                    <font-awesome-icon :icon=\"['fas','chevron-down']\" class=\"pr-2 pl-2\" />\n                  </button>\n                </div>\n                <div class=\"space-x-2\">\n                  <button @click=\"openRenameDialog(packageItem)\" class=\"text-sm text-gray-500 hover:text-gray-700\">\n                    <font-awesome-icon :icon=\"['fas','edit']\" class=\"pl-2\" /> เปลี่ยนชื่อ\n                  </button>\n                  <button @click=\"removePackageConfirmation(packageItem)\" class=\"text-sm text-red-500 hover:text-red-700\">\n                    <font-awesome-icon :icon=\"['fas','trash']\" class=\"pl-2\" /> ลบ\n                  </button>\n                </div>\n              </div>\n            </div>\n          </template>\n        </div>\n      </div>\n    </div>\n\n    <!-- Rename Dialog -->\n    <div v-if=\"showRenameDialog\" class=\"fixed inset-0 flex items-center justify-center\">\n      <div class=\"absolute inset-0 bg-black opacity-75\" style=\"z-index:10\"></div>\n      <div class=\"bg-white rounded p-5 z-10\">\n        <h4 class=\"text-xl font-semibold mb-4\">เปลี่ยนชื่อ Package</h4>\n        <div class=\"flex flex-col space-y-2\">\n          <label for=\"newName\" class=\"font-medium\">ชื่อใหม่</label>\n          <input v-model=\"selectedPackage.name\" type=\"text\" id=\"newName\" placeholder=\"Enter the new name\" class=\"px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:ring focus:border-blue-500\">\n          <label for=\"newCode\" class=\"font-medium\">รหัสใหม่</label>\n          <input v-model=\"selectedPackage.code\" type=\"text\" id=\"newCode\" placeholder=\"Enter the new code\" class=\"px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:ring focus:border-blue-500\">\n          <label for=\"newDescription\" class=\"font-medium\">คำอธิบาย</label>\n          <textarea v-model=\"selectedPackage.description\" id=\"newDescription\" placeholder=\"Enter the new description\" class=\"px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:ring focus:border-blue-500\"></textarea>\n        </div>\n        <div class=\"flex justify-end mt-6 space-x-4\">\n          <button @click=\"renamePackage(selectedPackage)\" class=\"px-6 py-2 text-sm font-medium text-white bg-blue-500 rounded-sm hover:bg-blue-600\">Rename</button>\n          <button @click=\"closeRenameDialog\" class=\"px-6 py-2 text-sm font-medium text-gray-500 hover:text-gray-700\">Cancel</button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Confirmation Popup for Packages -->\n    <div v-if=\"showConfirmationPopup\" class=\"fixed inset-0 flex items-center justify-center z-50\">\n      <div class=\"absolute inset-0 bg-black opacity-75\"></div>\n      <div class=\"bg-white rounded p-5 z-10\">\n        <h4 class=\"text-xl font-semibold mb-4\">Confirm Remove Package</h4>\n        <p>Are you sure you want to remove the package?</p>\n        <div class=\"flex justify-end mt-6 space-x-4\">\n          <button @click=\"confirmRemovePackage\" class=\"px-6 py-2 text-sm font-medium text-white bg-red-500 rounded-sm\">Remove</button>\n          <button @click=\"cancelRemovePackage\" class=\"px-6 py-2 text-sm font-medium text-gray-500 hover:text-gray-700\">Cancel</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport storageManager from '@/plugins/storage';\n\nexport default {\n  name: 'PackageList',\n  \n  props: {\n    eventDetails: {\n      type: Object,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      session: storageManager.get('session'),\n      configs: storageManager.get('configs'),\n      packages: [],\n      showRenameDialog: false,\n      selectedPackage: null,\n      showConfirmationPopup: false,\n      packageToRemove: null,\n    };\n  },\n\n  computed: {\n    getPackageIndex() {\n      return (packageItem) => this.packages.findIndex((pkg) => pkg._id === packageItem._id) + 1;\n    },\n  },\n\n  async mounted() {\n    try {\n      console.log(\"Event Details:\", this.eventDetails);\n      await this.getPackageData();\n    } catch (error) {\n      console.log(error);\n    }\n  },\n\n  methods: {\n    async getPackageData() {\n      try {\n        const resAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/vote_package/query\", {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json', 'client-token-key': this.configs.key },\n          body: JSON.stringify({\n            method: 'find',\n            args: [\n              {\n                unit: this.session.current._id,\n                eventID: this.eventDetails._id,\n              },\n            ],\n            paging: { page: 1, limit: 200 },\n          }),\n        });\n\n        if (resAPI.ok) {\n          const finalRes = await resAPI.json();\n          this.packages = finalRes.data;\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    async addPackage() {\n      try {\n        const requestData = {\n          unit: this.session.current._id,\n          name: 'New Package',\n          code: 'package-code',\n          description: 'Description for New Package',\n          eventID: this.eventDetails._id,\n          visible: true,\n        };\n\n        const resAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/vote_package/\", {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json', 'client-token-key': this.configs.key },\n          body: JSON.stringify({\n            data: requestData,\n            options: {},\n          }),\n        });\n\n        if (resAPI.ok) {\n          await this.getPackageData();\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    async updatePackage(packageItem) {\n      try {\n        const resAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/vote_package/\" + packageItem._id, {\n          method: 'PUT',\n          headers: { 'Content-Type': 'application/json', 'client-token-key': this.configs.key },\n          body: JSON.stringify({\n            data: {\n              name: packageItem.name,\n              code: packageItem.code,\n              description: packageItem.description,\n              visible: packageItem.visible,\n            },\n            options: {},\n          }),\n        });\n\n        if (resAPI.ok) {\n          await this.getPackageData();\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    async deletePackage(packageItem) {\n      try {\n        const resAPI = await fetch(\"https://gateway.cloudrestfulapi.com/api/vote_package/\" + packageItem._id, {\n          method: 'DELETE',\n          headers: { 'Content-Type': 'application/json', 'client-token-key': this.configs.key },\n        });\n\n        if (resAPI.ok) {\n          await this.getPackageData();\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    movePackageUp(packageItem) {\n      const index = this.packages.findIndex((pkg) => pkg._id === packageItem._id);\n      if (index > 0) {\n        const movedPackage = this.packages.splice(index, 1)[0];\n        this.packages.splice(index - 1, 0, movedPackage);\n      }\n    },\n\n    movePackageDown(packageItem) {\n      const index = this.packages.findIndex((pkg) => pkg._id === packageItem._id);\n      if (index < this.packages.length - 1) {\n        const movedPackage = this.packages.splice(index, 1)[0];\n        this.packages.splice(index + 1, 0, movedPackage);\n      }\n    },\n\n    async removePackageConfirmation(packageItem) {\n      this.packageToRemove = packageItem;\n      this.showConfirmationPopup = true;\n    },\n\n    async confirmRemovePackage() {\n      try {\n        await this.deletePackage(this.packageToRemove);\n        this.packageToRemove = null;\n        this.showConfirmationPopup = false;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    openRenameDialog(packageItem) {\n      this.selectedPackage = packageItem;\n      this.showRenameDialog = true;\n    },\n\n    async renamePackage(packageItem) {\n      try {\n        await this.updatePackage(packageItem);\n        this.selectedPackage = null;\n        this.showRenameDialog = false;\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    closeRenameDialog() {\n      this.selectedPackage = null;\n      this.showRenameDialog = false;\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Add your custom styles here */\n</style>\n","import { render } from \"./Package.vue?vue&type=template&id=5a56faf5&scoped=true\"\nimport script from \"./Package.vue?vue&type=script&lang=js\"\nexport * from \"./Package.vue?vue&type=script&lang=js\"\n\nimport \"./Package.vue?vue&type=style&index=0&id=5a56faf5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5a56faf5\"]])\n\nexport default __exports__","<script>\nimport {useTitle} \tfrom 'vue-page-title';\nimport {useRoute} \tfrom 'vue-router'\nimport Dashboard \tfrom '../component/Package.vue';\nimport Authen \t\tfrom '@/utils/authen.vue';\nimport storageManager from '@/plugins/storage';\n\nexport default {\n\tname: 'Home',\n\tcomponents: {\n\t\tDashboard,\n\t\tAuthen\n\t},\n\tdata() { return { login: storageManager.get('session','login') } },\n\tmethods: {},\n\tmounted() {},\n\tsetup() {\n        const route     = useRoute();\n        const routeName = route.meta.title;\n        useTitle(routeName);\n\t\tconsole.log(\"Dashboard\");\n    },\n};\n</script>\n\n<template>\n<Authen/> \n<Dashboard v-if=\"this.login\"/> \n</template>","import { render } from \"./Package.vue?vue&type=template&id=6bce3085\"\nimport script from \"./Package.vue?vue&type=script&lang=js\"\nexport * from \"./Package.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport {useRoute} from 'vue-router';\nimport debug from '@/plugins/Logger.js';\nimport storageManager from '../plugins/storage.js';\n\nexport default {\n\tname: 'Authen',\n    data() {\n      return {\n        configs: storageManager.get('configs'),\n        session: storageManager.get('session'),\n      };\n    },\n    created() {\n        debug.option(this.$route);\n    },\n    computed: {\n    },\n\tcomponents: {\n\t},\n\tmounted() {\n    this.checkAuth();\n\t},\n\tupdated() {\n\t},\n\tmethods: {\n        async checkAuth()\n        {\n            const route      = useRoute();\n            const pageAuth   = route.meta.auth;\n            const page       = route.name;\n\n            const session \t\t= storageManager.get('session');\n            let accessToken     = session.token;\n            let hasLogin        = session.login;\n            let activeSchool    = session.current;\n\n            debug.log(\"hasLogin\",hasLogin)\n            debug.log(\"Page -> Auth:\",pageAuth)\n            debug.log(\"User -> Token:\",accessToken)\n            debug.log(\"User -> Login:\",hasLogin)\n\n            if(this.session.interface===\"frontend\")\n            {\n                debug.log(\"Front-End\");\n            }\n            else if(this.session.interface===\"backend\")\n            {\n                debug.log(\"Back-End\");\n                if(hasLogin) {// ถ้าเข้าสู๋ระบบแล้ว\n                    if (page==\"Login\" || activeSchool==undefined) { // ห้ามเข้าสู่ระบบซ้ำ || ยังไม่ได้เลือกโรงเรียน\n                        debug.log(\"Not Login Again\");\n                        this.$router.replace({path: '/'});\n                    } else {// เลือกโรงเรียนแล้ว\n                        debug.log(\"Has School Active\");\n                        if(pageAuth) {\n                            debug.log(\"This page is : Authen Request\");\n                            if(accessToken===\"\" || accessToken ===null || accessToken==undefined) {\n                                debug.log(\"Your Cannot Access\");\n                            } else {\n                                debug.log(\"Your Can Access\");\n                            }\n                        } else {\n                            debug.log(\"This page is : No Authen Request\");\n                        }\n                    }\n                    debug.log(\"Login\");\n                } else {// ยังไม่ได้เข้าสู่ระบบ\n                    debug.log(\"Not Login\");\n                    if(page!=\"Login\") { \n                        window.location.href = \"/member/login\"\n                        //this.$router.replace({path: '/member/login'});\n                        debug.log(\"Not Login Page\",page);\n                    } else {\n                        debug.log(\"Login Page\",page);\n                    }\n                }\n            }\n        },\n    },\n    setup() { \n    },\n};\n</script>\n\n<template>\n<div></div>\n</template>","import { render } from \"./authen.vue?vue&type=template&id=588dd34a\"\nimport script from \"./authen.vue?vue&type=script&lang=js\"\nexport * from \"./authen.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","args","$options","addPackage","_hoisted_3","_hoisted_4","_Fragment","_renderList","$data","packages","packageItem","_id","_hoisted_5","_hoisted_6","_toDisplayString","getPackageIndex","name","_hoisted_7","code","_hoisted_8","description","_hoisted_9","_hoisted_10","$event","movePackageUp","_createVNode","_component_font_awesome_icon","icon","_hoisted_11","movePackageDown","_hoisted_12","_hoisted_13","openRenameDialog","_createTextVNode","_hoisted_14","removePackageConfirmation","_hoisted_15","showRenameDialog","_hoisted_16","style","_hoisted_17","_hoisted_18","for","selectedPackage","type","id","placeholder","_hoisted_19","renamePackage","closeRenameDialog","_createCommentVNode","showConfirmationPopup","_hoisted_20","_hoisted_21","_hoisted_22","confirmRemovePackage","_ctx","cancelRemovePackage","props","eventDetails","Object","required","data","session","storageManager","get","configs","packageToRemove","computed","this","findIndex","pkg","mounted","console","log","getPackageData","error","methods","resAPI","fetch","method","headers","body","JSON","stringify","unit","current","eventID","paging","page","limit","ok","finalRes","json","requestData","visible","options","updatePackage","deletePackage","index","movedPackage","splice","length","__exports__","render","_component_Authen","login","_createBlock","_component_Dashboard","components","Dashboard","Authen","setup","route","useRoute","routeName","meta","title","useTitle","created","debug","option","$route","checkAuth","updated","pageAuth","auth","accessToken","token","hasLogin","activeSchool","interface","undefined","$router","replace","path","window","location","href"],"sourceRoot":""}