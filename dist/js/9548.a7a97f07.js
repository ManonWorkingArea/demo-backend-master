"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[9548],{99995:function(e,t,s){s.r(t),s.d(t,{default:function(){return bs}});var a=s(20641);function o(e,t,s,o,i,l){const n=(0,a.g2)("Detail",!0);return this.login?((0,a.uX)(),(0,a.Wv)(n,{key:0})):(0,a.Q3)("",!0)}var i=s(52968),l=s(75220),n=(s(44114),s(90033)),r=s(53751);const c={key:2,class:"text-center"},d={key:3},u={class:"mx-auto max-w-3xl px-4 mt-5 sm:px-6 md:flex md:items-center md:justify-between md:space-x-5 lg:max-w-7xl lg:px-8"},p={class:"flex items-center space-x-5"},m={class:"text-2xl font-bold text-gray-900"},g={class:"mt-2 text-sm font-medium text-gray-500"},h={class:"mx-auto mt-8 grid max-w-3xl grid-cols-1 gap-6 sm:px-6 lg:max-w-7xl lg:grid-flow-col-dense lg:grid-cols-3"},f={class:"space-y-6 lg:col-span-2 lg:col-start-1"},y={"aria-labelledby":"applicant-information-title"},x={class:"bg-white shadow relative overflow-hidden sm:rounded-lg"},b={key:0,class:"absolute right-0 top-0 h-16 w-16"},k={key:1,class:"absolute right-0 top-0 h-16 w-16"},v={class:"px-4 py-5 sm:px-6"},w={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},L={class:"sm:col-span-1"},C={class:"mt-1 text-sm text-gray-900"},F={class:"sm:col-span-1"},D={class:"mt-1 text-sm text-gray-900"},T={class:"sm:col-span-1"},B={class:"mt-1 text-sm text-gray-900"},E={class:"sm:col-span-1"},j={class:"mt-1 text-sm text-gray-900"},_={"aria-labelledby":"notes-title"},O={class:"bg-white shadow sm:overflow-hidden sm:rounded-lg"},W={class:"divide-y divide-gray-200"},P={class:"px-4 py-5 sm:px-6 relative"},X={id:"notes-title",class:"text-lg font-bold text-gray-900"},A={key:0,class:"flex items-center justify-between lg:flex lg:items-center lg:justify-between pl-5 pr-5 pt-1 pb-1 bg-gray-50"},I={class:"mt-0 flex lg:mt-0 lg:ml-4"},R={class:"sm:ml-3"},M=["value"],Q=["value"],z={class:"px-4 py-6 sm:px-6 bg-gray-50"},S={key:0,class:"p-5 b-1 bot rounded-md border-gray-200 bg-white border-dashed border-[1px]"},K={class:"flex space-x-3 border-b border-gray-200 pb-3 mb-3 border-dashed"},$={class:"flex-shrink-0"},N={type:"button",class:"cursor-move font-medium text-gray-900 handle mr-3 relative top-[-5px]"},U={class:"text-sm"},V={href:"javascript:void(0);",class:"text-base font-bold text-gray-900"},J={class:"mt-1 text-sm text-gray-400"},G={class:"font-bold text-indigo-300"},q={class:"font-bold text-indigo-300"},Y={class:"mt-2 space-x-2 text-sm"},H={key:0},Z=["onClick"],ee=["onClick"],te=["onClick"],se={class:"mt-2 space-x-2 w-full text-sm bot rounded-md border-[1px] overflow-hidden rounded-md border border-gray-150 bg-white"},ae=["href"],oe={key:1,class:"float-right"},ie=["onClick"],le=["onClick"],ne={key:1,class:"p-5 b-1 bot rounded-md border-gray-200 bg-white border-dashed border-[1px]"},re={class:"flex space-x-3 border-b border-gray-200 pb-3 mb-3 border-dashed"},ce={type:"button",class:"cursor-move font-medium text-gray-900 handle mr-3 relative top-[-5px]"},de={class:"flex-shrink-0"},ue=["src"],pe={class:"text-sm"},me=["href"],ge={class:"mt-1 text-sm text-gray-400"},he={class:"font-bold text-indigo-300"},fe={class:"font-bold text-indigo-300"},ye={class:"font-bold text-indigo-300"},xe={class:"mt-2 space-x-2 text-sm"},be={key:0},ke=["onClick"],ve=["onClick"],we={class:"font-medium text-gray-500"},Le={key:0,class:"ml-2 bg-blue-100 pl-2 pr-2 rounded text-xs"},Ce={key:1,class:"ml-2 bg-blue-100 pl-2 pr-2 rounded text-xs"},Fe={key:2,class:"ml-2 bg-blue-100 pl-2 pr-2 rounded text-xs"},De={key:3,class:"ml-2 bg-blue-100 pl-2 pr-2 rounded text-xs"},Te={"aria-labelledby":"notes-title"},Be={class:"bg-white shadow sm:overflow-hidden sm:rounded-lg"},Ee={class:"divide-y divide-gray-200"},je={class:"px-4 py-5 sm:px-6 relative"},_e={id:"notes-title",class:"text-lg font-bold text-gray-900"},Oe={class:"absolute top-4 right-4"},We={key:0,class:"flex items-center justify-between lg:flex lg:items-center lg:justify-between pl-5 pr-5 pt-1 pb-1 bg-gray-50"},Pe={class:"mt-0 flex lg:mt-0 lg:ml-4"},Xe={class:"sm:ml-3"},Ae=["value"],Ie=["value"],Re={class:"px-4 py-6 sm:px-6"},Me={role:"list",class:"space-y-8"},Qe={class:"flex space-x-3"},ze={class:"text-sm"},Se=["href"],Ke={class:"mt-1 text-sm text-gray-400"},$e={class:"font-bold text-indigo-300"},Ne={class:"font-bold text-indigo-300"},Ue={class:"font-bold text-indigo-300"},Ve={class:"mt-2 space-x-2 text-sm"},Je={class:"font-medium text-gray-500"},Ge={key:0},qe=["onClick"],Ye=["onClick"],He={"aria-labelledby":"notes-title"},Ze={class:"bg-white shadow sm:overflow-hidden sm:rounded-lg"},et={class:"divide-y divide-gray-200"},tt={class:"px-4 py-5 sm:px-6 relative"},st={id:"notes-title",class:"text-lg font-bold text-gray-900"},at={class:"absolute top-4 right-4"},ot={class:"px-4 py-6 sm:px-6"},it={class:"overflow-hidden bg-white shadow sm:rounded-md"},lt={role:"list",class:"divide-y divide-gray-200"},nt={class:"block hover:bg-gray-50"},rt={class:"flex items-center px-4 py-4 sm:px-6"},ct={class:"flex min-w-0 flex-1 items-center"},dt={class:"flex-shrink-0"},ut={class:"float-left mr-3"},pt={class:"fi-content"},mt={class:"min-w-0 flex-1 px-4 md:grid md:grid-cols-1 md:gap-1"},gt={class:"text-sm font-bold text-indigo-600"},ht={class:"text-sm font-medium text-gray-600"},ft={key:0},yt=["onClick"],xt={"aria-labelledby":"applicant-information-title"},bt={class:"bg-white shadow relative overflow-hidden sm:rounded-lg"},kt={class:"px-4 py-5 sm:px-6"},vt={key:0},wt={key:1},Lt={key:2},Ct={key:3},Ft={"aria-labelledby":"timeline-title",class:"lg:col-span-1 lg:col-start-3"},Dt={class:"justify-stretch mb-6 mt-6 flex flex-col-reverse space-y-4 space-y-reverse sm:flex-row-reverse sm:justify-start sm:space-y-0 sm:space-x-3 sm:space-x-reverse md:mt-0 md:flex-row md:space-x-3"},Tt={type:"button",class:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-100"},Bt={class:"mb-5 bg-white px-4 py-5 shadow sm:rounded-lg sm:px-6"},Et={class:""},jt={class:"mt-1 flex items-center"},_t={class:"flex"},Ot={class:"relative flex cursor-pointer items-center py-1 px-1 border-r-[1px] pr-5 mr-1"},Wt={class:"relative text-sm font-medium text-blue-gray-900"},Pt={class:"bg-white px-4 py-5 shadow sm:rounded-lg sm:px-6"},Xt={class:"mb-5"},At={key:0,class:"rounded-md bg-red-50 p-4 mb-5"},It={class:"bg-white/80 p-3"},Rt={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mt-5"},Mt={class:"px-4 py-5 sm:p-6"},Qt={class:"grid grid-cols-4 gap-6"},zt={class:"col-span-4 sm:col-span-6"},St={class:"flow-root"},Kt={class:"mt-3 grid grid-cols-1 gap-5 sm:grid-cols-1 lg:grid-cols-1"},$t={class:"relative overflow-hidden rounded-lg bg-white px-4 pt-5 pb-12 shadow sm:px-6 sm:pt-6"},Nt={class:"absolute rounded-md bg-indigo-500 p-3"},Ut={class:"relative overflow-hidden rounded-lg bg-white px-4 pt-5 shadow sm:px-6 sm:pt-6"},Vt={class:"absolute rounded-md bg-indigo-500 p-3"},Jt={class:"relative overflow-hidden rounded-lg bg-white px-4 pt-5 shadow sm:px-6 sm:pt-6"},Gt={class:"absolute rounded-md bg-indigo-500 p-3"},qt={key:0,class:"bg-gray-50 px-4 py-4 sm:px-6 text-right"};function Yt(e,t,s,o,i,l){const Yt=(0,a.g2)("FileBrowser"),Ht=(0,a.g2)("Loader"),Zt=(0,a.g2)("CourseIcon"),es=(0,a.g2)("CourseStat"),ts=(0,a.g2)("font-awesome-icon"),ss=(0,a.g2)("Tooltip"),as=(0,a.g2)("draggable"),os=(0,a.g2)("read-more"),is=(0,a.g2)("Toggle");return(0,a.uX)(),(0,a.CE)(a.FK,null,[i.FileBrowserOpen?((0,a.uX)(),(0,a.Wv)(Yt,{key:0,isWindowsOpen:!0,callbackFunction:"cover",allowFileType:["jpg","gif","png","jpeg"],onFileBrowserTrigger:l.changeFileTrigger,onFileBrowserCallback:l.selectFileTrigger},null,8,["onFileBrowserTrigger","onFileBrowserCallback"])):(0,a.Q3)("",!0),i.FileBrowserDocOpen?((0,a.uX)(),(0,a.Wv)(Yt,{key:1,isWindowsOpen:!0,callbackFunction:"document",allowFileType:["doc","docx","xls","xlsx","pdf"],onFileBrowserTrigger:l.changeFileDocumentTrigger,onFileBrowserCallback:l.selectFileDocumentTrigger},null,8,["onFileBrowserTrigger","onFileBrowserCallback"])):(0,a.Q3)("",!0),i.loading_sources?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",c,[(0,a.bF)(Ht)])),i.loading_sources?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.Lk)("div",u,[(0,a.Lk)("div",p,[(0,a.Lk)("div",null,[(0,a.Lk)("h1",m,[(0,a.bF)(Zt,{title:i.courseData.name,chcek:i.courseData.ref},null,8,["title","chcek"])]),(0,a.Lk)("p",g,[(0,a.bF)(es,{check:i.courseData.id},null,8,["check"]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.courseData.category,(e=>((0,a.uX)(),(0,a.CE)("a",{key:e.id,href:"#",class:"text-xs font-medium bg-indigo-600 pl-2 pr-2 pt-1 pb-1 mr-1 rounded text-white"},(0,n.v_)(this.objectFindByKey(this.categoryData,"slug",e).name),1)))),128))])])])]),(0,a.Lk)("div",h,[(0,a.Lk)("div",f,[(0,a.Lk)("section",y,[(0,a.Lk)("div",x,[this.master?((0,a.uX)(),(0,a.CE)("div",b,t[18]||(t[18]=[(0,a.Lk)("div",{class:"absolute transform rotate-45 bg-rose-600 text-sm text-center text-white font-medium py-1 left-[-64px] top-[32px] w-[170px]"}," Master Mode ",-1)]))):(0,a.Q3)("",!0),this.master?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",k,t[19]||(t[19]=[(0,a.Lk)("div",{class:"absolute transform rotate-45 bg-emerald-600 text-sm text-center text-white font-medium py-1 left-[-64px] top-[32px] w-[170px]"}," Child Mode ",-1)]))),(0,a.Lk)("div",v,[(0,a.Lk)("dl",w,[(0,a.Lk)("div",L,[t[20]||(t[20]=(0,a.Lk)("dt",{class:"text-sm font-bold text-black"},"ประเภทหลักสูตร",-1)),(0,a.Lk)("dd",C,(0,n.v_)(i.kindName),1)]),(0,a.Lk)("div",F,[t[21]||(t[21]=(0,a.Lk)("dt",{class:"text-sm font-bold text-black"},"รูปแบบในการเรียน",-1)),(0,a.Lk)("dd",D,(0,n.v_)(i.modeName),1)]),(0,a.Lk)("div",T,[t[22]||(t[22]=(0,a.Lk)("dt",{class:"text-sm font-bold text-black"},"เงื่อนไข",-1)),(0,a.Lk)("dd",B,(0,n.v_)(i.displayName),1)]),(0,a.Lk)("div",E,[t[23]||(t[23]=(0,a.Lk)("dt",{class:"text-sm font-bold text-black"},"ราคา",-1)),(0,a.Lk)("dd",j,(0,n.v_)(i.courseData.regular_price)+" ("+(0,n.v_)(i.courseData.sale_price)+")",1)])])])])]),(0,a.Lk)("section",_,[(0,a.Lk)("div",O,[(0,a.Lk)("div",W,[(0,a.Lk)("div",P,[(0,a.Lk)("h2",X,[(0,a.bF)(ts,{icon:["fas","book"],class:"text-black mr-2"}),(0,a.eW)(" บทเรียน/เนื้อหา ("+(0,n.v_)(i.playerCount)+") ",1)]),this.playerRef!==this.dataItem||this.master?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[0]||(t[0]=t=>e.$router.push("/lesson/player/add/"+this.dataItem+"/"+this.playerParentCount)),type:"button",class:"absolute top-4 right-4 ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,a.bF)(ts,{icon:["fas","plus"],class:"text-gray-200 pr-3"}),t[24]||(t[24]=(0,a.eW)(" เพิ่ม "))])),this.master?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t[1]||(t[1]=t=>e.$router.push("/lesson/player/add/"+this.dataItem+"/"+this.playerParentCount)),type:"button",class:"absolute top-4 right-4 ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,a.bF)(ts,{icon:["fas","plus"],class:"text-gray-200 pr-3"}),t[25]||(t[25]=(0,a.eW)(" เพิ่ม "))])):(0,a.Q3)("",!0)]),this.master||"none"==i.courseData.ref?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",A,[t[26]||(t[26]=(0,a.Lk)("div",{class:"min-w-0 flex-1"},"ใช้ข้อมูลบทเรียนจาก",-1)),(0,a.Lk)("div",I,[(0,a.Lk)("span",R,[(0,a.Lk)("div",null,[(0,a.bo)((0,a.Lk)("select",{onChange:t[2]||(t[2]=e=>l.changePlayerRef(e)),"onUpdate:modelValue":t[3]||(t[3]=e=>i.playerRef=e),class:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"},[(0,a.Lk)("option",{value:i.courseData.ref},"Master Data",8,M),(0,a.Lk)("option",{value:this.dataItem},"หลักสูตรนี้",8,Q)],544),[[r.u1,i.playerRef]])])])])])),(0,a.Lk)("div",z,[(0,a.bF)(as,(0,a.v6)({role:"list_parent",class:"space-y-2",tag:"ul",list:i.playerParent,handle:".handle"},l.dragOptions,{onChange:l.log,move:l.checkMove,onStart:t[6]||(t[6]=t=>e.isDragging=!0),onEnd:t[7]||(t[7]=t=>e.isDragging=!1)}),{default:(0,a.k6)((()=>[(0,a.bF)(r.F,{type:"transition",name:"flip-list"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.playerParent,((s,o)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:s.id},["folder"===s.type&&"sub"!=s.mode?((0,a.uX)(),(0,a.CE)("li",S,[(0,a.Lk)("div",K,[(0,a.Lk)("div",$,[this.master||"none"===i.courseData.ref?((0,a.uX)(),(0,a.Wv)(ss,{key:0,title:"ลากเพื่อจัดลำดับ",size:"12"},{default:(0,a.k6)((()=>[(0,a.Lk)("button",N,[(0,a.bF)(ts,{icon:["fas","align-justify"],class:"text-gray-500"})])])),_:1})):(0,a.Q3)("",!0),(0,a.bF)(ts,{icon:["fas","folder"],class:"text-yellow-500 text-3xl"})]),(0,a.Lk)("div",null,[(0,a.Lk)("div",U,[(0,a.Lk)("a",V,(0,n.v_)(s.name)+" ("+(0,n.v_)(s.order)+")",1)]),(0,a.Lk)("div",J,[(0,a.Lk)("span",null,[t[27]||(t[27]=(0,a.eW)("รหัส : ")),(0,a.Lk)("span",G,(0,n.v_)(s.slug),1)]),t[29]||(t[29]=(0,a.Lk)("span",{class:"font-medium text-gray-500 mr-3 ml-3"},"·",-1)),(0,a.Lk)("span",null,[t[28]||(t[28]=(0,a.eW)("ประเภท : ")),(0,a.Lk)("span",q,(0,n.v_)(this.objectFindByKey(this.playerType,"code",s.type).name),1)])])])]),(0,a.Lk)("div",Y,[this.master||"none"===i.courseData.ref?((0,a.uX)(),(0,a.CE)("span",H,[(0,a.Lk)("button",{onClick:t=>e.$router.push("/lesson/player/sub/"+this.dataItem+"/"+s.id+"/"+this.playerChildCount),type:"button",class:"font-medium text-gray-900 mr-3"},[(0,a.bF)(ts,{icon:["fas","plus"],class:"text-gray-500"}),t[30]||(t[30]=(0,a.eW)(" เพิ่มบทเรียนย่อย "))],8,Z),t[33]||(t[33]=(0,a.Lk)("span",{class:"font-medium text-gray-500 mr-3"},"·",-1)),(0,a.Lk)("button",{onClick:t=>e.$router.push("/lesson/player/edit/"+s.id),type:"button",class:"font-medium text-gray-900 mr-3"},[(0,a.bF)(ts,{icon:["fas","pencil"],class:"text-gray-500"}),t[31]||(t[31]=(0,a.eW)(" แก้ไข "))],8,ee),t[34]||(t[34]=(0,a.Lk)("span",{class:"font-medium text-gray-500 mr-3"},"·",-1)),(0,a.Lk)("button",{onClick:e=>l.deletePlayer(s.id,o),type:"button",class:"font-medium text-gray-900 mr-3"},[(0,a.bF)(ts,{icon:["fas","trash"],class:"text-gray-500"}),t[32]||(t[32]=(0,a.eW)(" ลบ "))],8,te)])):(0,a.Q3)("",!0)]),(0,a.Lk)("div",se,[(0,a.bF)(as,(0,a.v6)({role:"list_child",class:"divide-y divide-gray-150",tag:"ul",list:i.playerFolder[s.id],handle:".handle-sub",ref_for:!0},l.dragOptions,{onChange:e=>l.log_sub(s.id),move:l.checkMove,onStart:t[4]||(t[4]=t=>e.isDragging=!0),onEnd:t[5]||(t[5]=t=>e.isDragging=!1)}),{default:(0,a.k6)((()=>[(0,a.bF)(r.F,{type:"transition",name:"flip-list"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(this.playerFolder[s.id],((o,r)=>((0,a.uX)(),(0,a.CE)("li",{key:o.id,class:"px-3 py-2 text-gray-600 hover:bg-gray-50"},[this.master||"none"===i.courseData.ref?((0,a.uX)(),(0,a.Wv)(ts,{key:0,icon:["fas","align-justify"],class:"cursor-move text-gray-200 mr-3 handle-sub hover:text-gray-400"})):(0,a.Q3)("",!0),(0,a.Lk)("a",{href:"/lesson/player/detail/"+o.id,class:"font-medium text-sm text-gray-600 hover:text-indigo-600 hover:font-bold"},(0,n.v_)(o.name),9,ae),this.master||"none"===i.courseData.ref?((0,a.uX)(),(0,a.CE)("span",oe,[(0,a.Lk)("button",{onClick:t=>e.$router.push("/lesson/player/edit/"+o.id),type:"button",class:"font-medium text-gray-500 mr-3 hover:text-gray-700"},[(0,a.bF)(ts,{icon:["fas","pencil"],class:"text-gray-500"}),t[35]||(t[35]=(0,a.eW)(" แก้ไข "))],8,ie),t[37]||(t[37]=(0,a.Lk)("span",{class:"font-medium text-gray-500 mr-3"},"·",-1)),(0,a.Lk)("button",{onClick:e=>l.deleteSubPlayer(o.id,s.id,r),type:"button",class:"font-medium text-gray-500 mr-3 hover:text-gray-700"},[(0,a.bF)(ts,{icon:["fas","trash"],class:"text-gray-500"}),t[36]||(t[36]=(0,a.eW)(" ลบ "))],8,le)])):(0,a.Q3)("",!0)])))),128))])),_:2},1024)])),_:2},1040,["list","onChange","move"])])])):(0,a.Q3)("",!0),"folder"!=s.type&&"sub"!=s.mode?((0,a.uX)(),(0,a.CE)("li",ne,[(0,a.Lk)("div",re,[this.master||"none"===i.courseData.ref?((0,a.uX)(),(0,a.Wv)(ss,{key:0,title:"ลากเพื่อจัดลำดับ",size:"12"},{default:(0,a.k6)((()=>[(0,a.Lk)("button",ce,[(0,a.bF)(ts,{icon:["fas","align-justify"],class:"text-gray-500"})])])),_:1})):(0,a.Q3)("",!0),(0,a.Lk)("div",de,[(0,a.Lk)("img",{class:"h-10 w-10 object-cover",src:s.cover||"https://dummyimage.com/800x600/ededed/303030.png&text=++++++COVER+++++",alt:""},null,8,ue)]),(0,a.Lk)("div",null,[(0,a.Lk)("div",pe,[(0,a.Lk)("a",{href:"/lesson/player/detail/"+s.id,class:"font-bold text-gray-900"},(0,n.v_)(s.name)+" ("+(0,n.v_)(s.order)+")",9,me)]),(0,a.Lk)("div",ge,[(0,a.Lk)("span",null,[t[38]||(t[38]=(0,a.eW)("รหัส : ")),(0,a.Lk)("span",he,(0,n.v_)(s.slug),1)]),t[42]||(t[42]=(0,a.Lk)("span",{class:"font-medium text-gray-200"},"|",-1)),(0,a.Lk)("span",null,[t[39]||(t[39]=(0,a.eW)("ประเภท : ")),(0,a.Lk)("span",fe,(0,n.v_)(this.objectFindByKey(this.playerType,"code",s.type).name),1)]),t[43]||(t[43]=(0,a.Lk)("span",{class:"font-medium text-gray-200"},"|",-1)),(0,a.Lk)("span",null,[t[40]||(t[40]=(0,a.eW)("ความยาว : ")),(0,a.Lk)("span",ye,(0,n.v_)(s.duration),1),t[41]||(t[41]=(0,a.eW)(" นาที"))])])])]),(0,a.Lk)("div",xe,[this.master||"none"===i.courseData.ref?((0,a.uX)(),(0,a.CE)("span",be,[(0,a.Lk)("button",{onClick:t=>e.$router.push("/lesson/player/edit/"+s.id),type:"button",class:"font-medium text-gray-900 mr-3"},[(0,a.bF)(ts,{icon:["fas","pencil"],class:"text-gray-500"}),t[44]||(t[44]=(0,a.eW)(" แก้ไข "))],8,ke),t[46]||(t[46]=(0,a.Lk)("span",{class:"font-medium text-gray-500 mr-3"},"·",-1)),(0,a.Lk)("button",{onClick:e=>l.deletePlayer(s.id,o),type:"button",class:"font-medium text-gray-900 mr-3"},[(0,a.bF)(ts,{icon:["fas","trash"],class:"text-gray-500"}),t[45]||(t[45]=(0,a.eW)(" ลบ "))],8,ve),t[47]||(t[47]=(0,a.Lk)("span",{class:"font-medium text-gray-500 mr-3"},"·",-1))])):(0,a.Q3)("",!0),(0,a.Lk)("span",we,[(0,a.bF)(ts,{icon:["fas","video"],class:(0,n.C4)(["text-rose-600",void 0===s.video?"text-rose-600":"text-lime-600"])},null,8,["class"]),void 0===s.video?((0,a.uX)(),(0,a.CE)("span",Le,"ไม่มีเนื้อหา")):(0,a.Q3)("",!0),void 0!=s.video&&"demand"===s.type?((0,a.uX)(),(0,a.CE)("span",Ce,(0,n.v_)(s.video.desktop),1)):(0,a.Q3)("",!0),void 0!=s.video&&"streaming"===s.type?((0,a.uX)(),(0,a.CE)("span",Fe,(0,n.v_)(s.video.streaming),1)):(0,a.Q3)("",!0),void 0!=s.video&&"youtube"===s.type?((0,a.uX)(),(0,a.CE)("span",De,(0,n.v_)(s.video.youtube),1)):(0,a.Q3)("",!0)])])])):(0,a.Q3)("",!0)],64)))),128))])),_:1})])),_:1},16,["list","onChange","move"])])])])]),(0,a.Lk)("section",Te,[(0,a.Lk)("div",Be,[(0,a.Lk)("div",Ee,[(0,a.Lk)("div",je,[(0,a.Lk)("h2",_e,[(0,a.bF)(ts,{icon:["fas","square-check"],class:"text-black mr-2"}),(0,a.eW)("แบบทดสอบ ("+(0,n.v_)(i.examCount)+")",1)]),(0,a.Lk)("span",Oe,[this.examRef!==this.dataItem||this.master?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[8]||(t[8]=t=>e.$router.push("/lesson/exam/add/"+this.dataItem)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,a.bF)(ts,{icon:["fas","plus"],class:"text-gray-200 pr-3"}),t[48]||(t[48]=(0,a.eW)(" เพิ่ม "))])),this.master?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:t[9]||(t[9]=t=>e.$router.push("/lesson/exam/add/"+this.dataItem)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,a.bF)(ts,{icon:["fas","plus"],class:"text-gray-200 pr-3"}),t[49]||(t[49]=(0,a.eW)(" เพิ่ม "))])):(0,a.Q3)("",!0)])]),this.master||"none"==i.courseData.ref?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",We,[t[50]||(t[50]=(0,a.Lk)("div",{class:"min-w-0 flex-1"},"ใช้ข้อมูลแบบทดสอบจาก",-1)),(0,a.Lk)("div",Pe,[(0,a.Lk)("span",Xe,[(0,a.Lk)("div",null,[(0,a.bo)((0,a.Lk)("select",{onChange:t[10]||(t[10]=e=>l.changeExamRef(e)),"onUpdate:modelValue":t[11]||(t[11]=e=>i.examRef=e),class:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"},[(0,a.Lk)("option",{value:i.courseData.ref},"Master Data",8,Ae),(0,a.Lk)("option",{value:this.dataItem},"หลักสูตรนี้",8,Ie)],544),[[r.u1,i.examRef]])])])])])),(0,a.Lk)("div",Re,[(0,a.Lk)("ul",Me,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.examData,((s,o)=>((0,a.uX)(),(0,a.CE)("li",{key:s.id},[(0,a.Lk)("div",Qe,[(0,a.Lk)("div",null,[(0,a.Lk)("div",ze,[(0,a.Lk)("a",{href:"/lesson/exam/detail/"+s.id,class:"font-bold text-gray-900"},(0,n.v_)(o+1)+"."+(0,n.v_)(s.name),9,Se)]),(0,a.Lk)("div",Ke,[(0,a.Lk)("span",null,[t[51]||(t[51]=(0,a.eW)("ข้อสอบ : ")),(0,a.Lk)("span",$e,(0,n.v_)(s.total),1),t[52]||(t[52]=(0,a.eW)(" ข้อ"))]),t[56]||(t[56]=(0,a.Lk)("span",{class:"font-medium text-gray-200"},"|",-1)),(0,a.Lk)("span",null,[t[53]||(t[53]=(0,a.eW)("เวลาสอบ : ")),(0,a.Lk)("span",Ne,(0,n.v_)(s.timer),1),t[54]||(t[54]=(0,a.eW)(" นาที"))]),t[57]||(t[57]=(0,a.Lk)("span",{class:"font-medium text-gray-200"},"|",-1)),(0,a.Lk)("span",null,[t[55]||(t[55]=(0,a.eW)("ประเภท : ")),(0,a.Lk)("span",Ue,(0,n.v_)(this.objectFindByKey(this.examType,"code",s.type).name),1)])]),(0,a.Lk)("div",Ve,[(0,a.Lk)("span",Je,"0/"+(0,n.v_)(s.total),1),this.master||"none"===i.courseData.ref?((0,a.uX)(),(0,a.CE)("span",Ge,[t[60]||(t[60]=(0,a.Lk)("span",{class:"font-medium text-gray-500 mr-3"},"·",-1)),(0,a.Lk)("button",{onClick:t=>e.$router.push("/lesson/exam/edit/"+s.id),type:"button",class:"font-medium text-gray-900 mr-3"},[(0,a.bF)(ts,{icon:["fas","pencil"],class:"text-gray-500"}),t[58]||(t[58]=(0,a.eW)(" แก้ไข "))],8,qe),t[61]||(t[61]=(0,a.Lk)("span",{class:"font-medium text-gray-500 mr-3"},"·",-1)),(0,a.Lk)("button",{onClick:e=>l.deleteExam(s.id,o),type:"button",class:"font-medium text-gray-900 mr-3"},[(0,a.bF)(ts,{icon:["fas","trash"],class:"text-gray-500"}),t[59]||(t[59]=(0,a.eW)(" ลบ "))],8,Ye)])):(0,a.Q3)("",!0)])])])])))),128))])])])])]),(0,a.Lk)("section",He,[(0,a.Lk)("div",Ze,[(0,a.Lk)("div",et,[(0,a.Lk)("div",tt,[(0,a.Lk)("h2",st,[(0,a.bF)(ts,{icon:["fas","file"],class:"text-black mr-2"}),t[62]||(t[62]=(0,a.eW)("เอกสารประกอบการเรียน"))]),(0,a.Lk)("span",at,[this.master?((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:t[12]||(t[12]=(...e)=>l.OpenFileDocumentBrowser&&l.OpenFileDocumentBrowser(...e)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,a.bF)(ts,{icon:["fas","plus"],class:"text-gray-200 pr-3"}),t[63]||(t[63]=(0,a.eW)(" เพิ่ม "))])):(0,a.Q3)("",!0)])]),(0,a.Lk)("div",ot,[(0,a.Lk)("div",it,[(0,a.Lk)("ul",lt,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.documentData,((e,s)=>((0,a.uX)(),(0,a.CE)("li",{key:e.id},[(0,a.Lk)("div",nt,[(0,a.Lk)("div",rt,[(0,a.Lk)("div",ct,[(0,a.Lk)("div",dt,[(0,a.Lk)("div",ut,[(0,a.Lk)("div",{class:(0,n.C4)("fi fi-"+e.type)},[(0,a.Lk)("div",pt,(0,n.v_)(e.type),1)],2)])]),(0,a.Lk)("div",mt,[(0,a.Lk)("div",null,[(0,a.Lk)("p",gt,(0,n.v_)(e.name),1),(0,a.Lk)("p",ht,(0,n.v_)(e.type),1)])])]),(0,a.Lk)("div",null,[this.master||"none"===i.courseData.ref?((0,a.uX)(),(0,a.CE)("span",ft,[(0,a.Lk)("button",{onClick:t=>l.deleteDocument(e.id,s),type:"button",class:"font-medium text-gray-900 mr-3"},[(0,a.bF)(ts,{icon:["fas","trash"],class:"text-gray-500"}),t[64]||(t[64]=(0,a.eW)(" ลบ "))],8,yt)])):(0,a.Q3)("",!0)])])])])))),128))])])])])])]),(0,a.Lk)("section",xt,[(0,a.Lk)("div",bt,[(0,a.Lk)("div",kt,[void 0!=i.principles&&""!=i.principles?((0,a.uX)(),(0,a.CE)("div",vt,[t[65]||(t[65]=(0,a.Lk)("h2",{id:"applicant-information-title",class:"leading-6 text-sm font-bold text-black"},"หลักการและเหตุผล",-1)),(0,a.bF)(os,{class:"readmore text-sm text-gray-900","more-str":"แสดงเนื้อหา",text:i.principles,link:"#","less-str":"ย่อเนื้อหา","max-chars":200},null,8,["text"])])):(0,a.Q3)("",!0),void 0!=i.objective&&""!=i.objective?((0,a.uX)(),(0,a.CE)("div",wt,[t[66]||(t[66]=(0,a.Lk)("h2",{id:"applicant-information-title",class:"leading-6 text-sm font-bold text-black"},"วัตถุประสงค์",-1)),(0,a.bF)(os,{class:"readmore text-sm text-gray-900","more-str":"แสดงเนื้อหา",text:i.objective,link:"#","less-str":"ย่อเนื้อหา","max-chars":200},null,8,["text"])])):(0,a.Q3)("",!0),void 0!=i.target&&""!=i.target?((0,a.uX)(),(0,a.CE)("div",Lt,[t[67]||(t[67]=(0,a.Lk)("h2",{id:"applicant-information-title",class:"leading-6 text-sm font-bold text-black"},"กลุ่มเป้าหมาย",-1)),(0,a.bF)(os,{class:"readmore text-sm text-gray-900","more-str":"แสดงเนื้อหา",text:i.target,link:"#","less-str":"ย่อเนื้อหา","max-chars":200},null,8,["text"])])):(0,a.Q3)("",!0),void 0!=i.structure&&""!=i.structure?((0,a.uX)(),(0,a.CE)("div",Ct,[t[68]||(t[68]=(0,a.Lk)("h2",{id:"applicant-information-title",class:"leading-6 text-sm font-bold text-black"},"โครงสร้างหลักสูตร",-1)),(0,a.bF)(os,{class:"readmore text-sm text-gray-900","more-str":"แสดงเนื้อหา",text:i.structure,link:"#","less-str":"ย่อเนื้อหา","max-chars":200},null,8,["text"])])):(0,a.Q3)("",!0)])])])]),(0,a.Lk)("section",Ft,[(0,a.Lk)("div",Dt,[(0,a.Lk)("button",{onClick:t[13]||(t[13]=t=>e.$router.push("/lesson/edit/"+this.dataItem)),type:"button",class:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-100"},[(0,a.bF)(ts,{icon:["fas","pencil"],class:"text-black text-[12px] mr-2"}),t[69]||(t[69]=(0,a.eW)(" แก้ไขข้อมูล "))]),(0,a.Lk)("button",Tt,[(0,a.bF)(ts,{icon:["fas","trash"],class:"text-black text-[12px] mr-2"}),t[70]||(t[70]=(0,a.eW)(" ลบข้อมูล "))]),(0,a.Lk)("button",{onClick:t[14]||(t[14]=t=>e.$router.push("/lesson/index")),type:"button",class:"inline-flex items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-100"},[(0,a.bF)(ts,{icon:["fas","home"],class:"text-black text-[12px] mr-2"}),t[71]||(t[71]=(0,a.eW)(" ย้อนกลับ "))])]),(0,a.Lk)("div",Bt,[(0,a.Lk)("div",Et,[(0,a.Lk)("div",jt,[(0,a.Lk)("div",_t,[(0,a.Lk)("div",Ot,[(0,a.Lk)("div",Wt,[(0,a.Lk)("span",null,[(0,a.bF)(is,{modelValue:i.status,"onUpdate:modelValue":t[15]||(t[15]=e=>i.status=e),onChange:l.toggleStatus},null,8,["modelValue","onChange"])])])]),t[72]||(t[72]=(0,a.Lk)("div",{class:"ml-3 rounded-md border border-transparent bg-transparent py-2 px-3 text-sm font-bold text-blue-gray-900 hover:text-blue-gray-700 focus:border-blue-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-blue-gray-50"},[(0,a.eW)(" Course Status "),(0,a.Lk)("p",{class:"font-medium"},"การแสดงผลของหลักสูตร")],-1))])])])]),(0,a.Lk)("div",Pt,[(0,a.Lk)("div",Xt,[this.master?((0,a.uX)(),(0,a.CE)("div",At,t[73]||(t[73]=[(0,a.Lk)("div",{class:"flex"},[(0,a.Lk)("div",{class:"flex-shrink-0"},[(0,a.Lk)("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,a.Lk)("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z","clip-rule":"evenodd"})])]),(0,a.Lk)("div",{class:"ml-3"},[(0,a.Lk)("h3",{class:"text-sm font-bold text-red-800"},"แก้ไขข้อมูลใน Master Mode"),(0,a.Lk)("div",{class:"mt-2 text-sm text-red-700"},[(0,a.Lk)("ul",{role:"list",class:"list-disc space-y-1"},[(0,a.Lk)("li",null,"การแก้ไขข้อมูลใน Master หลังจากข้อมูลได้รับการบันทึกแล้ว หลักสููตรอื่นๆภายใต้ข้อมูลของ Master จะถูกเปลี่ยนแปลงไปด้วย กรุณาระมัดระวังในการแก้ไขข้อมูลในส่วนนี้")])])])],-1)]))):(0,a.Q3)("",!0),(0,a.Lk)("button",{onClick:t[16]||(t[16]=(...e)=>l.OpenFileBrowser&&l.OpenFileBrowser(...e)),type:"button",style:(0,n.Tr)({"background-image":"url("+this.cover+")"}),class:"relative bg-cover block w-full rounded-lg border-2 border-dashed border-gray-300 p-12 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,a.Lk)("div",It,[(0,a.bF)(ts,{icon:["fas","cloud-upload"],class:"mx-auto h-12 w-12 text-black"}),t[74]||(t[74]=(0,a.Lk)("span",{class:"mt-2 block text-sm font-medium text-black"},"เลือกรูปหน้าปก",-1))])],4)])]),(0,a.Lk)("div",Rt,[(0,a.Lk)("div",Mt,[(0,a.Lk)("div",Qt,[(0,a.Lk)("div",zt,[t[81]||(t[81]=(0,a.Lk)("h2",{id:"timeline-title",class:"text-lg font-bold text-gray-900"},"สถิติของหลักสูตรนี้",-1)),(0,a.Lk)("div",St,[(0,a.Lk)("dl",Kt,[(0,a.Lk)("div",$t,[(0,a.Lk)("dt",null,[(0,a.Lk)("div",Nt,[(0,a.bF)(ts,{icon:["fas","users"],class:"h-6 w-6 text-white"})]),t[75]||(t[75]=(0,a.Lk)("p",{class:"ml-16 truncate text-sm font-medium text-gray-500"},"ผู้ลงทะเบียนหลักสูตร",-1))]),t[76]||(t[76]=(0,a.Fv)('<dd class="ml-16 flex items-baseline pb-6 sm:pb-7"><p class="text-2xl font-semibold text-gray-900">0</p><p class="ml-2 flex items-baseline text-sm font-semibold text-green-600"><svg class="h-5 w-5 flex-shrink-0 self-center text-green-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 17a.75.75 0 01-.75-.75V5.612L5.29 9.77a.75.75 0 01-1.08-1.04l5.25-5.5a.75.75 0 011.08 0l5.25 5.5a.75.75 0 11-1.08 1.04l-3.96-4.158V16.25A.75.75 0 0110 17z" clip-rule="evenodd"></path></svg><span class="sr-only"> Increased by </span> 0 </p><div class="absolute inset-x-0 bottom-0 bg-gray-50 px-4 py-4 sm:px-6"><div class="text-sm"><a href="#" class="font-medium text-indigo-600 hover:text-indigo-500"> ดูรายชื่อทั้งหมด<span class="sr-only"> Total Subscribers stats</span></a></div></div></dd>',1))]),(0,a.Lk)("div",Ut,[(0,a.Lk)("dt",null,[(0,a.Lk)("div",Vt,[(0,a.bF)(ts,{icon:["fas","award"],class:"h-6 w-6 text-white"})]),t[77]||(t[77]=(0,a.Lk)("p",{class:"ml-16 truncate text-sm font-medium text-gray-500"},"ผู้ผ่านการอบรม",-1))]),t[78]||(t[78]=(0,a.Fv)('<dd class="ml-16 flex items-baseline pb-6 sm:pb-7"><p class="text-2xl font-semibold text-gray-900">0</p><p class="ml-2 flex items-baseline text-sm font-semibold text-green-600"><svg class="h-5 w-5 flex-shrink-0 self-center text-green-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 17a.75.75 0 01-.75-.75V5.612L5.29 9.77a.75.75 0 01-1.08-1.04l5.25-5.5a.75.75 0 011.08 0l5.25 5.5a.75.75 0 11-1.08 1.04l-3.96-4.158V16.25A.75.75 0 0110 17z" clip-rule="evenodd"></path></svg><span class="sr-only"> Increased by </span> 0% </p></dd>',1))]),(0,a.Lk)("div",Jt,[(0,a.Lk)("dt",null,[(0,a.Lk)("div",Gt,[(0,a.bF)(ts,{icon:["fas","arrow-pointer"],class:"h-6 w-6 text-white"})]),t[79]||(t[79]=(0,a.Lk)("p",{class:"ml-16 truncate text-sm font-medium text-gray-500"},"ยอดผู้เข้าชม",-1))]),t[80]||(t[80]=(0,a.Fv)('<dd class="ml-16 flex items-baseline pb-6 sm:pb-7"><p class="text-2xl font-semibold text-gray-900">0</p><p class="ml-2 flex items-baseline text-sm font-semibold text-red-600"><svg class="h-5 w-5 flex-shrink-0 self-center text-red-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 3a.75.75 0 01.75.75v10.638l3.96-4.158a.75.75 0 111.08 1.04l-5.25 5.5a.75.75 0 01-1.08 0l-5.25-5.5a.75.75 0 111.08-1.04l3.96 4.158V3.75A.75.75 0 0110 3z" clip-rule="evenodd"></path></svg><span class="sr-only"> Decreased by </span> 0% </p></dd>',1))])])])])])]),"none"==i.courseData.ref||this.master?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",qt,[(0,a.Lk)("button",{onClick:t[17]||(t[17]=e=>l.unlinkMaster()),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent bg-rose-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,a.bF)(ts,{icon:["fas","save"],class:"pr-2 pl-2"}),t[82]||(t[82]=(0,a.eW)("ยกเลิกการอ้างอิงกับ Master data "))]),t[83]||(t[83]=(0,a.Lk)("p",{class:"text-left text-sm text-rose-400 pt-3"},"หลังจากยกเลิกแล้ว การแก้ไขข้อมูลจะไม่มีผลต่อเนื่องกันระหว่าง Master และหลักสูตรนี้ ขั้นตอนนี้ไม่สามารถย้อนกลับได้",-1))]))])])])])):(0,a.Q3)("",!0)],64)}s(98992),s(3949);var Ht=s(87054),Zt=s(50953),es=s(59911),ts=s.n(es),ss=s(75435),as=s(69505),os=s(40687),is=s(51678),ls=s(40475),ns=s(49170),rs=s(95093),cs=s.n(rs),ds=s(77066),us=s(12055);cs()().format();const ps=["vue.js 3.0","vue.draggable","draggable","component","for","based","on","Sortablejs"];var ms={data(){const e=ls.A.get("session");return{contentType:[],courseData:[],playerData:[],playerCount:"0",examData:[],documentData:[],documentCount:"0",playerParent:[],playerFolder:[],playerChild:[],playerParentCount:"",playerChildCount:"",examCount:"0",schoolAdmin:[],subArray:[],dataItem:this.$route.params.id,accessToken:e.token,login:e.login,selectCourseCover:"",loading_sources:!0,FileBrowserOpen:!1,FileBrowserDocOpen:!1,readMoreActivated:!1,dragging:!1,cover:"",type:"",ref:"",display:"",mode:"",modeName:"",displayName:"",kindName:"",principles:"",objective:"",target:"",structure:"",enabled:!0,order:6,status:"",endpoint:"",valuePoint:"",playerRef:"",examRef:"",MasterText:e.MasterText,master:e.master,list:ps.map(((e,t)=>({name:e,order:t+1})))}},components:{Loader:ss.A,CourseIcon:ds.A,CourseStat:us.A,Toggle:as.A,Tooltip:ns.m,draggable:is.H,FileBrowser:os.A},computed:{playerType(){return console.log("PlayerType",Ht.OC),Ht.OC},examType(){return console.log("examType",Ht.Ac),Ht.Ac},categoryData(){const e=ls.A.get("session"),t=e.category;return t},draggingInfo(){return console.log("Drag"),this.dragging?"under drag":""},dragOptions(){return{animation:1,group:"description",disabled:!1,ghostClass:"ghost"}}},methods:{objectFindByKey(e,t,s){for(var a=0;a<e.length;a++)if(e[a][t]===s)return e[a];return null},log(e){for(var t of(console.log(e),Object.keys(this.playerParent)))console.log(t+" -> "+this.playerParent[t].id),this.reOrderPlayer(this.playerParent[t].id,("0"+t).slice(-2))},log_sub(e){for(var t of(console.log(e),Object.keys(this.playerFolder[e])))console.log(t+" -> "+this.playerFolder[e][t].id),this.reOrderPlayer(this.playerFolder[e][t].id,("0"+t).slice(-2))},sort(){this.list=this.list.sort(((e,t)=>e.order-t.order))},dateTime(e){return cs()(e).format("DD/MM/YYYY hh:mm:ss")},async getData(){if(this.login)try{this.loading_sources=!1;const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/"+this.endpoint+"/"+this.dataItem,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),t=await e.json();if(console.log(t),t.success){this.courseData=t.data,this.principles=this.courseData.principles,this.objective=this.courseData.objective,this.target=this.courseData.target,this.structure=this.courseData.structure,this.cover=t.data.cover,this.mode=t.data.mode,this.display=t.data.display,this.type=t.data.type,this.ref=t.data.ref,this.playerRef=t.data.playerRef??this.ref,this.examRef=t.data.examRef??this.ref,this.status=t.data.status??!0;const e=await this.getPlayerData();console.log("getPlayerData",e);const s=await this.getDocumentData();console.log("getDocumentData",s);const a=await this.getExamData();console.log("getExamData",a),a.success&&(void 0!=e.data?(this.playerData=e.data,this.playerData.sort((function(e,t){return e.order<t.order?-1:1})),this.playerCount=this.playerData.length,e.data.forEach((e=>{"folder"!=e.type&&"sub"===e.mode&&(0,Zt.KR)(this.playerChild.push(e))})),e.data.forEach((e=>{"sub"!=e.mode&&(0,Zt.KR)(this.playerParent.push(e))})),this.playerParent.forEach((e=>{let t=e.id;this.playerFolder[t]=[],this.playerChild.forEach((s=>{console.log("root",s.root),s.root===e.id&&(console.log(s.root+" - "+e.id),this.playerFolder[t].push(s))}))})),console.log("Folder",this.playerParent),console.log("Sub",this.playerChild),console.log("playerFolder",this.playerFolder),this.playerParent.sort((function(e,t){return e.order<t.order?-1:1})),this.playerChild.sort((function(e,t){return e.order<t.order?-1:1})),this.playerParentCount=this.playerParent.length,this.playerChildCount=this.playerChild.length):(this.playerCount="0",this.playerParentCount="0",this.playerChildCount="0"),void 0!=a.data&&(this.examData=a.data,this.examCount=this.examData.length),void 0!=s.data&&(this.documentData=s.data,this.documentCount=this.documentData.length),this.loading_sources=!0)}}catch(e){console.log(e)}},async getPlayerData(){if(this.login)try{this.master?this.valuePoint=this.dataItem:this.valuePoint=this.playerRef;const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/course/"+this.valuePoint,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}});return await e.json()}catch(e){console.log(e)}},async getExamData(){if(this.login)try{this.master?this.valuePoint=this.dataItem:this.valuePoint=this.examRef;const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/exams/course/"+this.valuePoint,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}});return await e.json()}catch(e){console.log(e)}},async getDocumentData(){if(this.login)try{this.master?this.valuePoint=this.dataItem:this.valuePoint=this.playerRef;const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/mcourses/documents/"+this.dataItem,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),t=await e.json();if(console.log(t),t.success)return void 0!=t.data&&(this.documentData=t.data,this.documentCount=this.documentData.length),t}catch(e){console.log(e)}},async getCategoryData(){if(this.login)try{this.loading_sources=!1;const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/catagories/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),t=await e.json();return console.log("Category",t),t}catch(e){console.log(e)}},async deleteData(e){if(this.login)try{this.loading_sources=!1;const t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/schools/removeAdmin/"+this.dataItem,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({userId:e})});console.log(t),this.loading_sources=!0,await this.getData()}catch(t){console.log(t)}},changeFileTrigger(e){this.FileBrowserOpen=e},selectFileTrigger(e){console.log("selectFileTrigger"),void 0!=e&&(this.selectCourseCover=e,console.log("selectFileReturnFunction",e.file),this.updataCover(e.file))},async updataCover(e){if(this.login)try{const t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/"+this.endpoint+"/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({cover:e})}),s=await t.json();s.success&&(this.cover=e,this.$swal({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,icon:"success",title:"แก้ไขรูปหน้าปก",text:"แก้ไขรูปหน้าปก สำเร็จแล้ว"}))}catch(t){console.log(t)}},OpenFileDocumentBrowser(){this.FileBrowserDocOpen=!0},changeFileDocumentTrigger(e){this.FileBrowserDocOpen=e},selectFileDocumentTrigger(e){console.log("selectFileDocumentTrigger"),void 0!=e&&(this.FileBrowserDocOpen=!1,console.log("selectFileDocumentTrigger",e.file),this.addDocument(e.file))},async addData(){if(this.login)try{this.activeBlock=!0;const e=ls.A.get("session","token"),t=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/modes?limit=5000",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}),s=await t.json();s.success&&(console.log(s),this.activeBlock=!1)}catch(e){console.log(e)}},async addDocument(e){if(this.login)try{this.loading_sources=!1;let t=e.replace("/","").substring(e.replace("/","").lastIndexOf(".")+1),s=e.substring(e.lastIndexOf("/"));console.log("filename",s);const a=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/mcourses/documents/"+this.dataItem,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({file:e,name:s.replace(/\//g,""),type:t})});console.log(a),this.loading_sources=!0,await this.getDocumentData()}catch(t){console.log(t)}},async deleteDocument(e,t){if(this.login)try{const s=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/mcourses/documents/"+this.dataItem+"/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),a=await s.json();a.success&&(this.documentData.splice(t,1),console.log(a))}catch(s){console.log(s)}},async toggleStatus(){if(this.login)try{const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/"+this.endpoint+"/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({status:this.status})}),t=await e.json();t.success&&console.log("Update Status")}catch(e){console.log(e)}},async changePlayerRef(){if(this.login)try{console.log(this.playerRef);const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/"+this.endpoint+"/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({playerRef:this.playerRef})}),t=await e.json();t.success&&(console.log("Update playerRef"),location.reload())}catch(e){console.log(e)}},async changeExamRef(){if(this.login)try{console.log(this.examRef);const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/"+this.endpoint+"/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({examRef:this.examRef})}),t=await e.json();t.success&&(console.log("Update examRef"),location.reload())}catch(e){console.log(e)}},async unlinkMaster(){if(this.login)try{const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/"+this.endpoint+"/"+this.dataItem,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({ref:"none",examRef:this.dataItem,playerRef:this.dataItem})}),t=await e.json();t.success&&(console.log("Update Unline Master"),location.reload())}catch(e){console.log(e)}},async deletePlayer(e,t){if(this.login)try{console.log("id",e),console.log("index",t),this.$swal({title:"ต้องการลบข้อมูลนี้ ?",text:"หลังจากลบแล้วจะไม่สามารถกู้คืนข้อมูลนี้ได้อีก !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"ตกลง ลบเลย",cancelButtonText:"ยกเลิก",closeOnConfirm:!1,closeOnCancel:!1}).then((s=>{s.isConfirmed?(console.log("Delete"),this.confirmDeletePlayer(e,t)):console.log("Cancel")}))}catch(s){console.log(s)}},async confirmDeletePlayer(e,t){if(this.login)try{console.log("id",e);const s=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),a=await s.json();a.success&&(this.playerParent.splice(t,1),console.log(a))}catch(s){console.log(s)}},async deleteSubPlayer(e,t,s){if(this.login)try{console.log("id",e),console.log("index",s),this.$swal({title:"ต้องการลบข้อมูลนี้ ?",text:"หลังจากลบแล้วจะไม่สามารถกู้คืนข้อมูลนี้ได้อีก !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"ตกลง ลบเลย",cancelButtonText:"ยกเลิก",closeOnConfirm:!1,closeOnCancel:!1}).then((a=>{a.isConfirmed?(console.log("Delete"),this.confirmDeleteSubPlayer(e,t,s)):console.log("Cancel")}))}catch(a){console.log(a)}},async confirmDeleteSubPlayer(e,t,s){if(this.login)try{console.log("id",e);const a=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),o=await a.json();o.success&&(this.playerFolder[t].splice(s,1),console.log(o))}catch(a){console.log(a)}},async deleteExam(e,t){if(this.login)try{console.log("id",e),console.log("index",t),this.$swal({title:"ต้องการลบข้อมูลนี้ ?",text:"หลังจากลบแล้วจะไม่สามารถกู้คืนข้อมูลนี้ได้อีก !",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"ตกลง ลบเลย",cancelButtonText:"ยกเลิก",closeOnConfirm:!1,closeOnCancel:!1}).then((s=>{s.isConfirmed?(console.log("Delete"),this.confirmDeleteExam(e,t)):console.log("Cancel")}))}catch(s){console.log(s)}},async confirmDeleteExam(e,t){if(this.login)try{const s=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/exams/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),a=await s.json();a.success&&(this.examData.splice(t,1),this.$swal({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,icon:"success",title:"ลบข้อมูล",text:"ลบข้อมุลนี้ สำเร็จแล้ว"}))}catch(s){console.log(s)}},async reOrderPlayer(e,t){if(this.login)try{const s=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/players/"+e,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({order:t})}),a=await s.json();a.success&&console.log("ReOrder")}catch(s){console.log(s)}},OpenFileBrowser(){this.FileBrowserOpen=!0},checkMove:function(e){return"apple"!==e.draggedContext.element.name},updated(){ts().replace()}},async mounted(){try{this.master?this.endpoint="mcourses":this.endpoint="courses",await this.getData(),this.modeType=Ht.Mq,this.modeName=this.objectFindByKey(this.modeType,"code",this.mode).name,this.displayType=Ht.Vy,this.displayName=this.objectFindByKey(this.displayType,"code",this.display).name,this.kindType=Ht.fM,this.kindName=this.objectFindByKey(this.kindType,"code",this.type).name}catch(e){console.log(Error)}},setup(){}},gs=s(64621);const hs=(0,gs.A)(ms,[["render",Yt]]);var fs=hs,ys={name:"Lesson Detail",components:{Detail:fs},data(){return{login:ls.A.get("session","login")}},methods:{},setup(){const e=(0,l.lq)(),t=e.meta.title;(0,i.K7)(t)}};const xs=(0,gs.A)(ys,[["render",o]]);var bs=xs},12055:function(e,t,s){s.d(t,{A:function(){return m}});var a=s(20641);const o={class:"bg-gray-600 text-[12px] text-white rounded mr-2 pl-1 pr-1 pt-1 pb-1"},i={class:"bg-gray-600 text-[12px] text-white rounded mr-2 pl-1 pr-1 pt-1 pb-1"},l={class:"bg-gray-600 text-[12px] text-white rounded mr-2 pl-1 pr-1 pt-1 pb-1"};function n(e,t,s,n,r,c){const d=(0,a.g2)("font-awesome-icon"),u=(0,a.g2)("Tooltip");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(u,{title:"จำนวนบทเรียน",size:"12"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",o,[t[0]||(t[0]=(0,a.eW)(" 0 ")),(0,a.bF)(d,{icon:["fas","book"],class:"text-white mr-2"})])])),_:1}),(0,a.bF)(u,{title:"แบบทดสอบ",size:"12"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",i,[t[1]||(t[1]=(0,a.eW)(" 0 ")),(0,a.bF)(d,{icon:["fas","square-check"],class:"text-white mr-2"})])])),_:1}),(0,a.bF)(u,{title:"ผู้ลงทะเบียน",size:"12"},{default:(0,a.k6)((()=>[(0,a.Lk)("span",l,[t[2]||(t[2]=(0,a.eW)(" 0 ")),(0,a.bF)(d,{icon:["fas","user"],class:"text-white mr-2"})])])),_:1})],64)}var r=s(49170),c=s(43684),d={props:["title","chcek"],components:{Tooltip:r.m},data(){return{master:c.ls.get("master")}}},u=s(64621);const p=(0,u.A)(d,[["render",n]]);var m=p},40687:function(e,t,s){s.d(t,{A:function(){return f}});var a=s(20641),o=s(50953),i=s(90033),l=s(94232),n=s(10797),r=s(55372);const c={key:0,class:"fixed inset-0 overflow-y-auto"},d={class:"flex min-h-full items-center justify-center p-4 text-center"},u={class:"font-medium"},p={class:"bg-black w-8 h-8 right-2 top-2 leading-8 hover:bg-gray-500"},m={props:["isWindowsOpen","allowFileType","callbackFunction"],data(){return console.log("FileBrowser props:",this.isWindowsOpen,this.allowFileType,this.callbackFunction),{SessionList:[],loading_sources:!0,activeBlock:!1,schoolId:"",isOpen:this.isWindowsOpen,isAllow:this.allowFileType,isCallback:this.callbackFunction,mode:"popup"}},components:{FileManager:r.A},watch:{isWindowsOpen(e){console.log("isWindowsOpen changed to:",e),this.isOpen=e}},methods:{selectFileTrigger(e){this.selectFileTrigger=e,this.closeModal(),this.selectFile(e)},closeModal(){this.isOpen=!1,this.$emit("fileBrowserTrigger",!1)},selectFile(e){this.$emit("fileBrowserCallback",e)}},async mounted(){console.log("FileBrowser mounted with isOpen:",this.isOpen,"isWindowsOpen:",this.isWindowsOpen)},setup(){}};var g=Object.assign(m,{__name:"FileBrowser",setup(e){return(t,s)=>{const m=(0,a.g2)("font-awesome-icon");return(0,a.uX)(),(0,a.Wv)((0,o.R1)(l.O),{appear:"",show:t.isOpen,as:"template"},{default:(0,a.k6)((()=>[(0,a.bF)((0,o.R1)(n.lG),{as:"div",onClose:t.closeModal,class:"relative z-10"},{default:(0,a.k6)((()=>[(0,a.bF)((0,o.R1)(l._),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,a.k6)((()=>s[1]||(s[1]=[(0,a.Lk)("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)]))),_:1}),t.loading_sources?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",d,[(0,a.bF)((0,o.R1)(l._),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:(0,a.k6)((()=>[(0,a.bF)((0,o.R1)(n.Lj),{class:(0,i.C4)(["w-[60rem] z-40 transform overflow-hidden bg-white p-3 text-left align-middle shadow-xl transition-all blocking relative",[t.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},{default:(0,a.k6)((()=>[(0,a.bF)((0,o.R1)(n.L3),{as:"h3",class:"text-lg pb-2 font-bold leading-6 text-gray-900 border-b"},{default:(0,a.k6)((()=>[s[3]||(s[3]=(0,a.eW)("เลือกไฟล์ (Select File) ")),(0,a.Lk)("p",u,[s[2]||(s[2]=(0,a.eW)("อนุญาติเฉพาะไฟล์ ")),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.allowFileType,(e=>((0,a.uX)(),(0,a.CE)("span",{key:e.code,class:"text-xs font-medium bg-indigo-600 pl-2 pr-2 pt-1 mr-1 rounded text-white"},(0,i.v_)(e),1)))),128))]),(0,a.Lk)("button",{onClick:s[0]||(s[0]=(...e)=>t.closeModal&&t.closeModal(...e)),type:"button",class:"z-50 absolute top-2 right-2"},[(0,a.Lk)("div",p,[(0,a.bF)(m,{icon:["fas","times"],class:"text-white mt-[7px] font-sm"})])])])),_:1}),(0,a.Lk)("div",null,[(0,a.bF)(r.A,{onSelectFileTrigger:t.selectFileTrigger,Mode:t.mode,AllowFile:t.isAllow,CallbackFunc:t.isCallback},null,8,["onSelectFileTrigger","Mode","AllowFile","CallbackFunc"])])])),_:1},8,["class"])])),_:1})])])):(0,a.Q3)("",!0)])),_:1},8,["onClose"])])),_:1},8,["show"])}}});const h=g;var f=h}}]);
//# sourceMappingURL=9548.a7a97f07.js.map