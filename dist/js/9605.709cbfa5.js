(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[9605],{89605:function(e,o,s){"use strict";s.r(o),s.d(o,{default:function(){return R}});var t=s(20641);function a(e,o,s,a,n,i){const d=(0,t.g2)("Add");return this.login?((0,t.uX)(),(0,t.Wv)(d,{key:0})):(0,t.Q3)("",!0)}var n=s(52968),i=s(75220),d=(s(44114),s(90033)),l=s(53751);const r={class:"py-2 border-gray-800"},c={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 xl:flex xl:items-center xl:justify-between"},u={class:"min-w-0 flex-1"},m={class:"mt-2 text-xl font-bold leading-7 text-gray-700 sm:truncate sm:text-1xl sm:tracking-tight"},p={class:"mt-5 flex xl:mt-0 xl:ml-4"},g={class:"hidden sm:block"},y={class:"flex-1 bg-gray-100 pt-2 pb-5 border-t"},f={class:"mt-8"},x={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},b={class:"space-y-6 sm:px-6 lg:col-span-9 lg:px-0"},h={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},k={class:"px-4 py-5 sm:p-6"},v={class:"grid grid-cols-4 gap-6"},L={class:"col-span-4 sm:col-span-4"},w={class:"mt-6 grid grid-cols-4 gap-6"},C={class:"col-span-4 sm:col-span-2"},I={class:"col-span-4 sm:col-span-2"},_={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},A={class:"px-4 py-5 sm:p-6"},P={class:"grid grid-cols-4 gap-6"},T={class:"col-span-4 sm:col-span-4"},V={class:""},D={class:"space-y-4 sm:flex sm:items-center sm:space-y-0 sm:space-x-10"},E=["id","value"],U=["for"],M={class:"text-gray-500 font-medium"},O={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},S={class:"px-4 py-5 sm:p-6"},$={class:"grid grid-cols-4 gap-6"},F={class:"col-span-4 sm:col-span-6"},j={class:"bg-gray-50 px-4 py-4 sm:px-6 text-right"},J={type:"submit",class:"ml-3 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"};function B(e,o,s,a,n,i){const B=(0,t.g2)("font-awesome-icon"),X=(0,t.g2)("MiniMCE");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("header",r,[(0,t.Lk)("div",c,[(0,t.Lk)("div",u,[(0,t.Lk)("h1",m,[(0,t.bF)(B,{icon:["fas",n.PageIcon],class:"text-gray-500 text-[24px]"},null,8,["icon"]),(0,t.eW)(" "+(0,d.v_)(n.PageName),1)])]),(0,t.Lk)("div",p,[(0,t.Lk)("span",g,[(0,t.Lk)("button",{onClick:o[0]||(o[0]=o=>e.$router.push("/lesson/detail/"+this.courseId)),type:"button",class:"ml-3 inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-50"},[(0,t.bF)(B,{icon:["fas","chevron-left"],class:"text-black text-[12px] mr-2"}),o[11]||(o[11]=(0,t.eW)(" ย้อนกลับ "))])])])])]),(0,t.Lk)("div",y,[(0,t.Lk)("div",f,[(0,t.Lk)("div",x,[(0,t.Lk)("div",b,[(0,t.Lk)("form",{onSubmit:o[10]||(o[10]=(0,l.D$)(((...e)=>i.addData&&i.addData(...e)),["prevent"]))},[(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>n.playerId=e),type:"hidden",name:"playerId",id:"playerId",autocomplete:"playerId",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[l.Jo,n.playerId]]),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[2]||(o[2]=e=>n.courseId=e),type:"hidden",name:"courseId",id:"courseId",autocomplete:"courseId",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[l.Jo,n.courseId]]),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[3]||(o[3]=e=>n.mode=e),type:"hidden",name:"mode",id:"mode",autocomplete:"mode",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[l.Jo,n.mode]]),(0,t.Lk)("section",{"aria-labelledby":"payment-details-heading",class:(0,d.C4)(["relative",[n.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},[(0,t.Lk)("div",h,[o[15]||(o[15]=(0,t.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,t.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"ข้อมูลบทเรียน"),(0,t.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของบทเรียนให้ครบถ้วน")],-1)),(0,t.Lk)("div",k,[(0,t.Lk)("div",v,[(0,t.Lk)("div",L,[o[12]||(o[12]=(0,t.Lk)("label",{for:"name",class:"block text-base font-medium text-gray-900"},"ชื่อบทเรียน",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[4]||(o[4]=e=>n.name=e),type:"text",name:"name",id:"name",autocomplete:"name",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[l.Jo,n.name]])])]),(0,t.Lk)("div",w,[(0,t.Lk)("div",C,[o[13]||(o[13]=(0,t.Lk)("label",{for:"slug",class:"block text-base font-medium text-gray-900"},"รหัสบทเรียน",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[5]||(o[5]=e=>n.slug=e),type:"text",name:"slug",id:"slug",autocomplete:"slug",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[l.Jo,n.slug]])]),(0,t.Lk)("div",I,[o[14]||(o[14]=(0,t.Lk)("label",{for:"duration",class:"block text-base font-medium text-gray-900"},"ความยาว (นาที)",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[6]||(o[6]=e=>n.duration=e),type:"text",name:"duration",id:"duration",autocomplete:"duration",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[l.Jo,n.duration]])])])])]),(0,t.Lk)("div",_,[o[16]||(o[16]=(0,t.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,t.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"ประเภทบทเรียน (Type)"),(0,t.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของบทเรียนให้ครบถ้วน")],-1)),(0,t.Lk)("div",A,[(0,t.Lk)("div",P,[(0,t.Lk)("div",T,[(0,t.Lk)("fieldset",V,[(0,t.Lk)("div",D,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(n.playerType,(e=>((0,t.uX)(),(0,t.CE)("div",{key:e.id,class:"flex items-center"},["folder"!==e.code?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":o[7]||(o[7]=e=>n.type=e),id:e.code,value:e.code,type:"radio",class:"mt-[-20px] h-4 w-4 border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,E),[[l.XL,n.type]]),(0,t.Lk)("label",{for:e.code,class:"ml-3 block text-sm font-bold text-gray-700"},[(0,t.eW)((0,d.v_)(e.slug)+" ",1),(0,t.Lk)("p",M,(0,d.v_)(e.name),1)],8,U)],64)):(0,t.Q3)("",!0)])))),128))])])])])])]),(0,t.Lk)("div",O,[o[19]||(o[19]=(0,t.Lk)("div",{class:"px-4 py-5 sm:px-6"},[(0,t.Lk)("h2",{id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},"คำอธิบาย"),(0,t.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของบทเรียนให้ครบถ้วน")],-1)),(0,t.Lk)("div",S,[(0,t.Lk)("div",$,[(0,t.Lk)("div",F,[o[17]||(o[17]=(0,t.Lk)("label",{for:"slug",class:"block text-base font-medium text-gray-900"},"คำอธิบาย",-1)),(0,t.bF)(X,{modelValue:n.description,"onUpdate:modelValue":o[8]||(o[8]=e=>n.description=e),options:{}},null,8,["modelValue"])])])]),(0,t.Lk)("div",j,[(0,t.Lk)("button",{onClick:o[9]||(o[9]=o=>e.$router.push("/lesson/detail/"+this.courseId)),type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," ยกเลิก "),(0,t.Lk)("button",J,[(0,t.bF)(B,{icon:["fas","save"],class:"pr-2 pl-2"}),o[18]||(o[18]=(0,t.eW)("บันทึกข้อมูล "))])])])],2)],32)])])])])],64)}var X=s(87054),N=s(43684),W=s(35100),K=(s(4934),s(12983),s(40475)),q={name:"ContactUs",inject:["apiServer"],data(){const e=(0,i.lq)(),o=K.A.get("session");return{login:K.A.get("session","login"),configs:K.A.get("configs"),PageName:e.meta.title,PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page,accessSession:[],playerType:[],order:this.$route.params.count++,name:"",slug:"",description:"",duration:"",type:"demand",mode:"sub",activeBlock:!1,schoolData:[],loading_sources:!0,courseId:this.$route.params.cid,playerId:this.$route.params.pid,MasterText:o.MasterText,master:o.master,session:o}},components:{MiniMCE:W.A},methods:{slugify(e){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();for(var o="àáãäâèéëêìíïîòóöôùúüûñç·/_,:;",s="aaaaaeeeeiiiioooouuuunc------",t=0,a=o.length;t<a;t++)e=e.replace(new RegExp(o.charAt(t),"g"),s.charAt(t));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),e},async getData(){if(this.login)try{let e=this.$route.params.id;this.loading_sources=!1;const o=await fetch("https://gateway.cloudrestfulapi.com/api/"+this.endpoint+"/"+e,{method:"GET",headers:{"Content-Type":"application/json","client-token-key":this.configs.key}}),s=await o.json();console.log(s),this.schoolData=s.data,this.loading_sources=!0,this.school=N.ls.get("school")}catch(e){console.log(e)}},async addData(){if(this.login)try{const e=await fetch("https://gateway.cloudrestfulapi.com/api/player",{method:"POST",headers:{"Content-Type":"application/json","client-token-key":this.configs.key},body:JSON.stringify({data:{courseId:this.courseId,root:this.playerId,name:this.name,slug:this.slugify(this.slug),description:this.description,duration:this.duration,type:this.type,mode:this.mode,order:("0"+this.order).slice(-2)},options:{}})}),o=await e.json();o.success&&this.$swal({title:"บันทึกข้อมูลเรียบร้อยแล้ว ?",text:"คุณต้องการที่จะดำเนินการอย่างไร !",type:"success",showCancelButton:!0,confirmButtonColor:"#0054b4",confirmButtonText:"กลับไปหน้าหลัก",cancelButtonText:"เพิ่มข้อมูลใหม่",closeOnConfirm:!1,closeOnCancel:!1}).then((e=>{e.isConfirmed?(console.log("Home"),window.location.href="/lesson/detail/"+this.courseId):(console.log("New"),window.location.reload())}))}catch(e){console.log(e)}}},setup(){},async mounted(){try{this.master?this.endpoint="mcourse":this.endpoint="course",await this.getData(),this.accessSession=this.session.current._id,this.playerType=X.OC}catch(e){console.log(Error)}}},Q=s(64621);const Y=(0,Q.A)(q,[["render",B]]);var z=Y,G={name:"AddSub",components:{Add:z},data(){return{login:K.A.get("session","login")}},methods:{},setup(){const e=(0,i.lq)(),o=e.meta.title;(0,n.K7)(o)}};const H=(0,Q.A)(G,[["render",a]]);var R=H},87054:function(e,o){o.OC=[{code:"demand",slug:"On-Demand",name:"ไฟล์วีดีโอ"},{code:"streaming",slug:"Streaming",name:"ลิงค์สตรีมมิ่ง"},{code:"live",slug:"live",name:"ไลฟ์"},{code:"youtube",slug:"Youtube",name:"Youtube"},{code:"document",slug:"Document",name:"เอกสาร"},{code:"exam",slug:"Exam",name:"แบบทดสอบ"},{code:"folder",slug:"Folder",name:"บทเรียนแบบกลุ่ม"}],o.Ac=[{code:"general",name:"ข้อสอบทั่วไป"},{code:"pre",name:"ข้อสอบก่อนเรียน"},{code:"post",name:"ข้อสอบหลังเรียน"}],o.Mq=[{code:"standard",name:"คอร์สธรรมดา",description:"คอร์สเรียนตามปกติ จำกัดการเรียนด้วยเงื่อนไข"},{code:"buffe",name:"คอร์สบุฟเฟต์",description:"เรียนได้ไม่จำกัดภายในเงื่อนไขที่กำหนด"},{code:"seminar",name:"คอร์สสัมนนา",description:"หลักสูตรสัมมนา"}],o.Vy=[{code:"step",name:"เรียนตามลำดับ",description:"ต้องเรียนให้จบเป็นลำดับไปทีละบท"},{code:"full",name:"เรียนได้ทั้งหมด",description:"สามารถเลือกเรียนได้เองทุกบท"},{code:"onsite",name:"อบรมในสสถานที่",description:"ฝึกอบรมในสถานที่"}],o.Up=[{code:"single",name:"หลักสูตรเดี่ยว (Single Course)",description:"เรียนแบบหลักสูตรเดี่ยว"},{code:"multiple",name:"หลักสูตรรวม (Multiple Course)",description:"เรียนแบบหลักสูตรรวม"}],o.fM=[{code:"e_learning",name:"หลักสูตร e-Learning",description:"ศูนย์รวมหลักสูตรออนไลน์"},{code:"onsite",name:"หลักสูตร Onsite",description:"ศูนย์รวมหลักสูตรสัมมนา"},{code:"public_course",name:"หลักสูตร Public Course",description:"รวมหลักสูตรที่เผนแพร่จากสาธารณะ"},{code:"online_course",name:"หลักสูตร Online Course",description:"งานอบรมผ่านการสัมมนาออนไลน์"},{code:"premium_course",name:"หลักสูตร Premium Course",description:"หลักสูตรพิเศษเฉพาะสำหรับสมาชิก"}],o.gd=[{code:"pre",name:"สำรองที่นั่ง",description:"สำรองที่นั่งล่วงหน้า"},{code:"free",name:"เรียนฟรี",description:"เรียนฟรีไม่มีเงื่อนไข"},{code:"paid",name:"จ่ายเงิน",description:"มีค่าใช้จ่ายในกาเรลงทะเบียน"}]}}]);
//# sourceMappingURL=9605.709cbfa5.js.map