"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[9647],{54722:function(e,o,t){t.r(o),t.d(o,{default:function(){return Ve}});var s=t(20641);function a(e,o,t,a,l,n){const i=(0,s.g2)("Config");return this.login?((0,s.uX)(),(0,s.Wv)(i,{key:0})):(0,s.Q3)("",!0)}var l=t(52968),n=t(75220),i=(t(44114),t(53751)),r=t(90033);const d={key:1,class:"text-center"},c={key:2},g={class:"flex-1 bg-gray-100 pt-2 pb-5 border-t"},m={class:"mt-8"},u={class:"mx-auto max-w-7xl px-6 sm:px-6 lg:px-6"},p={class:"space-y-6 sm:px-6 lg:col-span-9 lg:px-0"},y={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},b={class:"px-4 py-5 sm:px-6"},f={id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},h={class:"py-6 px-4 sm:p-6 lg:pb-8"},k={class:"grid grid-cols-5 gap-6"},x={class:"col-span-1 bg-gray-200/80"},w={class:"p-3"},_={class:"col-span-4"},v={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},L={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},C={class:"px-4 py-5 sm:px-6"},F={id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},E={class:"px-4 py-5 sm:p-6"},B={class:"grid grid-cols-6 gap-6"},T={class:"col-span-4 sm:col-span-3"},S={class:"col-span-4 sm:col-span-3"},K={class:"col-span-4 sm:col-span-3"},V={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},U={class:"px-4 py-5 sm:px-6"},J={id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},A={class:"px-4 py-5 sm:p-6"},D={class:"grid grid-cols-2 gap-6"},P={class:"col-span-4 sm:col-span-1"},X={class:"col-span-4 sm:col-span-1"},N={class:"col-span-4 sm:col-span-1"},H={class:"col-span-4 sm:col-span-1"},O={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},R={class:"px-4 py-5 sm:px-6"},j={id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},W={class:"px-4 py-5 sm:p-6"},$={class:"grid grid-cols-6 gap-6"},I={class:"col-span-4 sm:col-span-2"},M={class:"col-span-4 sm:col-span-2"},Q={class:"col-span-4 sm:col-span-2"},z={class:"col-span-4 sm:col-span-2"},q={class:"col-span-4 sm:col-span-2"},G={class:"col-span-4 sm:col-span-2"},Y={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},Z={class:"px-4 py-5 sm:px-6"},ee={id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},oe={class:"px-4 py-5 sm:p-6"},te={class:"grid grid-cols-4 gap-6"},se={class:"col-span-4 sm:col-span-4"},ae={class:"col-span-4 sm:col-span-4"},le={class:"mt-6 grid grid-cols-4 gap-6"},ne={class:"col-span-4 sm:col-span-6"},ie={class:"divide-y divide-gray-200 overflow-hidden rounded-lg bg-white shadow mb-8"},re={class:"px-4 py-5 sm:px-6"},de={id:"payment-details-heading",class:"text-lg font-bold leading-6 text-gray-900"},ce={class:"px-4 py-5 sm:p-6"},ge={class:"grid grid-cols-4 gap-6"},me={class:"col-span-4 sm:col-span-6"},ue={class:"bg-gray-50 px-4 py-4 sm:px-6 text-right"},pe={type:"submit",class:"ml-3 inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"};function ye(e,o,t,a,l,n){const ye=(0,s.g2)("FileBrowser"),be=(0,s.g2)("Loader"),fe=(0,s.g2)("Subhead"),he=(0,s.g2)("font-awesome-icon"),ke=(0,s.g2)("vue3-tags-input"),xe=(0,s.g2)("MiniMCE");return(0,s.uX)(),(0,s.CE)(s.FK,null,[e.FileBrowserOpen?((0,s.uX)(),(0,s.Wv)(ye,{key:0,isWindowsOpen:!0,allowFileType:["jpg","png","jpeg"],callbackFunction:"logo",onFileBrowserTrigger:e.changeFileTrigger,onFileBrowserCallback:e.selectFileTrigger},null,8,["onFileBrowserTrigger","onFileBrowserCallback"])):(0,s.Q3)("",!0),e.loading_sources?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",d,[(0,s.bF)(be)])),e.loading_sources?((0,s.uX)(),(0,s.CE)("div",c,[(0,s.bF)(fe,{button:!0,name:"ย้อนกลับ",style:"chevron-left",link:"/setup/index"}),(0,s.Lk)("div",g,[(0,s.Lk)("div",m,[(0,s.Lk)("div",u,[(0,s.Lk)("div",p,[(0,s.Lk)("form",{onSubmit:o[21]||(o[21]=(0,i.D$)(((...o)=>e.updataData&&e.updataData(...o)),["prevent"]))},[(0,s.Lk)("section",{"aria-labelledby":"payment-details-heading",class:(0,r.C4)(["relative",[e.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},[(0,s.Lk)("div",y,[(0,s.Lk)("div",b,[(0,s.Lk)("h2",f,[(0,s.bF)(he,{icon:["fas","font"],class:"text-gray-500 pr-2"}),o[22]||(o[22]=(0,s.eW)(" ข้อมูลสถาบัน"))]),o[23]||(o[23]=(0,s.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของสถาบันให้ครบถ้วน",-1))]),(0,s.Lk)("div",h,[(0,s.Lk)("div",k,[(0,s.Lk)("div",x,[(0,s.Lk)("button",{onClick:o[0]||(o[0]=(...o)=>e.OpenFileBrowser&&e.OpenFileBrowser(...o)),type:"button",style:(0,r.Tr)([{"background-image":"url("+e.logo+")"},{"background-size":"cover","background-position":"center"}]),class:"relative bg-cover block w-full h-full rounded-lg border-2 border-dashed border-gray-300 p-6 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[(0,s.Lk)("div",w,[(0,s.bF)(he,{icon:["fas","cloud-upload"],class:"mx-auto h-12 w-12 text-black"}),o[24]||(o[24]=(0,s.Lk)("span",{class:"mt-2 block text-sm font-medium text-black"},"เปลี่ยนโลโก้",-1))])],4)]),(0,s.Lk)("div",_,[(0,s.Lk)("div",v,[(0,s.Lk)("div",null,[o[25]||(o[25]=(0,s.Lk)("label",{for:"name",class:"block text-md font-bold text-gray-700"},"ชื่อเว็บไซต์",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=o=>e.name=o),type:"text",name:"name",id:"name",autocomplete:"name",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.name]])]),(0,s.Lk)("div",null,[o[26]||(o[26]=(0,s.Lk)("label",{for:"code",class:"block text-md font-bold text-gray-700"},"รหัสเว็บไซต์ (Code)",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[2]||(o[2]=o=>e.code=o),type:"text",name:"code",id:"code",autocomplete:"code",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.code]])]),(0,s.Lk)("div",null,[o[27]||(o[27]=(0,s.Lk)("label",{for:"host",class:"block text-md font-bold text-gray-700"},"Hostname",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[3]||(o[3]=o=>e.host=o),type:"text",name:"host",id:"host",autocomplete:"host",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.host]])])])])])])]),(0,s.Lk)("div",L,[(0,s.Lk)("div",C,[(0,s.Lk)("h2",F,[(0,s.bF)(he,{icon:["fas","envelope"],class:"text-gray-500 pr-2"}),o[28]||(o[28]=(0,s.eW)("การติดต่อ (Contact)"))]),o[29]||(o[29]=(0,s.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของเว็บไซต์ให้ครบถ้วน",-1))]),(0,s.Lk)("div",E,[(0,s.Lk)("div",B,[(0,s.Lk)("div",T,[o[30]||(o[30]=(0,s.Lk)("label",{for:"website",class:"block text-sm font-bold text-gray-700"},"เว็บไซต์",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[4]||(o[4]=o=>e.website=o),type:"text",name:"website",id:"website",autocomplete:"website",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.website]])]),(0,s.Lk)("div",S,[o[31]||(o[31]=(0,s.Lk)("label",{for:"phone",class:"block text-sm font-bold text-gray-700"},"เบอร์โทร",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[5]||(o[5]=o=>e.phone=o),type:"text",name:"phone",id:"phone",autocomplete:"phone",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.phone]])]),(0,s.Lk)("div",K,[o[32]||(o[32]=(0,s.Lk)("label",{for:"email",class:"block text-sm font-bold text-gray-700"},"อีเมล์",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[6]||(o[6]=o=>e.email=o),type:"text",name:"email",id:"email",autocomplete:"email",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.email]])])])])]),(0,s.Lk)("div",V,[(0,s.Lk)("div",U,[(0,s.Lk)("h2",J,[(0,s.bF)(he,{icon:["fas","database"],class:"text-gray-500 pr-2"}),o[33]||(o[33]=(0,s.eW)("ข้อมูล Mailgun (API)"))]),o[34]||(o[34]=(0,s.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของสถาบันให้ครบถ้วน",-1))]),(0,s.Lk)("div",A,[(0,s.Lk)("div",D,[(0,s.Lk)("div",P,[o[35]||(o[35]=(0,s.Lk)("label",{for:"email_gateway_domain",class:"block text-sm font-bold text-gray-700"},"Domain",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[7]||(o[7]=o=>e.email_gateway_domain=o),type:"text",name:"email_gateway_domain",id:"email_gateway_domain",autocomplete:"email_gateway_domain",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.email_gateway_domain]])]),(0,s.Lk)("div",X,[o[36]||(o[36]=(0,s.Lk)("label",{for:"email_gateway_token",class:"block text-sm font-bold text-gray-700"},"API Key",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[8]||(o[8]=o=>e.email_gateway_token=o),type:"text",name:"email_gateway_token",id:"email_gateway_token",autocomplete:"email_gateway_token",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.email_gateway_token]])]),(0,s.Lk)("div",N,[o[37]||(o[37]=(0,s.Lk)("label",{for:"email_gateway_from_name",class:"block text-sm font-bold text-gray-700"},"From Name",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[9]||(o[9]=o=>e.email_gateway_from_name=o),type:"text",name:"email_gateway_from_name",id:"email_gateway_from_name",autocomplete:"email_gateway_from_name",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.email_gateway_from_name]])]),(0,s.Lk)("div",H,[o[38]||(o[38]=(0,s.Lk)("label",{for:"email_gateway_from_email",class:"block text-sm font-bold text-gray-700"},"From Email",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[10]||(o[10]=o=>e.email_gateway_from_email=o),type:"text",name:"email_gateway_from_email",id:"email_gateway_from_email",autocomplete:"email_gateway_from_email",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.email_gateway_from_email]])])])])]),(0,s.Lk)("div",O,[(0,s.Lk)("div",R,[(0,s.Lk)("h2",j,[(0,s.bF)(he,{icon:["fas","database"],class:"text-gray-500 pr-2"}),o[39]||(o[39]=(0,s.eW)("ข้อมูล S3 (API)"))]),o[40]||(o[40]=(0,s.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของสถาบันให้ครบถ้วน",-1))]),(0,s.Lk)("div",W,[(0,s.Lk)("div",$,[(0,s.Lk)("div",I,[o[41]||(o[41]=(0,s.Lk)("label",{for:"s3Hosting",class:"block text-sm font-bold text-gray-700"},"Hosting",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[11]||(o[11]=o=>e.s3Hosting=o),type:"text",name:"s3Hosting",id:"s3Hosting",autocomplete:"s3Hosting",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.s3Hosting]])]),(0,s.Lk)("div",M,[o[42]||(o[42]=(0,s.Lk)("label",{for:"s3Region",class:"block text-sm font-bold text-gray-700"},"Region",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[12]||(o[12]=o=>e.s3Region=o),type:"text",name:"s3Region",id:"s3Region",autocomplete:"s3Region",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.s3Region]])]),(0,s.Lk)("div",Q,[o[43]||(o[43]=(0,s.Lk)("label",{for:"s3Bucket",class:"block text-sm font-bold text-gray-700"},"Bucket",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[13]||(o[13]=o=>e.s3Bucket=o),type:"text",name:"s3Bucket",id:"s3Bucket",autocomplete:"s3Bucket",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.s3Bucket]])]),(0,s.Lk)("div",z,[o[44]||(o[44]=(0,s.Lk)("label",{for:"s3Key",class:"block text-sm font-bold text-gray-700"},"Key",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[14]||(o[14]=o=>e.s3Key=o),type:"text",name:"s3Key",id:"s3Key",autocomplete:"s3Key",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.s3Key]])]),(0,s.Lk)("div",q,[o[45]||(o[45]=(0,s.Lk)("label",{for:"s3Secret",class:"block text-sm font-bold text-gray-700"},"Secret",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[15]||(o[15]=o=>e.s3Secret=o),type:"text",name:"s3Secret",id:"s3Secret",autocomplete:"s3Secret",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.s3Secret]])]),(0,s.Lk)("div",G,[o[46]||(o[46]=(0,s.Lk)("label",{for:"s3EndpointDefault",class:"block text-sm font-bold text-gray-700"},"Endpoint Default",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[16]||(o[16]=o=>e.s3EndpointDefault=o),type:"text",name:"s3EndpointDefault",id:"s3EndpointDefault",autocomplete:"s3EndpointDefault",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.s3EndpointDefault]])])])])]),(0,s.Lk)("div",Y,[(0,s.Lk)("div",Z,[(0,s.Lk)("h2",ee,[(0,s.bF)(he,{icon:["fas","globe"],class:"text-gray-500 pr-2"}),o[47]||(o[47]=(0,s.eW)("SEO"))]),o[48]||(o[48]=(0,s.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของสถาบันให้ครบถ้วน",-1))]),(0,s.Lk)("div",oe,[(0,s.Lk)("div",te,[(0,s.Lk)("div",se,[o[49]||(o[49]=(0,s.Lk)("label",{for:"s3Secret",class:"block text-sm font-bold text-gray-700"},"Google Analytics Tracking",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":o[17]||(o[17]=o=>e.seo_ga_tracking=o),type:"text",name:"seo_ga_tracking",id:"seo_ga_tracking",autocomplete:"s3Secret",class:"mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,512),[[i.Jo,e.seo_ga_tracking]])]),(0,s.Lk)("div",ae,[o[50]||(o[50]=(0,s.Lk)("label",{for:"code",class:"mb-1 block text-md font-bold text-gray-700"},"Keyword",-1)),(0,s.bF)(ke,{tags:e.seo_keyword,placeholder:"พิมพ์ Keyword",onOnTagsChanged:e.handleChangeTag,class:"rounded-md border border-gray-300 py-1 px-2 shadow-sm focus:border-gray-900 focus:outline-none focus:ring-gray-900 sm:text-sm"},null,8,["tags","onOnTagsChanged"])])]),(0,s.Lk)("div",le,[(0,s.Lk)("div",ne,[o[51]||(o[51]=(0,s.Lk)("label",{for:"code",class:"mb-1 block text-md font-bold text-gray-700"},"Description",-1)),(0,s.bF)(xe,{modelValue:e.seo_description,"onUpdate:modelValue":o[18]||(o[18]=o=>e.seo_description=o),options:{}},null,8,["modelValue"])])])])]),(0,s.Lk)("div",ie,[(0,s.Lk)("div",re,[(0,s.Lk)("h2",de,[(0,s.bF)(he,{icon:["fas","font"],class:"text-gray-500 pr-2"}),o[52]||(o[52]=(0,s.eW)("คำอธิบาย"))]),o[53]||(o[53]=(0,s.Lk)("p",{class:"mt-1 text-sm text-gray-500"},"กรอกข้อมูลของสถาบันให้ครบถ้วน",-1))]),(0,s.Lk)("div",ce,[(0,s.Lk)("div",ge,[(0,s.Lk)("div",me,[(0,s.bF)(xe,{modelValue:e.description,"onUpdate:modelValue":o[19]||(o[19]=o=>e.description=o),options:{}},null,8,["modelValue"])])])]),(0,s.Lk)("div",ue,[(0,s.Lk)("button",{onClick:o[20]||(o[20]=o=>e.$router.push("/lesson")),type:"button",class:"inline-flex items-center rounded-md border border-gray-300 bg-gray-100 px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"}," ยกเลิก "),(0,s.Lk)("button",pe,[(0,s.bF)(he,{icon:["fas","save"],class:"pr-2 pl-2"}),o[54]||(o[54]=(0,s.eW)("บันทึกข้อมูล "))])])])],2)],32)])])])])])):(0,s.Q3)("",!0)],64)}var be=t(59911),fe=t.n(be),he=t(40475),ke=t(78181),xe=t(87814),we=t(75435),_e=t(40687),ve=t(35100),Le=(t(4934),t(12983),t(57146)),Ce=t(30554),Fe=(0,s.pM)({name:"Blank",data(){const e=(0,n.lq)();this.PageName=e.meta.title,this.PageIcon=e.meta.icon,this.ParentName=e.meta.parent,this.ParentPage=e.meta.page;const o=new Le.S3({forcePathStyle:!1,endpoint:"https://sgp1.digitaloceanspaces.com",region:"ap-southeast-1",ResponseContentEncoding:"utf-8",credentials:{accessKeyId:"DO002ZQ7YJEENMPYUYWT",secretAccessKey:"LbZeQ5T66umfoKupnpZgoNcM/JPULinJmajrlXNflHM"}}),t=he.A.get("session");return{S3:o,routeName:this.routeName,dataItem:this.$route.params.id,activeBlock:!1,FileBrowserOpen:!1,loading_sources:!0,schoolData:[],accessToken:t.token,login:t.login,school:t.current.id,logo:"",name:"",code:"",website:"",phone:"",email:"",host:"",description:"",s3Hosting:"",s3Region:"",s3Bucket:"",s3Key:"",s3Secret:"",s3EndpointDefault:"",s3Endpoint:"",seo_keyword:[],seo_description:"",seo_ga_tracking:"",email_gateway_domain:"",email_gateway_token:"",email_gateway_from_email:"",email_gateway_from_name:""}},components:{Loader:we.A,MiniMCE:ve.A,FileBrowser:_e.A,Vue3TagsInput:ke.A,Subhead:xe.A},methods:{OpenFileBrowser(){this.FileBrowserOpen=!0},changeFileTrigger(e){this.FileBrowserOpen=e},selectFileTrigger(e){void 0!=e&&(this.selectFileCallback=e,console.log("selectFileTrigger",e),"logo"===e.callback&&this.updateLogo(e.file))},async updateLogo(e){if(this.login)try{const o=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/schools/"+this.school,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({logo:e})}),t=await o.json();t.success&&window.location.reload()}catch(o){console.log(o)}},async getData(){if(this.login)try{this.loading_sources=!1;const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/schools/"+this.school,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken}}),o=await e.json();console.log(o),o.success&&(this.name=o.data.name,this.logo=o.data.logo,this.website=o.data.website,this.phone=o.data.phone,this.email=o.data.email,this.host=o.data.host,this.description=o.data.description,this.code=o.data.code,this.s3Hosting=o.data.s3Hosting,this.seo_keyword=o.data.seo_keyword,this.seo_description=o.data.seo_description,this.s3Region=o.data.s3Region,this.s3Bucket=o.data.s3Bucket,this.s3Key=o.data.s3Key,this.s3Secret=o.data.s3Secret,this.s3EndpointDefault=o.data.s3EndpointDefault,this.s3Endpoint=o.data.s3Endpoint,this.seo_ga_tracking=o.data.seo_ga_tracking,this.email_gateway_domain=o.data.email_gateway_domain,this.email_gateway_token=o.data.email_gateway_token,this.email_gateway_from_name=o.data.email_gateway_from_name,this.email_gateway_from_email=o.data.email_gateway_from_email,this.loading_sources=!0)}catch(e){console.log(e)}},async updataData(){if(this.login)try{const e=await fetch("https://asia-southeast2-elearning-6871c.cloudfunctions.net/schools/"+this.school,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.accessToken},body:JSON.stringify({name:this.name,website:this.website,phone:this.phone,email:this.email,description:this.description,code:this.code,host:this.host,seo_keyword:this.seo_keyword,seo_description:this.seo_description,seo_ga_tracking:this.seo_ga_tracking,s3Hosting:this.s3Hosting,s3Region:this.s3Region,s3Bucket:this.s3Bucket,s3Key:this.s3Key,s3Secret:this.s3Secret,s3EndpointDefault:this.s3EndpointDefault,email_gateway_domain:this.email_gateway_domain,email_gateway_token:this.email_gateway_token,email_gateway_from_name:this.email_gateway_from_name,email_gateway_from_email:this.email_gateway_from_email,s3Endpoint:"https://"+this.s3Bucket+"."+this.s3Hosting+"/"})}),o=await e.json();if(o.success){const e=JSON.stringify({name:this.name,website:this.website,phone:this.phone,email:this.email,description:this.description,code:this.code,host:this.host,sid:this.school,logo:this.logo,token:this.email_gateway_token,domain:this.email_gateway_domain,from:this.email_gateway_from_name,fomemail:this.email_gateway_from_email}),o=await this.S3.send(new Ce.w({Bucket:"global-config",Key:this.host+".json",Body:e,ACL:"public-read"}));console.log("data",o),this.$swal({title:"บันทึกข้อมูลเรียบร้อยแล้ว ?",text:"คุณต้องการที่จะดำเนินการอย่างไร !",type:"success",showCancelButton:!0,confirmButtonColor:"#0054b4",confirmButtonText:"กลับไปหน้าหลัก",cancelButtonText:"รีเฟรซหน้านี้",closeOnConfirm:!1,closeOnCancel:!1}).then((e=>{e.isConfirmed?(console.log("Home"),window.location.href="/setup"):(console.log("New"),window.location.reload())}))}}catch(e){console.log(e)}},handleChangeTag(e){this.seo_keyword=e}},updated(){fe().replace()},async mounted(){try{await this.getData()}catch(e){console.log(Error)}},setup(){}}),Ee=t(64621);const Be=(0,Ee.A)(Fe,[["render",ye]]);var Te=Be,Se={name:"GeneralConfig",components:{Config:Te},data(){return{login:he.A.get("session","login")}},methods:{showAlert(){this.$swal("Hello Vue world!!!")}},setup(){const e=(0,n.lq)(),o=e.meta.title;(0,l.K7)(o)}};const Ke=(0,Ee.A)(Se,[["render",a]]);var Ve=Ke},87814:function(e,o,t){t.d(o,{A:function(){return T}});var s=t(20641),a=t(90033),l=t(53751);const n={class:"py-2 bg-white border-l border-r border-b border-1 border-gray-200"},i={class:"mx-auto px-2 sm:px-6 lg:px-6 xl:flex xl:items-center xl:justify-between"},r={class:"min-w-0 flex-1"},d={class:"mt-1 text-[18px] font-semibold leading-8 text-gray-700"},c={key:0,class:"text-sm text-gray-500"},g={class:"mt-5 flex xl:mt-0 xl:ml-4"},m={class:"flex items-center space-x-2"},u={class:"text-sm text-gray-400"},p=["onUpdate:modelValue","placeholder","onChange"],y={value:"",disabled:""},b=["value"],f=["onClick"],h={class:"text-sm hidden sm:inline-block ml-1"},k=["onClick"],x={class:"text-sm hidden sm:inline-block ml-1"};function w(e,o,t,w,_,v){const L=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("header",n,[(0,s.Lk)("div",i,[(0,s.Lk)("div",r,[(0,s.Lk)("h1",d,[(0,s.bF)(L,{icon:["fas",this.PageIcon],class:"text-gray-500 text-[18px]"},null,8,["icon"]),(0,s.eW)(" "+(0,a.v_)(t.pageTitle?t.pageTitle:this.PageName),1)]),t.subhead?((0,s.uX)(),(0,s.CE)("p",c,(0,a.v_)(t.subhead),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",g,[(0,s.Lk)("div",m,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.navigation,((o,t)=>((0,s.uX)(),(0,s.CE)(s.FK,{key:t},["select"===o.type?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("label",u,(0,a.v_)(o.placeholder),1),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e=>o.value=e,class:"block w-36 py-2 px-3 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-md",placeholder:o.placeholder,onChange:t=>e.$emit("toggleStatus",o.value)},[(0,s.Lk)("option",y,"-- "+(0,a.v_)(o.placeholder)+" --",1),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.options,((e,o)=>((0,s.uX)(),(0,s.CE)("option",{key:o,value:e.value},(0,a.v_)(e.name),9,b)))),128))],40,p),[[l.u1,o.value]])],64)):"call-function"===o.type?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[!1!==o.visible?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t=>e.$emit(o.function),type:"button",class:(0,a.C4)(v.getClasses(o.class))},[(0,s.bF)(L,{icon:["fas",`${o.style}`],class:(0,a.C4)({"text-gray-500 mr-2":"icon-btn"===o.class,"text-white":"primary-btn"===o.class})},null,8,["icon","class"]),(0,s.Lk)("span",h,(0,a.v_)(o.name),1)],10,f)):(0,s.Q3)("",!0)],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:2},[!1!==o.visible?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:e=>v.handleNavigationClick(o),type:"button",class:(0,a.C4)(v.getClasses(o.class))},[(0,s.bF)(L,{icon:["fas",`${o.style}`],class:(0,a.C4)({"text-gray-500 mr-2":"icon-btn"===o.class,"text-white":"primary-btn"===o.class})},null,8,["icon","class"]),(0,s.Lk)("span",x,(0,a.v_)(o.name),1)],10,k)):(0,s.Q3)("",!0)],64))],64)))),128))])])])])}t(44114);var _=t(75220),v=t(52968),L=t(23264),C=t(93426),F={props:{navigation:{type:Array,default:()=>[]},pageTitle:{type:String,default:()=>null},subhead:{type:String,default:()=>null}},data(){const e=(0,_.lq)();return console.log("Translate",(0,C.Tl)("router-"+e.meta.parent+"-"+e.meta.key)),{PageName:(0,C.iX)(),PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page}},setup(){(0,v.K7)((0,C.iX)())},methods:{getClasses(e){const o=(0,L.c)(e);return`${o}`},handleNavigationClick(e){e.function?this.$emit(e.eventName||e.function):this.$router.push(e.link)}}},E=t(64621);const B=(0,E.A)(F,[["render",w]]);var T=B},23264:function(e,o,t){function s(e){switch(e){case"input-plaintext":return"pl-0 focus:outline-none focus:ring-0 shadow-none border-0";case"primary-btn":return"px-4 py-2 text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"icon-btn":return"px-4 py-2 text-gray-700 bg-transparent hover:bg-transparent hover:text-gray-800";case"default-btn":return"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"danger-btn":return"px-4 py-2 text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"success-btn":return"px-4 py-2 text-white bg-green-600 rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-50";default:return""}}t.d(o,{c:function(){return s}})}}]);
//# sourceMappingURL=9647.82f2b20d.js.map