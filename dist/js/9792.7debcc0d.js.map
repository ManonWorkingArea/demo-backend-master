{"version":3,"file":"js/9792.7debcc0d.js","mappings":"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","sources":["webpack://node-backend/./src/extensions/modules/system/user/component/frontend/LoginAd.vue","webpack://node-backend/./src/extensions/modules/system/user/component/frontend/LoginAd.vue?a8f2","webpack://node-backend/./src/extensions/modules/system/user/view/LoginAd.vue","webpack://node-backend/./src/extensions/modules/system/user/view/LoginAd.vue?8e35"],"sourcesContent":["<script>\nimport storageManager from '@/plugins/storage';\nexport default {\n\tname: 'Login',\n\tcomponents: {\n\t},\n  props: {\n    showModal: {\n      type: Boolean,\n      default: false\n    }\n  },\n\tdata() {\n\t\treturn {\n      config: storageManager.get('configs'),\n      username: '',\n      password: '',\n      errorStage: false,\n      errorMessage: '',\n      activeBlock: false,\n      passwordVisible:false\n\t\t}\n\t},\n\tmethods: {\n    togglePasswordVisibility() {\n      this.passwordVisible = !this.passwordVisible;\n    },\n    async login() {\n        try {\n            this.activeBlock  = true;\n            this.errorStage  = false\n            const resAPILogin = await fetch(\"https://faas-sgp1-18bc02ac.doserverless.co/api/v1/web/fn-34d16f42-4718-42b0-814e-08d23fecd2ce/default/login-fti-employee\", {\n              method: 'POST',\n              headers: {'Content-Type': 'application/json'},\n              body: JSON.stringify({\n                username: this.username,\n                password: this.password\n              })\n            });\n            \n            const getLogin  = await resAPILogin.json();\n            console.log(\"getLogin\",getLogin);\n\n            if(getLogin.status===200) {\n              \n              let unitList = [];\n              let currentAccess = \"\";\n\n              const session = {\n                active: true,\n                token: getLogin.user._id,\n                refresh: \"\",\n                login: true,\n                userID: getLogin.user._id,\n                user: getLogin.user,\n                loader: false,\n                role: getLogin.user.role,\n                nav: \"normal-nav\",\n                layout: \"frontend-layout\",\n                current: currentAccess,\n                list: unitList,\n                enroll: getLogin.enroll,\n                mode: getLogin.mode,\n              };\n              storageManager.update('session',session)\n              console.log(\"session\",session);\n\n              if (this.showModal) {\n                window.location.reload();\n              }\n              else\n              {\n                this.$swal({\n                  toast: true,\n                  position: 'bottom-end',\n                  showConfirmButton: false,\n                  timer: 1000,\n                  icon: 'success',\n                  title: 'แจ้งเตือน',\n                  text: 'เข้าสู่ระบบเรียบร้อยแล้ว',\n                }).then(() => \n                {\n                  window.location.href = \"/user/employee\"\n                });\n              }\n            } else {\n              this.errorStage   = true\n              this.errorMessage = getLogin;\n            }\n            this.activeBlock  = false;\n        } catch (error) {\n          console.log(error)\n        }\n    }\n\t},\n};\n</script>\n\n<template>\n  <div class=\"bg-gray-50\">\n    \n    <div class=\"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div class=\"sm:mx-auto sm:w-full sm:max-w-lg\">\n        <img class=\"mx-auto h-24 w-auto\" :src=\"this.config.siteLogo\" alt=\"Your Company\" v-if=\"!this.showModal\">\n        <h2 class=\"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900\">เข้าสู่ระบบฝึกอบรม (HR)</h2>\n        <p class=\"mt-2 text-center text-base text-gray-600\">\n        ใช้บัญชีสำหรับ K2 ในการล็อคอิน\n        </p>\n      </div>\n  \n      <div class=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div class=\"bg-white px-4 py-8 shadow sm:rounded-lg sm:px-10 relative\" :data-content=\"'กำลังติดต่อฐานข้อมูล กรุณารอสักครู่.....'\" :class=\"[(activeBlock?'isblock' : 'isunblock')]\">\n          <form class=\"space-y-6\" @submit.prevent=\"login\">\n            <div>\n              <label for=\"email\" class=\"block text-md font-semibold leading-6 text-gray-900\">ชื่อผู้ใช้ในระบบ K2</label>\n              <div class=\"mt-2\">\n                <input v-model=\"username\" id=\"username\" name=\"username\" type=\"text\" autocomplete=\"username\" required=\"\" class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\">\n              </div>\n            </div>\n  \n            <div>\n              <label for=\"password\" class=\"block text-md font-semibold leading-6 text-gray-900\">รหัสผ่าน</label>\n              <div class=\"mt-2 relative\">\n                <input\n                  v-model=\"password\"\n                  id=\"password\"\n                  name=\"password\"\n                  :type=\"passwordVisible ? 'text' : 'password'\"\n                  autocomplete=\"current-password\"\n                  required=\"\"\n                  class=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n                />\n                <button\n                  type=\"button\"\n                  class=\"absolute inset-y-0 right-0 flex items-center bg-white hover:bg-gray-100 text-gray-800 font-semibold py-2 px-2 border border-gray-400 rounded shadow m-1\"\n                  @click=\"togglePasswordVisibility\"\n                >\n                <font-awesome-icon :icon=\"passwordVisible ? ['fas', 'eye-slash'] : ['fas', 'eye']\" class=\"text-black hover:text-gray-600 text-xs\"/>\n                </button>\n              </div>\n            </div>\n  \n            <div class=\"flex items-center justify-between\">\n              <div class=\"flex items-center\">\n                <input id=\"remember-me\" name=\"remember-me\" type=\"checkbox\" class=\"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600\">\n                <label for=\"remember-me\" class=\"ml-2 block text-sm text-gray-900\">จำฉันไว้</label>\n              </div>\n  \n              <div class=\"text-sm\">\n                <router-link :to=\"'/user/forgot'\" class=\"font-medium text-indigo-600 hover:text-indigo-500\">\n                ลืมรหัสผ่าน\n                </router-link>\n              </div>\n            </div>\n  \n            <div>\n              <div v-if=\"this.errorStage\" class=\"col-span-2\">\n                  <div class=\" items-center px-3 py-1 rounded-md bg-red-100 text-sm text-black pb-5 mb-5\">\n                    <div class=\"font-semibold pt-3 pb-3\">เกิดข้อผิดพลาด</div>\n                    <div  class=\"w-full\">{{this.errorMessage}}</div>\n                  </div>\n              </div>\n              <button type=\"submit\" class=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-4 text-md font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\">เข้าสู่ระบบ</button>\n            </div>\n          </form>\n  \n        </div>\n      </div>\n    </div>\n  \n    </div>\n</template>","import { render } from \"./LoginAd.vue?vue&type=template&id=5ca5f0a4\"\nimport script from \"./LoginAd.vue?vue&type=script&lang=js\"\nexport * from \"./LoginAd.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <component :is=\"componentName\" />\n    </template>\n    \n    <script>\n    import { useTitle } from 'vue-page-title';\n    import { useRoute } from 'vue-router';\n    import storageManager from '@/plugins/storage';\n    import Frontend from '../component/frontend/LoginAd.vue';\n    \n    export default {\n    name: 'Lesson Detail',\n    components: {\n        Frontend,\n    },\n    data() {\n        return {\n            session: storageManager.get('session')\n        };\n    },\n    setup() {\n        const route = useRoute();\n        const routeName = route.meta.title;\n        useTitle(routeName);\n    },\n    computed: {\n        componentName() {\n            return 'Frontend';\n        }\n    }\n    };\n    </script>\n        ","import { render } from \"./LoginAd.vue?vue&type=template&id=25164f03\"\nimport script from \"./LoginAd.vue?vue&type=script&lang=js\"\nexport * from \"./LoginAd.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","showModal","_createCommentVNode","src","config","siteLogo","alt","_hoisted_4","_hoisted_5","_normalizeClass","$data","activeBlock","onSubmit","_cache","_withModifiers","args","$options","login","for","_hoisted_6","$event","username","id","name","type","autocomplete","required","_hoisted_7","password","passwordVisible","_hoisted_8","onClick","togglePasswordVisibility","_createVNode","_component_font_awesome_icon","icon","_hoisted_9","_hoisted_10","_component_router_link","to","default","_withCtx","_createTextVNode","_","errorStage","_hoisted_11","_hoisted_12","_hoisted_13","_toDisplayString","errorMessage","components","props","Boolean","data","storageManager","get","methods","this","resAPILogin","fetch","method","headers","body","JSON","stringify","getLogin","json","console","log","status","unitList","currentAccess","session","active","token","user","_id","refresh","userID","loader","role","nav","layout","current","list","enroll","mode","update","window","location","reload","$swal","toast","position","showConfirmButton","timer","title","text","then","href","error","__exports__","render","_createBlock","_resolveDynamicComponent","componentName","Frontend","setup","route","useRoute","routeName","meta","useTitle","computed"],"sourceRoot":""}