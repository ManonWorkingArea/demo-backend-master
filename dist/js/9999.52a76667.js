"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[9999],{29999:function(e,t,n){n.r(t),n.d(t,{default:function(){return ae}});var s=n(20641);function o(e,t,n,o,a,i){const l=(0,s.g2)("Authen"),c=(0,s.g2)("Dashboard");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(l),this.login?((0,s.uX)(),(0,s.Wv)(c,{key:0})):(0,s.Q3)("",!0)],64)}var a=n(52968),i=n(75220),l=(n(44114),n(90033)),c=n(53751);const r={class:"mx-auto max-w-7xl px-4 mt-5 mb-8 sm:px-6"},u={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},d={class:"flex items-center justify-between"},v=["onClick"],m={class:"text-xs text-gray-500 mt-1"},p={class:"text-sm text-gray-600 mt-1"},h={class:"list-disc ml-8 space-y-4 mt-4"},g={class:"flex items-center justify-between"},f={class:"text-md font-medium"},b={class:"text-xs text-gray-500 mt-1"},y={class:"text-sm text-gray-600 mt-1"},x={class:"space-x-2"},k=["onClick"],E=["onClick"],C=["onClick"],w={class:"mt-4 flex justify-between"},L={class:"space-x-2"},_=["onClick"],A=["onClick"],P={class:"space-x-2"},R=["onClick"],D=["onClick"],S=["onClick"],M={key:0,class:"fixed inset-0 flex items-center justify-center z-50"},X={class:"bg-white rounded p-5 z-10"},F={class:"text-xl font-semibold mb-4"},T={class:"flex flex-col space-y-2"},N={class:"flex items-center space-x-2"},j={class:"flex justify-end mt-6 space-x-4"},I={key:1,class:"fixed inset-0 flex items-center justify-center z-50"},K={class:"bg-white rounded p-5 z-10"},U={class:"flex flex-col space-y-4"},$=["value"],Q={class:"flex justify-end mt-6 space-x-4"},z={key:2,class:"fixed inset-0 flex items-center justify-center z-50"},V={class:"bg-white rounded p-5 z-10"},W={class:"flex justify-end mt-6 space-x-4"},q={key:3,class:"fixed inset-0 flex items-center justify-center z-50"},J={class:"bg-white rounded p-5 z-10"},O={class:"flex justify-end mt-6 space-x-4"};function H(e,t,n,o,a,i){const H=(0,s.g2)("Subhead"),Y=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(H,{navigation:[{name:"ย้อนกลับ",link:"/",style:"chevron-left",class:"default-btn",visible:!0,type:"button"},{name:"เพิ่มเหตุการณ์",function:"addEvent",style:"plus",class:"primary-btn",visible:!0,type:"button"}],onAddEvent:t[0]||(t[0]=e=>i.addEvent("main"))}),(0,s.Lk)("div",r,[(0,s.Lk)("div",u,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.flattenedEvents,(n=>((0,s.uX)(),(0,s.CE)(s.FK,null,["main"===n.type?((0,s.uX)(),(0,s.CE)("div",{key:n._id,class:"bg-white p-5 rounded-sm shadow-sm"},[(0,s.Lk)("div",d,[(0,s.Lk)("h3",{class:"text-md font-semibold cursor-pointer text-blue-500 hover:underline",onClick:t=>e.$router.push(`/vote/event/${n._id}`)},(0,l.v_)(i.getMainEventIndex(n))+"."+(0,l.v_)(n.name),9,v)]),(0,s.Lk)("p",m,(0,l.v_)(n.code),1),(0,s.Lk)("p",p,(0,l.v_)(n.description),1),(0,s.Lk)("ul",h,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.getSubEvents(n._id),(e=>((0,s.uX)(),(0,s.CE)("li",{key:e._id,class:"border-b border-gray-200 py-2"},[(0,s.Lk)("div",g,[(0,s.Lk)("h4",f,(0,l.v_)(e.name),1)]),(0,s.Lk)("p",b,(0,l.v_)(e.code),1),(0,s.Lk)("p",y,(0,l.v_)(e.description),1),(0,s.Lk)("div",x,[(0,s.Lk)("button",{onClick:t=>i.openRenameDialog(e),class:"text-sm text-gray-500 hover:text-gray-700"},[(0,s.bF)(Y,{icon:["fas","edit"],class:"pr-2"}),t[14]||(t[14]=(0,s.eW)("แก้ไข "))],8,k),(0,s.Lk)("button",{onClick:t=>i.openMoveDialog(e),class:"text-sm text-gray-500 hover:text-gray-700"},[(0,s.bF)(Y,{icon:["fas","arrows-alt"],class:"pr-2 pl-2"}),t[15]||(t[15]=(0,s.eW)("ย้าย "))],8,E),(0,s.Lk)("button",{onClick:t=>i.removeSubEventConfirmation(e),class:"text-sm text-red-500 hover:text-red-700"},[(0,s.bF)(Y,{icon:["fas","trash"],class:"pr-2 pl-2"}),t[16]||(t[16]=(0,s.eW)("ลบ "))],8,C)])])))),128))]),(0,s.Lk)("div",w,[(0,s.Lk)("div",L,[(0,s.Lk)("button",{onClick:e=>i.moveMainEventUp(n),class:"text-sm text-gray-500 hover:text-gray-700"},[(0,s.bF)(Y,{icon:["fas","chevron-up"],class:"pr-2 pl-2"})],8,_),(0,s.Lk)("button",{onClick:e=>i.moveMainEventDown(n),class:"text-sm text-gray-500 hover:text-gray-700"},[(0,s.bF)(Y,{icon:["fas","chevron-down"],class:"pr-2 pl-2"})],8,A)]),(0,s.Lk)("div",P,[(0,s.Lk)("button",{onClick:e=>i.openRenameDialog(n),class:"text-sm text-gray-500 hover:text-gray-700"},[(0,s.bF)(Y,{icon:["fas","edit"],class:"pl-2"}),t[17]||(t[17]=(0,s.eW)(" เปลี่ยนชื่อ "))],8,R),(0,s.Lk)("button",{onClick:e=>i.addEvent("sub",n),class:"text-sm text-gray-500 hover:text-gray-700"},[(0,s.bF)(Y,{icon:["fas","plus"],class:"pl-2"}),t[18]||(t[18]=(0,s.eW)(" เหตุการณ์ย่อย "))],8,D),(0,s.Lk)("button",{onClick:e=>i.removeMainEventConfirmation(n),class:"text-sm text-red-500 hover:text-red-700"},[(0,s.bF)(Y,{icon:["fas","trash"],class:"pl-2"}),t[19]||(t[19]=(0,s.eW)(" ลบ "))],8,S)])])])):(0,s.Q3)("",!0)],64)))),256))])]),a.showRenameDialog?((0,s.uX)(),(0,s.CE)("div",M,[t[24]||(t[24]=(0,s.Lk)("div",{class:"absolute inset-0 bg-black opacity-75"},null,-1)),(0,s.Lk)("div",X,[(0,s.Lk)("h4",F,"เปลี่ยนชื่อ "+(0,l.v_)("main"===a.selectedEvent.type?"Main Event":"Sub Event"),1),(0,s.Lk)("div",T,[t[21]||(t[21]=(0,s.Lk)("label",{for:"newName",class:"font-medium"},"ชื่อใหม่",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.selectedEvent.name=e),type:"text",id:"newName",placeholder:"Enter the new name",class:"px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:ring focus:border-blue-500"},null,512),[[c.Jo,a.selectedEvent.name]]),t[22]||(t[22]=(0,s.Lk)("label",{for:"newCode",class:"font-medium"},"รหัสใหม่",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.selectedEvent.code=e),type:"text",id:"newCode",placeholder:"Enter the new code",class:"px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:ring focus:border-blue-500"},null,512),[[c.Jo,a.selectedEvent.code]]),t[23]||(t[23]=(0,s.Lk)("label",{for:"newDescription",class:"font-medium"},"คำอธิบาย",-1)),(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[3]||(t[3]=e=>a.selectedEvent.description=e),id:"newDescription",placeholder:"Enter the new description",class:"px-4 py-2 border border-gray-300 rounded-sm focus:outline-none focus:ring focus:border-blue-500"},null,512),[[c.Jo,a.selectedEvent.description]]),(0,s.Lk)("div",N,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>a.selectedEvent.visible=e),type:"checkbox",id:"checkbox"},null,512),[[c.lH,a.selectedEvent.visible]]),t[20]||(t[20]=(0,s.Lk)("label",{for:"checkbox",class:"font-medium"},"Visible",-1))])]),(0,s.Lk)("div",j,[(0,s.Lk)("button",{onClick:t[5]||(t[5]=e=>i.renameEvent(a.selectedEvent)),class:"px-6 py-2 text-sm font-medium text-white bg-blue-500 rounded-sm hover:bg-blue-600"},"Rename"),(0,s.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>i.closeRenameDialog&&i.closeRenameDialog(...e)),class:"px-6 py-2 text-sm font-medium text-gray-500 hover:text-gray-700"},"Cancel")])])])):(0,s.Q3)("",!0),a.showMoveDialog?((0,s.uX)(),(0,s.CE)("div",I,[t[28]||(t[28]=(0,s.Lk)("div",{class:"absolute inset-0 bg-black opacity-75"},null,-1)),(0,s.Lk)("div",K,[t[27]||(t[27]=(0,s.Lk)("h4",{class:"text-xl font-semibold mb-4"},"Move Event",-1)),(0,s.Lk)("div",U,[t[26]||(t[26]=(0,s.Lk)("label",{for:"selectedParent",class:"font-medium"},"Select New Parent Event",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>a.selectedEventParent=e),id:"selectedParent",class:"px-4 py-2 border border-gray-300 rounded-sm"},[t[25]||(t[25]=(0,s.Lk)("option",{value:""},"Select a main event",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(i.getMainEvents,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e._id,value:e._id},(0,l.v_)(e.name),9,$)))),128))],512),[[c.u1,a.selectedEventParent]])]),(0,s.Lk)("div",Q,[(0,s.Lk)("button",{onClick:t[8]||(t[8]=(...e)=>i.updateSelectedEventParent&&i.updateSelectedEventParent(...e)),class:"px-6 py-2 text-sm font-medium text-white bg-blue-500 rounded-sm"},"Move"),(0,s.Lk)("button",{onClick:t[9]||(t[9]=(...e)=>i.closeMoveDialog&&i.closeMoveDialog(...e)),class:"px-6 py-2 text-sm font-medium text-gray-500 hover:text-gray-700"},"Cancel")])])])):(0,s.Q3)("",!0),a.showConfirmationPopup?((0,s.uX)(),(0,s.CE)("div",z,[t[31]||(t[31]=(0,s.Lk)("div",{class:"absolute inset-0 bg-black opacity-75"},null,-1)),(0,s.Lk)("div",V,[t[29]||(t[29]=(0,s.Lk)("h4",{class:"text-xl font-semibold mb-4"},"Confirm Remove Main Event",-1)),t[30]||(t[30]=(0,s.Lk)("p",null,"Are you sure you want to remove the main event?",-1)),(0,s.Lk)("div",W,[(0,s.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>i.confirmRemoveMainEvent&&i.confirmRemoveMainEvent(...e)),class:"px-6 py-2 text-sm font-medium text-white bg-red-500 rounded-sm"},"Remove"),(0,s.Lk)("button",{onClick:t[11]||(t[11]=(...t)=>e.cancelRemoveMainEvent&&e.cancelRemoveMainEvent(...t)),class:"px-6 py-2 text-sm font-medium text-gray-500 hover:text-gray-700"},"Cancel")])])])):(0,s.Q3)("",!0),a.showSubEventConfirmationPopup?((0,s.uX)(),(0,s.CE)("div",q,[t[34]||(t[34]=(0,s.Lk)("div",{class:"absolute inset-0 bg-black opacity-75"},null,-1)),(0,s.Lk)("div",J,[t[32]||(t[32]=(0,s.Lk)("h4",{class:"text-xl font-semibold mb-4"},"Confirm Remove Sub Event",-1)),t[33]||(t[33]=(0,s.Lk)("p",null,"Are you sure you want to remove the sub event?",-1)),(0,s.Lk)("div",O,[(0,s.Lk)("button",{onClick:t[12]||(t[12]=(...e)=>i.confirmRemoveSubEvent&&i.confirmRemoveSubEvent(...e)),class:"px-6 py-2 text-sm font-medium text-white bg-red-500 rounded-sm"},"Remove"),(0,s.Lk)("button",{onClick:t[13]||(t[13]=(...t)=>e.cancelRemoveSubEvent&&e.cancelRemoveSubEvent(...t)),class:"px-6 py-2 text-sm font-medium text-gray-500 hover:text-gray-700"},"Cancel")])])])):(0,s.Q3)("",!0)],64)}n(98992),n(54520),n(8872);var Y=n(40475),B=n(87814),G={name:"EventList",components:{Subhead:B.A},data(){return{session:Y.A.get("session"),configs:Y.A.get("configs"),events:[],uniqueIdCounter:5,showRenameDialog:!1,selectedEvent:null,showMoveDialog:!1,selectedEventParent:null,showConfirmationPopup:!1,eventToRemove:null,showSubEventConfirmationPopup:!1,subEventToRemove:null}},computed:{flattenedEvents(){return this.flattenEvents(this.events)},getMainEvents(){return this.events.filter((e=>"main"===e.type))}},async mounted(){try{await this.getEventData()}catch(e){console.log(e)}},methods:{async getEventData(){try{const e=await fetch("https://gateway.cloudrestfulapi.com/api/vote_event/query",{method:"POST",headers:{"Content-Type":"application/json","client-token-key":this.configs.key},body:JSON.stringify({method:"find",args:[{unit:this.session.current._id}],paging:{page:1,limit:200}})});if(e.ok){const t=await e.json();this.events=t.data}}catch(e){console.error(e)}},async addEvent(e,t){try{const n={unit:this.session.current._id,name:"New Event",code:"event-code",description:"Description for New Event",type:"main",visible:!0,order:0};"sub"===e&&(n.type="sub",n.parent=t._id);const s=await fetch("https://gateway.cloudrestfulapi.com/api/vote_event/",{method:"POST",headers:{"Content-Type":"application/json","client-token-key":this.configs.key},body:JSON.stringify({data:n,options:{}})});s.ok&&await this.getEventData()}catch(n){console.error(n)}},async updateEvent(e){try{const t=await fetch("https://gateway.cloudrestfulapi.com/api/vote_event/"+e._id,{method:"PUT",headers:{"Content-Type":"application/json","client-token-key":this.configs.key},body:JSON.stringify({data:{name:e.name,code:e.code,description:e.description,order:e.order,visible:e.visible},options:{}})});t.ok&&await this.getEventData()}catch(t){console.error(t)}},async deleteEvent(e){try{const t=await fetch("https://gateway.cloudrestfulapi.com/api/vote_event/"+e._id,{method:"DELETE",headers:{"Content-Type":"application/json","client-token-key":this.configs.key}});t.ok&&await this.getEventData()}catch(t){console.error(t)}},getMainEventIndex(e){const t=this.flattenedEvents.filter((e=>"main"===e.type));return t.findIndex((t=>t._id===e._id))+1},flattenEvents(e){return e.reduce(((e,t)=>{if(e.push(t),"main"===t.type){const n=this.events.filter((e=>"sub"===e.type&&e.parent===t._id));e.push(...n)}return e}),[])},getSubEvents(e){return this.events.filter((t=>"sub"===t.type&&t.parent===e))},moveMainEventUp(e){const t=this.events.findIndex((t=>t._id===e._id&&"main"===t.type));if(t>0){const e=this.events.splice(t,1)[0];this.events.splice(t-1,0,e)}},moveMainEventDown(e){const t=this.events.findIndex((t=>t._id===e._id&&"main"===t.type));if(t<this.events.length-1){const e=this.events.splice(t,1)[0];this.events.splice(t+1,0,e)}},async removeMainEventConfirmation(e){this.eventToRemove=e,this.showConfirmationPopup=!0},async confirmRemoveMainEvent(){try{const e=this.eventToRemove,t=this.events.findIndex((t=>t._id===e._id&&"main"===t.type));if(-1!==t){const n=this.events.splice(t,1)[0],s=this.events.filter((e=>"sub"===e.type&&e.parent===n._id));this.events=this.events.filter((e=>"sub"!==e.type||e.parent!==n._id));for(const e of s)await this.deleteEvent(e);await this.deleteEvent(e)}this.eventToRemove=null,this.showConfirmationPopup=!1}catch(e){console.error(e)}},async removeSubEventConfirmation(e){this.subEventToRemove=e,this.showSubEventConfirmationPopup=!0},async confirmRemoveSubEvent(){try{const e=this.subEventToRemove,t=this.events.findIndex((t=>t._id===e._id&&"sub"===t.type));-1!==t&&(this.events.splice(t,1),await this.deleteEvent(e)),this.subEventToRemove=null,this.showSubEventConfirmationPopup=!1}catch(e){console.error(e)}},openRenameDialog(e){this.selectedEvent=e,this.showRenameDialog=!0},async renameEvent(e){try{await this.updateEvent(e),this.selectedEvent=null,this.showRenameDialog=!1}catch(t){console.error(t)}},closeRenameDialog(){this.selectedEvent=null,this.showRenameDialog=!1},openMoveDialog(e){this.selectedEvent=e,this.selectedEventParent=null,this.showMoveDialog=!0},async updateSelectedEventParent(){try{const e=this.selectedEvent,t=this.selectedEventParent;t&&(e.parent=t,await this.updateEvent(e)),this.selectedEvent=null,this.selectedEventParent=null,this.showMoveDialog=!1}catch(e){console.error(e)}},closeMoveDialog(){this.selectedEvent=null,this.selectedEventParent=null,this.showMoveDialog=!1}}},Z=n(64621);const ee=(0,Z.A)(G,[["render",H],["__scopeId","data-v-5a5f53ee"]]);var te=ee,ne=n(74284),se={name:"Home",components:{Dashboard:te,Authen:ne.A},data(){return{login:Y.A.get("session","login")}},methods:{},mounted(){},setup(){const e=(0,i.lq)(),t=e.meta.title;(0,a.K7)(t),console.log("Dashboard")}};const oe=(0,Z.A)(se,[["render",o]]);var ae=oe},87814:function(e,t,n){n.d(t,{A:function(){return R}});var s=n(20641),o=n(90033),a=n(53751);const i={class:"py-2 bg-white border-l border-r border-b border-1 border-gray-200"},l={class:"mx-auto px-2 sm:px-6 lg:px-6 xl:flex xl:items-center xl:justify-between"},c={class:"min-w-0 flex-1"},r={class:"mt-1 text-[18px] font-semibold leading-8 text-gray-700"},u={key:0,class:"text-sm text-gray-500"},d={class:"mt-5 flex xl:mt-0 xl:ml-4"},v={class:"flex items-center space-x-2"},m={class:"text-sm text-gray-400"},p=["onUpdate:modelValue","placeholder","onChange"],h={value:"",disabled:""},g=["value"],f=["onClick"],b={class:"text-sm hidden sm:inline-block ml-1"},y=["onClick"],x={class:"text-sm hidden sm:inline-block ml-1"};function k(e,t,n,k,E,C){const w=(0,s.g2)("font-awesome-icon");return(0,s.uX)(),(0,s.CE)("header",i,[(0,s.Lk)("div",l,[(0,s.Lk)("div",c,[(0,s.Lk)("h1",r,[(0,s.bF)(w,{icon:["fas",this.PageIcon],class:"text-gray-500 text-[18px]"},null,8,["icon"]),(0,s.eW)(" "+(0,o.v_)(n.pageTitle?n.pageTitle:this.PageName),1)]),n.subhead?((0,s.uX)(),(0,s.CE)("p",u,(0,o.v_)(n.subhead),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",d,[(0,s.Lk)("div",v,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.navigation,((t,n)=>((0,s.uX)(),(0,s.CE)(s.FK,{key:n},["select"===t.type?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.Lk)("label",m,(0,o.v_)(t.placeholder),1),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":e=>t.value=e,class:"block w-36 py-2 px-3 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-md",placeholder:t.placeholder,onChange:n=>e.$emit("toggleStatus",t.value)},[(0,s.Lk)("option",h,"-- "+(0,o.v_)(t.placeholder)+" --",1),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t.options,((e,t)=>((0,s.uX)(),(0,s.CE)("option",{key:t,value:e.value},(0,o.v_)(e.name),9,g)))),128))],40,p),[[a.u1,t.value]])],64)):"call-function"===t.type?((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[!1!==t.visible?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:n=>e.$emit(t.function),type:"button",class:(0,o.C4)(C.getClasses(t.class))},[(0,s.bF)(w,{icon:["fas",`${t.style}`],class:(0,o.C4)({"text-gray-500 mr-2":"icon-btn"===t.class,"text-white":"primary-btn"===t.class})},null,8,["icon","class"]),(0,s.Lk)("span",b,(0,o.v_)(t.name),1)],10,f)):(0,s.Q3)("",!0)],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:2},[!1!==t.visible?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:e=>C.handleNavigationClick(t),type:"button",class:(0,o.C4)(C.getClasses(t.class))},[(0,s.bF)(w,{icon:["fas",`${t.style}`],class:(0,o.C4)({"text-gray-500 mr-2":"icon-btn"===t.class,"text-white":"primary-btn"===t.class})},null,8,["icon","class"]),(0,s.Lk)("span",x,(0,o.v_)(t.name),1)],10,y)):(0,s.Q3)("",!0)],64))],64)))),128))])])])])}n(44114);var E=n(75220),C=n(52968),w=n(23264),L=n(93426),_={props:{navigation:{type:Array,default:()=>[]},pageTitle:{type:String,default:()=>null},subhead:{type:String,default:()=>null}},data(){const e=(0,E.lq)();return console.log("Translate",(0,L.Tl)("router-"+e.meta.parent+"-"+e.meta.key)),{PageName:(0,L.iX)(),PageIcon:e.meta.icon,PagePath:e.meta.path,ParentName:e.meta.parent,ParentPage:e.meta.page}},setup(){(0,C.K7)((0,L.iX)())},methods:{getClasses(e){const t=(0,w.c)(e);return`${t}`},handleNavigationClick(e){e.function?this.$emit(e.eventName||e.function):this.$router.push(e.link)}}},A=n(64621);const P=(0,A.A)(_,[["render",k]]);var R=P},74284:function(e,t,n){n.d(t,{A:function(){return d}});var s=n(20641);function o(e,t,n,o,a,i){return(0,s.uX)(),(0,s.CE)("div")}var a=n(75220),i=n(63084),l=n(40475),c={name:"Authen",data(){return{configs:l.A.get("configs"),session:l.A.get("session")}},created(){i.A.option(this.$route)},computed:{},components:{},mounted(){this.checkAuth()},updated(){},methods:{async checkAuth(){const e=(0,a.lq)(),t=e.meta.auth,n=e.name,s=l.A.get("session");let o=s.token,c=s.login,r=s.current;i.A.log("hasLogin",c),i.A.log("Page -> Auth:",t),i.A.log("User -> Token:",o),i.A.log("User -> Login:",c),"frontend"===this.session.interface?i.A.log("Front-End"):"backend"===this.session.interface&&(i.A.log("Back-End"),c?("Login"==n||void 0==r?(i.A.log("Not Login Again"),this.$router.replace({path:"/"})):(i.A.log("Has School Active"),t?(i.A.log("This page is : Authen Request"),""===o||null===o||void 0==o?i.A.log("Your Cannot Access"):i.A.log("Your Can Access")):i.A.log("This page is : No Authen Request")),i.A.log("Login")):(i.A.log("Not Login"),"Login"!=n?(window.location.href="/member/login",i.A.log("Not Login Page",n)):i.A.log("Login Page",n)))}},setup(){}},r=n(64621);const u=(0,r.A)(c,[["render",o]]);var d=u},23264:function(e,t,n){function s(e){switch(e){case"input-plaintext":return"pl-0 focus:outline-none focus:ring-0 shadow-none border-0";case"primary-btn":return"px-4 py-2 text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"icon-btn":return"px-4 py-2 text-gray-700 bg-transparent hover:bg-transparent hover:text-gray-800";case"default-btn":return"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-md shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"danger-btn":return"px-4 py-2 text-white bg-red-600 rounded-md shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 focus:ring-offset-gray-50";case"success-btn":return"px-4 py-2 text-white bg-green-600 rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 focus:ring-offset-gray-50";default:return""}}n.d(t,{c:function(){return s}})}}]);
//# sourceMappingURL=9999.52a76667.js.map