"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[7615],{35070:function(e,l,a){a.r(l),a.d(l,{default:function(){return F}});var t=a(20641),s=a(90033),o=a(53751);const r={key:0,class:"p-2 border rounded-md shadow-sm"},d={class:"mb-2"},i={class:"block popup-label font-semibold mb-1"},c={key:0,class:"grid grid-cols-2 md:grid-cols-3 gap-2"},n=["src","alt"],m={key:1,class:"columns-2 md:columns-3 gap-2"},u=["src","alt"],g={key:2,class:"relative w-full"},p={class:"flex items-center justify-center"},b=["disabled"],h=["src","alt"],y=["disabled"],I={class:"text-center text-xs text-gray-500 mt-1"},k={key:3,class:"text-gray-400 text-sm"},v={key:1,class:"content-editor overflow-auto bg-white rounded-lg h-full"},f={class:"px-6 py-4 space-y-6"},x={class:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 grid grid-cols-1 md:grid-cols-2 gap-4 mb-3"},L={class:"md:col-span-2"},w={class:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 mt-3"},C={key:0},E={key:0,class:"text-sm text-gray-500 py-2 px-3 border rounded-md bg-gray-50"},X=["src","alt"],S=["onUpdate:modelValue"],G=["onClick","disabled"],U=["onClick","disabled"],j=["onClick"],T={key:1};function J(e,l,a,J,P,_){return(0,t.uX)(),(0,t.CE)("div",null,["preview"===a.mode?((0,t.uX)(),(0,t.CE)("div",r,[(0,t.Lk)("div",d,[(0,t.Lk)("label",i,(0,s.v_)(P.localItem.name||"Gallery"),1)]),"grid"===P.localItem.style?((0,t.uX)(),(0,t.CE)("div",c,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(_.galleryImages,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{key:l,class:"overflow-hidden rounded-md border border-gray-200 bg-white"},[(0,t.Lk)("img",{src:e.url,alt:e.alt||"Gallery Image",class:"w-full h-32 object-cover"},null,8,n)])))),128))])):"masonry"===P.localItem.style?((0,t.uX)(),(0,t.CE)("div",m,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(_.galleryImages,((e,l)=>((0,t.uX)(),(0,t.CE)("div",{key:l,class:"mb-2 break-inside-avoid rounded-md border border-gray-200 bg-white overflow-hidden"},[(0,t.Lk)("img",{src:e.url,alt:e.alt||"Gallery Image",class:"w-full object-cover"},null,8,u)])))),128))])):"slider"===P.localItem.style?((0,t.uX)(),(0,t.CE)("div",g,[(0,t.Lk)("div",p,[(0,t.Lk)("button",{onClick:l[0]||(l[0]=(...e)=>_.prevSlide&&_.prevSlide(...e)),class:"px-2 py-1 text-gray-600 hover:text-blue-600",disabled:_.galleryImages.length<=1},l[7]||(l[7]=[(0,t.Lk)("i",{class:"fas fa-chevron-left"},null,-1)]),8,b),(0,t.Lk)("img",{src:_.galleryImages[P.sliderIndex]?.url,alt:_.galleryImages[P.sliderIndex]?.alt||"Gallery Image",class:"w-64 h-40 object-cover rounded-md border border-gray-200 mx-2"},null,8,h),(0,t.Lk)("button",{onClick:l[1]||(l[1]=(...e)=>_.nextSlide&&_.nextSlide(...e)),class:"px-2 py-1 text-gray-600 hover:text-blue-600",disabled:_.galleryImages.length<=1},l[8]||(l[8]=[(0,t.Lk)("i",{class:"fas fa-chevron-right"},null,-1)]),8,y)]),(0,t.Lk)("div",I,(0,s.v_)(P.sliderIndex+1)+" / "+(0,s.v_)(_.galleryImages.length),1)])):((0,t.uX)(),(0,t.CE)("div",k,"No images to display."))])):"edit"===a.mode?((0,t.uX)(),(0,t.CE)("div",v,[l[21]||(l[21]=(0,t.Fv)('<div class="bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10" data-v-2c5a6345><div class="flex items-center space-x-3" data-v-2c5a6345><div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center" data-v-2c5a6345><i class="fas fa-images text-blue-600 h-4 w-4" data-v-2c5a6345></i></div><div data-v-2c5a6345><h3 class="text-lg font-semibold text-gray-900" data-v-2c5a6345>Gallery Configuration</h3><p class="text-sm text-gray-500" data-v-2c5a6345>ตั้งค่าการแสดงผลและแหล่งข้อมูลของแกลเลอรี่</p></div></div></div>',1)),(0,t.Lk)("div",f,[(0,t.Lk)("div",x,[(0,t.Lk)("div",null,[l[9]||(l[9]=(0,t.Lk)("label",{class:"popup-label block font-semibold mb-1"},"ชื่อ Gallery:",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>P.localItem.name=e),type:"text",class:"w-full popup-input rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Product Gallery"},null,512),[[o.Jo,P.localItem.name]])]),(0,t.Lk)("div",null,[l[11]||(l[11]=(0,t.Lk)("label",{class:"popup-label block font-semibold mb-1"},"รูปแบบแหล่งข้อมูล:",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>P.localItem.sourceType=e),class:"w-full popup-input rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"},l[10]||(l[10]=[(0,t.Lk)("option",{value:"single"},"เลือกรูปทีละรูป",-1),(0,t.Lk)("option",{value:"folder"},"เลือกเป็นโฟลเดอร์",-1)]),512),[[o.u1,P.localItem.sourceType]])]),(0,t.Lk)("div",L,[l[13]||(l[13]=(0,t.Lk)("label",{class:"popup-label block font-semibold mb-1"},"สไตล์การแสดงผล:",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>P.localItem.style=e),class:"w-full popup-input rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"},l[12]||(l[12]=[(0,t.Lk)("option",{value:"grid"},"Grid",-1),(0,t.Lk)("option",{value:"masonry"},"Masonry",-1),(0,t.Lk)("option",{value:"slider"},"Slider",-1)]),512),[[o.u1,P.localItem.style]])])]),(0,t.Lk)("div",w,["single"===P.localItem.sourceType?((0,t.uX)(),(0,t.CE)("div",C,[l[18]||(l[18]=(0,t.Lk)("label",{class:"popup-label block font-semibold mb-2"},"เลือกรูปภาพ (เพิ่ม/ลบ/เรียงลำดับ):",-1)),P.localItem.images&&0!==P.localItem.images.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("div",E,"ยังไม่มีรูปภาพในแกลเลอรี่")),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(P.localItem.images,((e,a)=>((0,t.uX)(),(0,t.CE)("div",{key:a,class:"flex items-center mb-2"},[(0,t.Lk)("img",{src:e.url,alt:e.alt||"Gallery Image",class:"w-16 h-16 object-cover rounded border border-gray-200 mr-3"},null,8,X),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l=>e.alt=l,type:"text",class:"popup-input w-32 text-xs mr-2",placeholder:"คำอธิบาย alt"},null,8,S),[[o.Jo,e.alt]]),(0,t.Lk)("button",{onClick:e=>_.moveImageUp(a),disabled:0===a,class:"option-btn"},l[14]||(l[14]=[(0,t.Lk)("i",{class:"fas fa-arrow-up"},null,-1)]),8,G),(0,t.Lk)("button",{onClick:e=>_.moveImageDown(a),disabled:a===P.localItem.images.length-1,class:"option-btn"},l[15]||(l[15]=[(0,t.Lk)("i",{class:"fas fa-arrow-down"},null,-1)]),8,U),(0,t.Lk)("button",{onClick:e=>_.removeImage(a),class:"option-btn text-red-600 hover:text-red-700"},l[16]||(l[16]=[(0,t.Lk)("i",{class:"fas fa-trash"},null,-1)]),8,j)])))),128)),(0,t.Lk)("button",{onClick:l[5]||(l[5]=(...e)=>_.addImage&&_.addImage(...e)),class:"mt-1 px-3 py-1.5 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm"},l[17]||(l[17]=[(0,t.Lk)("i",{class:"fas fa-plus mr-1"},null,-1),(0,t.eW)(" เพิ่มรูป")]))])):"folder"===P.localItem.sourceType?((0,t.uX)(),(0,t.CE)("div",T,[l[19]||(l[19]=(0,t.Lk)("label",{class:"popup-label block font-semibold mb-2"},"เลือกโฟลเดอร์รูปภาพ:",-1)),(0,t.bo)((0,t.Lk)("input",{"onUpdate:modelValue":l[6]||(l[6]=e=>P.localItem.folderPath=e),type:"text",class:"popup-input w-full",placeholder:"ระบุ path หรือเลือกโฟลเดอร์ (mockup)"},null,512),[[o.Jo,P.localItem.folderPath]]),l[20]||(l[20]=(0,t.Lk)("div",{class:"text-xs text-gray-500 mt-1"},"* ระบบนี้เป็น mockup: ในระบบจริงควรเชื่อมต่อกับ file picker หรือ media manager",-1))])):(0,t.Q3)("",!0)])])])):(0,t.Q3)("",!0)])}a(44114);var P={name:"GalleryElement",props:{item:{type:Object,required:!0},mode:{type:String,required:!0}},emits:["update-item"],data(){return{localItem:{name:"",sourceType:"single",style:"grid",images:[],folderPath:""},sliderIndex:0}},computed:{galleryImages(){return"single"===this.localItem.sourceType?this.localItem.images||[]:"folder"===this.localItem.sourceType&&this.localItem.folderPath?Array.from({length:6},((e,l)=>({url:`https://picsum.photos/seed/${encodeURIComponent(this.localItem.folderPath+"-"+l)}/400/300`,alt:`Folder Image ${l+1}`}))):[]}},watch:{item:{handler(e){const l={name:"",sourceType:"single",style:"grid",images:[],folderPath:""},a=e&&"object"===typeof e?e:{};this.localItem={...l,...JSON.parse(JSON.stringify(a))},this.sliderIndex=0},deep:!0,immediate:!0},localItem:{handler(e){this.$emit("update-item",JSON.parse(JSON.stringify(e)))},deep:!0},"localItem.style"(e){"slider"===e&&(this.sliderIndex=0)},galleryImages(e){this.sliderIndex>=e.length&&(this.sliderIndex=0)}},methods:{addImage(){this.localItem.images||(this.localItem.images=[]),this.localItem.images.push({url:"https://picsum.photos/seed/"+Math.random().toString(36).substring(2,8)+"/400/300",alt:""})},removeImage(e){this.localItem.images.splice(e,1)},moveImageUp(e){if(e>0){const l=this.localItem.images.splice(e,1)[0];this.localItem.images.splice(e-1,0,l)}},moveImageDown(e){if(e<this.localItem.images.length-1){const l=this.localItem.images.splice(e,1)[0];this.localItem.images.splice(e+1,0,l)}},prevSlide(){this.galleryImages.length>0&&(this.sliderIndex=(this.sliderIndex-1+this.galleryImages.length)%this.galleryImages.length)},nextSlide(){this.galleryImages.length>0&&(this.sliderIndex=(this.sliderIndex+1)%this.galleryImages.length)}}},_=a(64621);const V=(0,_.A)(P,[["render",J],["__scopeId","data-v-2c5a6345"]]);var F=V}}]);
//# sourceMappingURL=element-gallery-vue.dc11d26e.js.map