"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[8777],{28515:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var l=a(20641),o=a(90033),s=a(53751);const r={key:0,class:"p-2 border rounded-md shadow-sm"},n={class:"flex items-center space-x-3"},d={class:"flex-grow min-w-0"},i=["title"],p={class:"text-xs text-gray-500"},c={key:1,class:"content-editor overflow-auto",style:{"min-height":"600px","max-height":"600px","scrollbar-width":"thin","scrollbar-color":"rgba(0, 0, 0, 0.2) transparent",right:"-20px"}},m={class:"section-group space-y-4"},u={key:0,class:"max-h-96 overflow-y-auto border rounded-md p-2 bg-gray-50 space-y-1"},g=["onClick"],k={class:"text-sm font-medium text-gray-800"},b={class:"text-xs text-gray-500"},v={key:1,class:"text-sm text-gray-500 p-2 border rounded-md"},h={key:2,class:"mt-2 text-sm text-gray-600"},I={class:"font-semibold"};function f(e,t,a,f,x,y){return(0,l.uX)(),(0,l.CE)("div",null,["preview"===a.mode?((0,l.uX)(),(0,l.CE)("div",r,[(0,l.Lk)("div",n,[t[3]||(t[3]=(0,l.Lk)("div",{class:"flex-shrink-0 text-gray-400"},[(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.5"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})])],-1)),(0,l.Lk)("div",d,[t[2]||(t[2]=(0,l.Lk)("p",{class:"text-sm font-medium text-gray-900 truncate"},"Internal Iframe",-1)),(0,l.Lk)("p",{class:"text-xs text-gray-500 truncate",title:x.localItem.pageName||"No page selected"},(0,o.v_)(x.localItem.pageName||"ยังไม่ได้เลือกหน้าเว็บ"),9,i),(0,l.Lk)("p",p," Mode: "+(0,o.v_)(x.localItem.mode||"N/A"),1)])])])):(0,l.Q3)("",!0),"edit"===a.mode?((0,l.uX)(),(0,l.CE)("div",c,[t[8]||(t[8]=(0,l.Lk)("div",{class:"section-group"},[(0,l.Lk)("div",{class:"border-b border-gray-200 pb-3 mb-3"},[(0,l.Lk)("span",{class:"popup-label block font-bold text-lg"},"Internal Iframe Config"),(0,l.Lk)("span",{class:"popup-label text-gray-500"},"Configure the internal iframe content.")])],-1)),(0,l.Lk)("div",m,[(0,l.Lk)("div",null,[t[5]||(t[5]=(0,l.Lk)("label",{class:"popup-label block mb-1 font-semibold"},"Display Mode:",-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>x.localItem.mode=e),onChange:t[1]||(t[1]=(...e)=>y.updateLocalItem&&y.updateLocalItem(...e)),class:"popup-input w-full"},t[4]||(t[4]=[(0,l.Lk)("option",{value:"form"},"แบบฟอร์ม (Form)",-1),(0,l.Lk)("option",{value:"standalone"},"หน้าเว็บ (Standalone Page)",-1)]),544),[[s.u1,x.localItem.mode]])]),(0,l.Lk)("div",null,[t[7]||(t[7]=(0,l.Lk)("label",{class:"popup-label block mb-2 font-semibold"},"Select Page:",-1)),a.postItems&&a.postItems.length>0?((0,l.uX)(),(0,l.CE)("div",u,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.postItems,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e._id,class:(0,o.C4)(["p-2 rounded-md hover:bg-gray-100 cursor-pointer border",{"bg-blue-100 border-blue-300":x.localItem.page===e._id}]),onClick:t=>y.selectPage(e)},[(0,l.Lk)("p",k,(0,o.v_)(e.title),1),(0,l.Lk)("p",b,"ID: "+(0,o.v_)(e._id),1)],10,g)))),128))])):((0,l.uX)(),(0,l.CE)("div",v," No pages available to select. Ensure 'postItems' prop is provided. ")),x.localItem.pageName?((0,l.uX)(),(0,l.CE)("div",h,[t[6]||(t[6]=(0,l.eW)(" Selected Page: ")),(0,l.Lk)("span",I,(0,o.v_)(x.localItem.pageName)+" (ID: "+(0,o.v_)(x.localItem.page)+")",1)])):(0,l.Q3)("",!0)])])])):(0,l.Q3)("",!0)])}var x={name:"IframeInternalElement",props:{item:{type:Object,required:!0},mode:{type:String,required:!0},postItems:{type:Array,default:()=>[]}},emits:["update-item"],data(){return{localItem:{}}},watch:{item:{handler(e){const t={page:null,pageName:"",mode:"standalone"},a={...t,...e};JSON.stringify(a)!==JSON.stringify(this.localItem)&&(this.localItem=JSON.parse(JSON.stringify(a)))},deep:!0,immediate:!0}},methods:{updateLocalItem(){this.$emit("update-item",JSON.parse(JSON.stringify(this.localItem)))},selectPage(e){e&&e._id&&(this.localItem.page=e._id,this.localItem.pageName=e.title||"Untitled Page",this.updateLocalItem())}}},y=a(64621);const L=(0,y.A)(x,[["render",f],["__scopeId","data-v-1529b5eb"]]);var w=L}}]);
//# sourceMappingURL=element-iframe_internal-vue.484371a5.js.map