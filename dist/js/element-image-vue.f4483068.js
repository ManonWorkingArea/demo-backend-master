"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[5350],{40687:function(e,l,t){t.d(l,{A:function(){return k}});var a=t(20641),o=t(50953),s=t(90033),i=t(94232),r=t(10797),n=t(55372);const c={key:0,class:"fixed inset-0 overflow-y-auto"},d={class:"flex min-h-full items-center justify-center p-4 text-center"},u={class:"font-medium"},p={class:"bg-black w-8 h-8 right-2 top-2 leading-8 hover:bg-gray-500"},g={props:["isWindowsOpen","allowFileType","callbackFunction"],data(){return console.log("FileBrowser props:",this.isWindowsOpen,this.allowFileType,this.callbackFunction),{SessionList:[],loading_sources:!0,activeBlock:!1,schoolId:"",isOpen:this.isWindowsOpen,isAllow:this.allowFileType,isCallback:this.callbackFunction,mode:"popup"}},components:{FileManager:n.A},watch:{isWindowsOpen(e){console.log("isWindowsOpen changed to:",e),this.isOpen=e}},methods:{selectFileTrigger(e){this.selectFileTrigger=e,this.closeModal(),this.selectFile(e)},closeModal(){this.isOpen=!1,this.$emit("fileBrowserTrigger",!1)},selectFile(e){this.$emit("fileBrowserCallback",e)}},async mounted(){console.log("FileBrowser mounted with isOpen:",this.isOpen,"isWindowsOpen:",this.isWindowsOpen)},setup(){}};var m=Object.assign(g,{__name:"FileBrowser",setup(e){return(l,t)=>{const g=(0,a.g2)("font-awesome-icon");return(0,a.uX)(),(0,a.Wv)((0,o.R1)(i.O),{appear:"",show:l.isOpen,as:"template"},{default:(0,a.k6)((()=>[(0,a.bF)((0,o.R1)(r.lG),{as:"div",onClose:l.closeModal,class:"relative z-10"},{default:(0,a.k6)((()=>[(0,a.bF)((0,o.R1)(i._),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.Lk)("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)]))),_:1}),l.loading_sources?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",d,[(0,a.bF)((0,o.R1)(i._),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:(0,a.k6)((()=>[(0,a.bF)((0,o.R1)(r.Lj),{class:(0,s.C4)(["w-[60rem] z-40 transform overflow-hidden bg-white p-3 text-left align-middle shadow-xl transition-all blocking relative",[l.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},{default:(0,a.k6)((()=>[(0,a.bF)((0,o.R1)(r.L3),{as:"h3",class:"text-lg pb-2 font-bold leading-6 text-gray-900 border-b"},{default:(0,a.k6)((()=>[t[3]||(t[3]=(0,a.eW)("เลือกไฟล์ (Select File) ")),(0,a.Lk)("p",u,[t[2]||(t[2]=(0,a.eW)("อนุญาติเฉพาะไฟล์ ")),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.allowFileType,(e=>((0,a.uX)(),(0,a.CE)("span",{key:e.code,class:"text-xs font-medium bg-indigo-600 pl-2 pr-2 pt-1 mr-1 rounded text-white"},(0,s.v_)(e),1)))),128))]),(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.closeModal&&l.closeModal(...e)),type:"button",class:"z-50 absolute top-2 right-2"},[(0,a.Lk)("div",p,[(0,a.bF)(g,{icon:["fas","times"],class:"text-white mt-[7px] font-sm"})])])])),_:1}),(0,a.Lk)("div",null,[(0,a.bF)(n.A,{onSelectFileTrigger:l.selectFileTrigger,Mode:l.mode,AllowFile:l.isAllow,CallbackFunc:l.isCallback},null,8,["onSelectFileTrigger","Mode","AllowFile","CallbackFunc"])])])),_:1},8,["class"])])),_:1})])])):(0,a.Q3)("",!0)])),_:1},8,["onClose"])])),_:1},8,["show"])}}});const b=m;var k=b},2942:function(e,l,t){t.r(l),t.d(l,{default:function(){return X}});var a=t(20641),o=t(90033),s=t(53751);const i={key:0,class:"p-2"},r=["src","alt"],n={key:1,class:"no-content"},c={class:"content-editor overflow-auto bg-white rounded-lg h-full"},d={class:"px-6 py-4 space-y-6"},u={class:"bg-white border border-gray-200 rounded-lg shadow-sm p-4"},p=["src"],g={key:1,class:"text-gray-400"},m={class:"bg-white border border-gray-200 rounded-lg shadow-sm p-4"},b={class:"grid grid-cols-2 gap-4"},k={class:"inline-flex items-center"},f={class:"inline-flex items-center"},h={class:"mt-4"},w={class:"inline-flex items-center"},v={key:0,class:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-4"},y={class:"md:col-span-2"},L={class:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},F={class:"mt-6"},x={class:"grid grid-cols-3 gap-4 mt-3"},I=["onUpdate:modelValue","value"],O={class:"text-center text-sm capitalize"};function C(e,l,t,C,B,_){const S=(0,a.g2)("FileBrowser");return(0,a.uX)(),(0,a.CE)("div",null,["preview"===t.mode?((0,a.uX)(),(0,a.CE)("div",i,[B.localItem.url?((0,a.uX)(),(0,a.CE)("img",{key:0,src:B.localItem.url,alt:B.localItem.alt||"",style:(0,o.Tr)({width:B.localItem.width+"px"})},null,12,r)):((0,a.uX)(),(0,a.CE)("div",n,"No Image"))])):(0,a.Q3)("",!0),"edit"===t.mode?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[B.FileImageBrowserOpen?((0,a.uX)(),(0,a.Wv)(S,{key:0,class:"z-[9999]",isWindowsOpen:!0,callbackFunction:"document",allowFileType:["jpg","gif","png","jpeg"],onFileBrowserTrigger:_.changeFileImageTrigger,onFileBrowserCallback:_.selectFileImageTrigger},null,8,["onFileBrowserTrigger","onFileBrowserCallback"])):(0,a.Q3)("",!0),(0,a.Lk)("div",c,[l[19]||(l[19]=(0,a.Fv)('<div class="bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10" data-v-a88a4b20><div class="flex items-center space-x-3" data-v-a88a4b20><div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center" data-v-a88a4b20><i class="fas fa-image text-blue-600 h-4 w-4" data-v-a88a4b20></i></div><div data-v-a88a4b20><h3 class="text-lg font-semibold text-gray-900" data-v-a88a4b20>Image Configuration</h3><p class="text-sm text-gray-500" data-v-a88a4b20>ตั้งค่าการแสดงผลของรูปภาพ</p></div></div></div>',1)),(0,a.Lk)("div",d,[(0,a.Lk)("div",u,[l[9]||(l[9]=(0,a.Lk)("label",{class:"popup-label block font-semibold mb-1"},"เลือกรูปภาพ",-1)),(0,a.Lk)("div",{class:"relative w-full h-48 flex items-center justify-center cursor-pointer border border-gray-200 rounded-md overflow-hidden",onClick:l[0]||(l[0]=(...e)=>_.triggerOpenFileBrowser&&_.triggerOpenFileBrowser(...e))},[B.localItem.url?((0,a.uX)(),(0,a.CE)("img",{key:0,src:B.localItem.url,alt:"Selected Image",class:"object-cover w-full h-full"},null,8,p)):((0,a.uX)(),(0,a.CE)("span",g,"ยังไม่ได้เลือกรูป")),l[8]||(l[8]=(0,a.Lk)("div",{class:"absolute inset-0 flex flex-col items-center justify-center opacity-0 hover:opacity-100 transition-opacity duration-200"},[(0,a.Lk)("div",{class:"absolute inset-0 bg-black bg-opacity-20"}),(0,a.Lk)("span",{class:"text-white bg-black p-2 rounded-md"},[(0,a.Lk)("i",{class:"fas fa-upload text-white text-lg mr-2"}),(0,a.eW)(" คลิ๊กเพื่อเลือกรูปภาพ ")])],-1))])]),(0,a.Lk)("div",m,[(0,a.Lk)("div",b,[(0,a.Lk)("div",null,[(0,a.Lk)("label",k,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>B.localItem.showShadow=e),type:"checkbox",class:"form-checkbox"},null,512),[[s.lH,B.localItem.showShadow]]),l[10]||(l[10]=(0,a.Lk)("span",{class:"ml-2"},"แสดงเงาของรูป",-1))])]),(0,a.Lk)("div",null,[(0,a.Lk)("label",f,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>B.localItem.showHome=e),type:"checkbox",class:"form-checkbox"},null,512),[[s.lH,B.localItem.showHome]]),l[11]||(l[11]=(0,a.Lk)("span",{class:"ml-2"},"Home Link",-1))])])]),(0,a.Lk)("div",h,[(0,a.Lk)("label",w,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>B.localItem.canLink=e),type:"checkbox",class:"form-checkbox"},null,512),[[s.lH,B.localItem.canLink]]),l[12]||(l[12]=(0,a.Lk)("span",{class:"ml-2"},"สร้างลิงค์",-1))])]),B.localItem.canLink?((0,a.uX)(),(0,a.CE)("div",v,[(0,a.Lk)("div",y,[l[13]||(l[13]=(0,a.Lk)("label",{class:"popup-label"},"ระบุลิงค์ปลายทางที่ต้องการ:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":l[4]||(l[4]=e=>B.localItem.link=e),type:"text",class:"popup-input w-full rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"},null,512),[[s.Jo,B.localItem.link]])]),(0,a.Lk)("div",null,[l[15]||(l[15]=(0,a.Lk)("label",{class:"popup-label"},"เปิดลิงค์ใน:",-1)),(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":l[5]||(l[5]=e=>B.localItem.target=e),class:"popup-input w-full rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"},l[14]||(l[14]=[(0,a.Lk)("option",{disabled:"",value:""},"เลือกปลายทาง",-1),(0,a.Lk)("option",{value:"_self"},"หน้าเดิม",-1),(0,a.Lk)("option",{value:"_blank"},"หน้าใหม่",-1)]),512),[[s.u1,B.localItem.target]])])])):(0,a.Q3)("",!0),(0,a.Lk)("div",L,[(0,a.Lk)("div",null,[l[16]||(l[16]=(0,a.Lk)("label",{class:"popup-label"},"คำอธิบายรูปภาพ:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":l[6]||(l[6]=e=>B.localItem.alt=e),type:"text",class:"popup-input w-full rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"},null,512),[[s.Jo,B.localItem.alt]])]),(0,a.Lk)("div",null,[l[17]||(l[17]=(0,a.Lk)("label",{class:"popup-label"},"ขนาด (px):",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":l[7]||(l[7]=e=>B.localItem.width=e),type:"text",class:"popup-input w-full rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500"},null,512),[[s.Jo,B.localItem.width]])])]),(0,a.Lk)("div",F,[l[18]||(l[18]=(0,a.Lk)("label",{class:"popup-label block font-semibold"},"Image Alignment",-1)),(0,a.Lk)("div",x,[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(["left","center","right"],(e=>(0,a.Lk)("label",{key:e,class:(0,o.C4)(["radio-label p-2 flex flex-col items-center justify-center cursor-pointer border border-gray-300 rounded-md transition-colors",{"bg-blue-500 text-white border-blue-600":B.localItem.alignment===e,"bg-gray-100 hover:bg-gray-200":B.localItem.alignment!==e}])},[(0,a.bo)((0,a.Lk)("input",{type:"radio","onUpdate:modelValue":e=>B.localItem.alignment=e,value:e,class:"radio-input hidden"},null,8,I),[[s.XL,B.localItem.alignment]]),(0,a.Lk)("span",O,(0,o.v_)(e),1)],2))),64))])])])])])],64)):(0,a.Q3)("",!0)])}var B=t(40687),_={components:{FileBrowser:B.A},name:"ImageElement",props:{item:{type:Object,required:!0},mode:{type:String,required:!0}},data(){return{localItem:JSON.parse(JSON.stringify(this.item)),FileImageBrowserOpen:!1}},methods:{triggerOpenFileBrowser(){this.FileImageBrowserOpen=!0},changeFileImageTrigger(e){this.FileImageBrowserOpen=e},selectFileImageTrigger(e){e&&e.file&&(this.localItem={...this.localItem,url:e.file}),this.FileImageBrowserOpen=!1}},watch:{item:{handler(e){JSON.stringify(e)!==JSON.stringify(this.localItem)&&(this.localItem=JSON.parse(JSON.stringify(e)))},deep:!0},localItem:{handler(e){JSON.stringify(e)!==JSON.stringify(this.item)&&this.$emit("update-item",JSON.parse(JSON.stringify(e)))},deep:!0}}},S=t(64621);const T=(0,S.A)(_,[["render",C],["__scopeId","data-v-a88a4b20"]]);var X=T}}]);
//# sourceMappingURL=element-image-vue.f4483068.js.map