"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[9630],{86576:function(e,t,l){l.r(t),l.d(t,{default:function(){return _}});var a=l(20641),s=l(90033),o=l(53751);const i={key:0,class:"p-2"},c={key:1,class:"content-editor overflow-auto",style:{"min-height":"600px","max-height":"600px","scrollbar-width":"thin","scrollbar-color":"rgba(0, 0, 0, 0.2) transparent",right:"-20px"}},n={class:"section-group flex flex-col h-full"},r={class:"pl-2 pb-2"},d={class:"col-span-2 mt-4"},p={class:"flex items-center mt-2"},u={class:"radio-label flex items-center mr-4"},m={class:"radio-label flex items-center mr-4"},g={class:"grid grid-cols-2 gap-4 mt-5"},b={key:0,class:"bg-white pl-2 rounded-sm shadow-sm"},k={class:"flex items-center justify-between"},I={class:"text-md font-semibold"},L=["value","onChange"],y={class:"list-disc ml-8 space-y-4 mt-2"},h={class:"flex items-center justify-between"},v={class:"text-md font-medium"},C=["value","onChange"];function f(e,t,l,f,x,w){return(0,a.uX)(),(0,a.CE)("div",null,["preview"===l.mode?((0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("h1",null,(0,s.v_)(x.localItem.text||"None"),1)])):"edit"===l.mode?((0,a.uX)(),(0,a.CE)("div",c,[t[14]||(t[14]=(0,a.Lk)("div",{class:"section-group"},[(0,a.Lk)("div",{class:"border-b border-gray-200 pb-3 mb-3"},[(0,a.Lk)("span",{class:"popup-label block font-bold text-lg"},"Lesson Categories Config"),(0,a.Lk)("span",{class:"popup-label text-gray-500"},"แสดงเนื้อหานี้ในหน้าจอของอุปกรณ์")])],-1)),(0,a.Lk)("div",n,[(0,a.Lk)("div",r,"Select : "+(0,s.v_)(x.localItem.categoriesCode),1),t[13]||(t[13]=(0,a.Lk)("label",{class:"popup-label"},"หัวข้อ:",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>x.localItem.categoriesName=e),type:"text",class:"w-full popup-input",onInput:t[1]||(t[1]=e=>w.updateItem("categoriesName",x.localItem.categoriesName))},null,544),[[o.Jo,x.localItem.categoriesName]]),(0,a.Lk)("div",d,[t[12]||(t[12]=(0,a.Lk)("label",{class:"popup-label"},"วิธีแสดงผล:",-1)),(0,a.Lk)("div",p,[(0,a.Lk)("label",u,[(0,a.bo)((0,a.Lk)("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=e=>x.localItem.categoriesDisplay=e),value:"all",class:"radio-input",onChange:t[3]||(t[3]=e=>w.updateItem("categoriesDisplay","all"))},null,544),[[o.XL,x.localItem.categoriesDisplay]]),t[8]||(t[8]=(0,a.Lk)("span",{class:"radio-icon mr-2"},null,-1)),t[9]||(t[9]=(0,a.Lk)("span",{class:"text-sm text-gray-500"},"ทั้งหมด",-1))]),(0,a.Lk)("label",m,[(0,a.bo)((0,a.Lk)("input",{type:"radio","onUpdate:modelValue":t[4]||(t[4]=e=>x.localItem.categoriesDisplay=e),value:"select",class:"radio-input",onChange:t[5]||(t[5]=e=>w.updateItem("categoriesDisplay","select"))},null,544),[[o.XL,x.localItem.categoriesDisplay]]),t[10]||(t[10]=(0,a.Lk)("span",{class:"radio-icon mr-2"},null,-1)),t[11]||(t[11]=(0,a.Lk)("span",{class:"text-sm text-gray-500"},"เลือกหมวดหมู่",-1))])])]),(0,a.Lk)("div",g,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(l.flattenedCategories,((e,l)=>((0,a.uX)(),(0,a.CE)(a.FK,{key:e._id},["main"===e.type?((0,a.uX)(),(0,a.CE)("div",b,[(0,a.Lk)("div",k,[(0,a.Lk)("label",I,[(0,a.bo)((0,a.Lk)("input",{type:"radio",value:e.code,"onUpdate:modelValue":t[6]||(t[6]=e=>x.localItem.categoriesCode=e),onChange:t=>w.updateItem("categoriesCode",e.code)},null,40,L),[[o.XL,x.localItem.categoriesCode]]),(0,a.eW)(" "+(0,s.v_)(w.getMainCategoryIndex(l))+"."+(0,s.v_)(e.name),1)])]),(0,a.Lk)("ul",y,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(w.getSubcategories(e._id),(e=>((0,a.uX)(),(0,a.CE)("li",{key:e._id},[(0,a.Lk)("div",h,[(0,a.Lk)("label",v,[(0,a.bo)((0,a.Lk)("input",{type:"radio",value:e.code,"onUpdate:modelValue":t[7]||(t[7]=e=>x.localItem.categoriesCode=e),onChange:t=>w.updateItem("categoriesCode",e.code)},null,40,C),[[o.XL,x.localItem.categoriesCode]]),(0,a.eW)(" "+(0,s.v_)(e.name),1)])])])))),128))])])):(0,a.Q3)("",!0)],64)))),128))])])])):(0,a.Q3)("",!0)])}l(98992),l(54520);var x={props:{item:{type:Object,required:!0},mode:{type:String,required:!0,default:"preview"},selectedItem:{type:Object,required:!0},flattenedCategories:{type:Array,required:!0}},data(){return{localItem:{...this.selectedItem}}},methods:{updateItem(e,t){this.localItem[e]=t,console.log("Emitting update-item with:",{...this.localItem}),this.$emit("update-item",{...this.localItem})},getMainCategoryIndex(e){return e+1},getSubcategories(e){return this.flattenedCategories.filter((t=>t.parentId===e))}},watch:{selectedItem:{handler(e){this.localItem={...e}},deep:!0}}},w=l(64621);const X=(0,w.A)(x,[["render",f],["__scopeId","data-v-95e07a88"]]);var _=X}}]);
//# sourceMappingURL=element-lesson_categories-vue.1e05e672.js.map