{"version":3,"file":"js/element-preview-vue.dd0bb771.js","mappings":"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","sources":["webpack://node-backend/./src/interface/modal/FileBrowser.vue","webpack://node-backend/./src/interface/modal/FileBrowser.vue?64f1","webpack://node-backend/./src/interface/template/builder/element/preview.vue","webpack://node-backend/./src/interface/template/builder/element/preview.vue?8ab5"],"sourcesContent":["<script>\n\n// Plugin\n//import { ls } from 'vue-lsp'\nimport FileManager from '@/interface/template/FileManager.vue';\n\nexport default {\n    props: ['isWindowsOpen','allowFileType','callbackFunction'],\n    data() {\n      //const userSession = ls.get('school') !=undefined ? ls.get('school') : \"\";\n      console.log('FileBrowser props:', this.isWindowsOpen, this.allowFileType, this.callbackFunction);\n      return {\n        SessionList: [],\n        loading_sources: true,\n        activeBlock: false,\n        //currentSchool:userSession,\n        schoolId: '',\n        isOpen:this.isWindowsOpen,\n        isAllow:this.allowFileType,\n        isCallback:this.callbackFunction,\n        mode: 'popup'\n      }\n    },\n    components: {\n      FileManager\n    },\n    watch: {\n      isWindowsOpen(newVal) {\n        console.log('isWindowsOpen changed to:', newVal);\n        this.isOpen = newVal;\n      }\n    },\n    methods: {\n      selectFileTrigger(payload) {\n        this.selectFileTrigger = payload;\n        this.closeModal()\n        this.selectFile(payload);\n      },\n      closeModal() {\n        this.isOpen = false\n        this.$emit(\"fileBrowserTrigger\", false)\n      },\n      selectFile(obj) {\n        this.$emit(\"fileBrowserCallback\", obj)\n      }\n    },\n    async mounted () {\n      console.log('FileBrowser mounted with isOpen:', this.isOpen, 'isWindowsOpen:', this.isWindowsOpen);\n      try {\n        /*\n        await this.getuserSession();\n        let schoolSession = ls.get('school');\n        if(schoolSession!=undefined) {\n        this.currentSchool = schoolSession\n        } else {\n        this.currentSchool = ''\n        }\n        console.log(this.currentSchool);\n        */\n      } catch (error) {\n        console.log(Error);\n      }\n    },\n    setup() {\n    },\n};\n</script>\n\n<script setup>\nimport {TransitionRoot,TransitionChild,Dialog,DialogPanel,DialogTitle } from '@headlessui/vue'\n</script>\n\n<template>\n\n    <TransitionRoot appear :show=\"isOpen\" as=\"template\">\n        <Dialog as=\"div\" @close=\"closeModal\" class=\"relative z-10\">\n          <TransitionChild\n            as=\"template\"\n            enter=\"duration-300 ease-out\"\n            enter-from=\"opacity-0\"\n            enter-to=\"opacity-100\"\n            leave=\"duration-200 ease-in\"\n            leave-from=\"opacity-100\"\n            leave-to=\"opacity-0\"\n          >\n       <div class=\"fixed inset-0 bg-black bg-opacity-25\" />\n    </TransitionChild>\n   \n      <div class=\"fixed inset-0 overflow-y-auto\" v-if=\"loading_sources\">\n       <div class=\"flex min-h-full items-center justify-center p-4 text-center\">\n        <TransitionChild\n          as=\"template\"\n          enter=\"duration-300 ease-out\"\n          enter-from=\"opacity-0 scale-95\"\n          enter-to=\"opacity-100 scale-100\"\n          leave=\"duration-200 ease-in\"\n          leave-from=\"opacity-100 scale-100\"\n          leave-to=\"opacity-0 scale-95\"\n        >\n         <DialogPanel class=\"w-[60rem] z-40 transform overflow-hidden bg-white p-3 text-left align-middle shadow-xl transition-all blocking relative\" :data-content=\"'กำลังติดต่อฐานข้อมูล กรุณารอสักครู่.....'\" :class=\"[(activeBlock?'isblock' : 'isunblock')]\">\n            <DialogTitle as=\"h3\" class=\"text-lg pb-2 font-bold leading-6 text-gray-900 border-b\">เลือกไฟล์ (Select File)  <p class=\"font-medium\">อนุญาติเฉพาะไฟล์ <span v-for=\"(fileType) in allowFileType\" :key=\"fileType.code\" class=\"text-xs font-medium bg-indigo-600 pl-2 pr-2 pt-1 mr-1 rounded text-white\">{{fileType}}</span></p>\n                <button @click=\"closeModal\" type=\"button\" class=\"z-50 absolute top-2 right-2\">\n                  <div class=\"bg-black w-8 h-8 right-2 top-2 leading-8 hover:bg-gray-500\">\n                    <font-awesome-icon :icon=\"['fas','times']\" class=\"text-white mt-[7px] font-sm\"/>\n                  </div>\n                </button>\n            </DialogTitle>\n          <div>\n            <FileManager \n            @select-file-trigger=\"selectFileTrigger\" \n            :Mode=\"mode\" \n            :AllowFile=\"isAllow\" \n            :CallbackFunc=\"isCallback\"/>\n          </div>\n         </DialogPanel>\n        </TransitionChild>\n       </div>\n      </div>\n     </Dialog>\n    </TransitionRoot>\n   </template>","import script from \"./FileBrowser.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FileBrowser.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div>\n    <!-- Preview Mode -->\n    <template v-if=\"mode === 'preview'\">\n      <div class=\"p-2 border rounded-md shadow-sm\">\n        <div class=\"flex items-center space-x-2\">\n          <div class=\"flex-shrink-0\">\n            <img v-if=\"localItem && localItem.url\" :src=\"localItem.url\" alt=\"Preview Image\" class=\"w-12 h-12 object-cover rounded-md bg-gray-200\"/>\n            <div v-else class=\"w-12 h-12 bg-gray-200 rounded-md flex items-center justify-center text-gray-400\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\" stroke-width=\"2\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n              </svg>\n            </div>\n          </div>\n          <div class=\"flex-grow min-w-0\">\n            <p class=\"text-sm font-medium text-gray-900 truncate\" :title=\"localItem && localItem.filename ? localItem.filename : 'No filename'\">\n              {{ localItem && localItem.filename ? localItem.filename : 'No filename' }}\n            </p>\n            <p class=\"text-xs text-gray-500\">\n              File: <span class=\"font-semibold truncate\" :title=\"localItem.fileurl\">{{ localItem.fileurl || 'No file selected'}}</span>\n            </p>\n            <p class=\"text-xs text-gray-500\">\n              Display: <span class=\"font-semibold\">{{ localItem && localItem.display ? (localItem.display === 'download' ? 'Download' : 'Preview') : 'N/A' }}</span>\n            </p>\n            <p v-if=\"localItem && localItem.display === 'preview'\" class=\"text-xs text-gray-500\">\n              Download Allowed: <span class=\"font-semibold\">{{ localItem.canDownload ? 'Yes' : 'No' }}</span>\n            </p>\n          </div>\n        </div>\n      </div>\n    </template>\n\n    <!-- Edit Mode -->\n    <template v-if=\"mode === 'edit'\">\n      <FileBrowser\n        class=\"z-[9999]\"\n        v-if=\"isPreviewImageBrowserOpen\"\n        :isWindowsOpen=\"true\"\n        :callbackFunction=\"'image_preview'\"\n        :allowFileType=\"['jpg', 'gif', 'png', 'jpeg']\"\n        @file-browser-trigger=\"changePreviewFileImageTrigger\"\n        @file-browser-callback=\"selectPreviewFileImageTrigger\"\n      />\n\n      <FileBrowser\n        class=\"z-[9999]\"\n        v-if=\"isFileUrlBrowserOpen\" \n        :isWindowsOpen=\"true\"\n        :callbackFunction=\"'preview_fileurl'\" \n        :allowFileType=\"['pdf']\" \n        @file-browser-trigger=\"changeFileUrlBrowserTrigger\"\n        @file-browser-callback=\"selectFileUrlBrowserTrigger\"\n      />\n\n      <div class=\"content-editor overflow-auto bg-white rounded-lg h-full\">\n        <!-- Section Header -->\n        <div class=\"bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10\">\n          <div class=\"flex items-center space-x-3\">\n            <div class=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <i class=\"fas fa-file-alt text-blue-600 h-4 w-4\"></i>\n            </div>\n            <div>\n              <h3 class=\"text-lg font-semibold text-gray-900\">Preview File Configuration</h3>\n              <p class=\"text-sm text-gray-500\">ตั้งค่าการแสดงผลของไฟล์ตัวอย่าง</p>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"px-6 py-4 space-y-6\">\n          <!-- File Name & File URL -->\n          <div class=\"bg-white border border-gray-200 rounded-lg shadow-sm p-4 space-y-4\">\n            <div>\n              <label class=\"popup-label font-semibold mb-1\">ชื่อไฟล์:</label>\n              <input\n                v-model=\"localItem.filename\"\n                type=\"text\"\n                class=\"popup-input w-full rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n            <div>\n              <label class=\"popup-label font-semibold mb-1\">ไฟล์ (URL):</label>\n              <div class=\"flex\">\n                <input\n                  v-model=\"localItem.fileurl\"\n                  type=\"text\"\n                  class=\"popup-input flex-grow rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500\"\n                />\n                <button\n                  @click=\"triggerOpenFileUrlBrowser\" \n                  class=\"ml-2 px-4 py-2 bg-blue-500 text-white rounded-md text-sm\"\n                >\n                  Select File\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <!-- Preview Image -->\n          <div class=\"bg-white border border-gray-200 rounded-lg shadow-sm p-4\">\n            <label class=\"popup-label font-semibold mb-1\">รูปตัวอย่าง (URL):</label>\n            <div class=\"relative w-full h-48 flex items-center justify-center cursor-pointer border border-gray-200 rounded-md overflow-hidden mt-1\" @click=\"triggerOpenPreviewImageBrowser\">\n              <img\n                v-if=\"localItem.url\"\n                :src=\"localItem.url\"\n                alt=\"Selected Image\"\n                class=\"object-cover w-full h-full\"\n              />\n              <span v-else class=\"text-gray-400 text-sm\">ยังไม่ได้เลือกรูป</span>\n              <div class=\"absolute inset-0 flex flex-col items-center justify-center opacity-0 hover:opacity-75 bg-black bg-opacity-25 transition-opacity pointer-events-none\">\n                <span class=\"text-white text-center p-2 text-sm\">\n                  <i class=\"fas fa-upload text-white text-lg mr-1\"></i>\n                  คลิ๊กเพื่อเลือกรูปภาพ\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Display Mode & Download Option -->\n          <div class=\"bg-white border border-gray-200 rounded-lg shadow-sm p-4 mt-4\">\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label class=\"popup-label block mb-1 font-semibold\">การแสดงผลหลัก:</label>\n                <div class=\"flex space-x-4\">\n                  <label class=\"inline-flex items-center\">\n                    <input\n                      type=\"radio\"\n                      value=\"download\"\n                      v-model=\"localItem.display\"\n                      class=\"form-radio\"\n                    />\n                    <span class=\"ml-2 text-sm\">Direct Download</span>\n                  </label>\n                  <label class=\"inline-flex items-center\">\n                    <input\n                      type=\"radio\"\n                      value=\"preview\"\n                      v-model=\"localItem.display\"\n                      class=\"form-radio\"\n                    />\n                    <span class=\"ml-2 text-sm\">Preview</span>\n                  </label>\n                </div>\n              </div>\n              <div v-if=\"localItem.display === 'preview'\">\n                <label class=\"popup-label block mb-1 font-semibold\">ตัวเลือกสำหรับ Preview Mode:</label>\n                <label class=\"inline-flex items-center\">\n                  <input\n                    v-model=\"localItem.canDownload\"\n                    type=\"checkbox\"\n                    class=\"form-checkbox rounded\"\n                  />\n                  <span class=\"ml-2 text-sm\">Allow Download from Preview</span>\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport FileBrowser from \"@/interface/modal/FileBrowser.vue\";\n\nexport default {\n  name: 'PreviewElement',\n  components: {\n    FileBrowser,\n  },\n  props: {\n    item: {\n      type: Object,\n      required: true,\n    },\n    mode: {\n      type: String,\n      required: true, // 'edit' or 'preview'\n    },\n  },\n  emits: ['update-item'], // Removed 'open-file-preview-browser'\n  data() {\n    return {\n      localItem: JSON.parse(JSON.stringify(this.item)),\n      isPreviewImageBrowserOpen: false,\n      isFileUrlBrowserOpen: false, // Added for fileurl browser\n    };\n  },\n  watch: {\n    item: {\n      handler(newItem) {\n        if (JSON.stringify(newItem) !== JSON.stringify(this.localItem)) {\n          this.localItem = JSON.parse(JSON.stringify(newItem));\n        }\n      },\n      deep: true,\n    },\n    localItem: {\n      handler(updatedLocalItem) {\n        if (JSON.stringify(updatedLocalItem) !== JSON.stringify(this.item)) {\n          this.$emit('update-item', JSON.parse(JSON.stringify(updatedLocalItem)));\n        }\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    triggerOpenPreviewImageBrowser() {\n      this.isPreviewImageBrowserOpen = true;\n    },\n    changePreviewFileImageTrigger(payload) {\n      this.isPreviewImageBrowserOpen = payload;\n    },\n    selectPreviewFileImageTrigger(payload) {\n      if (payload && payload.file) {\n        this.localItem = {\n          ...this.localItem,\n          url: payload.file\n        };\n      }\n      this.isPreviewImageBrowserOpen = false;\n    },\n\n    triggerOpenFileUrlBrowser() {\n      this.isFileUrlBrowserOpen = true;\n    },\n    changeFileUrlBrowserTrigger(payload) {\n      this.isFileUrlBrowserOpen = payload;\n    },\n    selectFileUrlBrowserTrigger(payload) {\n      if (payload && payload.file) {\n        this.localItem = {\n          ...this.localItem,\n          fileurl: payload.file\n        };\n      }\n      this.isFileUrlBrowserOpen = false;\n    },\n  }\n};\n</script>\n\n<style scoped>\n/* Scoped styles for PreviewElement */\n.content-editor {\n  /* Styles from the original template were kept, they are specific to edit mode */\n}\n.popup-label {\n  /* Common label styling if needed */\n  font-size: 0.875rem; /* text-sm */\n  color: #4a5568; /* gray-700 */\n  margin-bottom: 0.25rem;\n}\n.popup-input {\n  /* Common input styling */\n  border-width: 1px;\n  border-color: #e2e8f0; /* gray-300 */\n  padding: 0.5rem 0.75rem;\n  font-size: 0.875rem;\n}\n.form-checkbox, .form-radio {\n    color: #4f46e5; /* indigo-600 */\n}\n.form-checkbox:focus, .form-radio:focus {\n    ring-color: #818cf8; /* indigo-300 */\n}\n.section-group {\n  margin-bottom: 1rem;\n}\n/* Additional styling for preview mode if necessary */\n</style> ","import { render } from \"./preview.vue?vue&type=template&id=23766f84&scoped=true\"\nimport script from \"./preview.vue?vue&type=script&lang=js\"\nexport * from \"./preview.vue?vue&type=script&lang=js\"\n\nimport \"./preview.vue?vue&type=style&index=0&id=23766f84&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-23766f84\"]])\n\nexport default __exports__"],"names":["__default__","props","data","console","log","this","isWindowsOpen","allowFileType","callbackFunction","SessionList","loading_sources","activeBlock","schoolId","isOpen","isAllow","isCallback","mode","components","FileManager","watch","newVal","methods","selectFileTrigger","payload","closeModal","selectFile","$emit","obj","mounted","setup","__exports__","key","class","_createElementBlock","$props","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","$data","localItem","url","src","alt","_hoisted_4","_hoisted_5","_cache","xmlns","fill","viewBox","stroke","d","_hoisted_6","title","filename","_hoisted_7","_hoisted_8","_createTextVNode","fileurl","_hoisted_9","_hoisted_10","_hoisted_11","_toDisplayString","display","_hoisted_12","_hoisted_13","canDownload","_createCommentVNode","_Fragment","isPreviewImageBrowserOpen","_createBlock","_component_FileBrowser","onFileBrowserTrigger","$options","changePreviewFileImageTrigger","onFileBrowserCallback","selectPreviewFileImageTrigger","isFileUrlBrowserOpen","changeFileUrlBrowserTrigger","selectFileUrlBrowserTrigger","_hoisted_14","_createStaticVNode","_hoisted_15","_hoisted_16","$event","type","_hoisted_17","onClick","args","triggerOpenFileUrlBrowser","_hoisted_18","triggerOpenPreviewImageBrowser","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","value","_hoisted_25","_hoisted_26","_hoisted_27","name","FileBrowser","item","Object","required","String","emits","JSON","parse","stringify","handler","newItem","deep","updatedLocalItem","file","render"],"sourceRoot":""}