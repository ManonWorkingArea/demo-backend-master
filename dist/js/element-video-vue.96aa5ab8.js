"use strict";(self["webpackChunknode_backend"]=self["webpackChunknode_backend"]||[]).push([[4928],{40687:function(e,l,t){t.d(l,{A:function(){return v}});var o=t(20641),a=t(50953),s=t(90033),i=t(94232),r=t(10797),c=t(55372);const n={key:0,class:"fixed inset-0 overflow-y-auto"},d={class:"flex min-h-full items-center justify-center p-4 text-center"},p={class:"font-medium"},u={class:"bg-black w-8 h-8 right-2 top-2 leading-8 hover:bg-gray-500"},m={props:["isWindowsOpen","allowFileType","callbackFunction"],data(){return console.log("FileBrowser props:",this.isWindowsOpen,this.allowFileType,this.callbackFunction),{SessionList:[],loading_sources:!0,activeBlock:!1,schoolId:"",isOpen:this.isWindowsOpen,isAllow:this.allowFileType,isCallback:this.callbackFunction,mode:"popup"}},components:{FileManager:c.A},watch:{isWindowsOpen(e){console.log("isWindowsOpen changed to:",e),this.isOpen=e}},methods:{selectFileTrigger(e){this.selectFileTrigger=e,this.closeModal(),this.selectFile(e)},closeModal(){this.isOpen=!1,this.$emit("fileBrowserTrigger",!1)},selectFile(e){this.$emit("fileBrowserCallback",e)}},async mounted(){console.log("FileBrowser mounted with isOpen:",this.isOpen,"isWindowsOpen:",this.isWindowsOpen)},setup(){}};var h=Object.assign(m,{__name:"FileBrowser",setup(e){return(l,t)=>{const m=(0,o.g2)("font-awesome-icon");return(0,o.uX)(),(0,o.Wv)((0,a.R1)(i.O),{appear:"",show:l.isOpen,as:"template"},{default:(0,o.k6)((()=>[(0,o.bF)((0,a.R1)(r.lG),{as:"div",onClose:l.closeModal,class:"relative z-10"},{default:(0,o.k6)((()=>[(0,o.bF)((0,a.R1)(i._),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.Lk)("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)]))),_:1}),l.loading_sources?((0,o.uX)(),(0,o.CE)("div",n,[(0,o.Lk)("div",d,[(0,o.bF)((0,a.R1)(i._),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:(0,o.k6)((()=>[(0,o.bF)((0,a.R1)(r.Lj),{class:(0,s.C4)(["w-[60rem] z-40 transform overflow-hidden bg-white p-3 text-left align-middle shadow-xl transition-all blocking relative",[l.activeBlock?"isblock":"isunblock"]]),"data-content":"กำลังติดต่อฐานข้อมูล กรุณารอสักครู่....."},{default:(0,o.k6)((()=>[(0,o.bF)((0,a.R1)(r.L3),{as:"h3",class:"text-lg pb-2 font-bold leading-6 text-gray-900 border-b"},{default:(0,o.k6)((()=>[t[3]||(t[3]=(0,o.eW)("เลือกไฟล์ (Select File) ")),(0,o.Lk)("p",p,[t[2]||(t[2]=(0,o.eW)("อนุญาติเฉพาะไฟล์ ")),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.allowFileType,(e=>((0,o.uX)(),(0,o.CE)("span",{key:e.code,class:"text-xs font-medium bg-indigo-600 pl-2 pr-2 pt-1 mr-1 rounded text-white"},(0,s.v_)(e),1)))),128))]),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.closeModal&&l.closeModal(...e)),type:"button",class:"z-50 absolute top-2 right-2"},[(0,o.Lk)("div",u,[(0,o.bF)(m,{icon:["fas","times"],class:"text-white mt-[7px] font-sm"})])])])),_:1}),(0,o.Lk)("div",null,[(0,o.bF)(c.A,{onSelectFileTrigger:l.selectFileTrigger,Mode:l.mode,AllowFile:l.isAllow,CallbackFunc:l.isCallback},null,8,["onSelectFileTrigger","Mode","AllowFile","CallbackFunc"])])])),_:1},8,["class"])])),_:1})])])):(0,o.Q3)("",!0)])),_:1},8,["onClose"])])),_:1},8,["show"])}}});const b=h;var v=b},88076:function(e,l,t){t.r(l),t.d(l,{default:function(){return C}});var o=t(20641),a=t(90033),s=t(53751);const i={key:0,class:"p-2 border rounded-md shadow-sm"},r={class:"flex items-center space-x-3"},c={class:"flex-grow min-w-0"},n=["title"],d={class:"text-xs text-gray-500"},p={key:0,class:"video-container mt-4"},u=["src","autoplay","controls"],m={key:1,class:"content-editor overflow-auto bg-white rounded-lg h-full"},h={class:"px-6 py-4 space-y-6"},b={class:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 space-y-4"},v={class:"flex items-center space-x-2"},g={key:0,class:"video-container mt-4"},k=["src","autoplay","controls"],w={class:"bg-white border border-gray-200 rounded-lg shadow-sm p-4 grid grid-cols-1 md:grid-cols-2 gap-4"},f={class:"inline-flex items-center"},y={class:"inline-flex items-center"};function x(e,l,t,x,F,L){const I=(0,o.g2)("FileBrowser");return(0,o.uX)(),(0,o.CE)("div",null,["preview"===t.mode?((0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",r,[l[9]||(l[9]=(0,o.Lk)("div",{class:"flex-shrink-0 text-gray-400"},[(0,o.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.5"},[(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.91 11.672a.75.75 0 010 1.656l-5.603 3.113A.75.75 0 019 15.935V8.065a.75.75 0 011.307-.513l5.603 3.113z"}),(0,o.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 6.375A2.625 2.625 0 119.375 6.375 2.625 2.625 0 014.5 6.375zm0 11.25A2.625 2.625 0 119.375 17.625 2.625 2.625 0 014.5 17.625zm0-11.25h1.034a2.625 2.625 0 000-2.25H4.5zm0 11.25h1.034a2.625 2.625 0 000-2.25H4.5zm10.034-8.25h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V11.25zm0 2.25h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15.75zM6.75 9.75A.75.75 0 016 9V7.5a.75.75 0 01.75-.75H18a.75.75 0 01.75.75v10.5A.75.75 0 0118 18.75H6.75a.75.75 0 01-.75-.75V15a.75.75 0 01.75-.75h11.25a.75.75 0 000-1.5H6.75A.75.75 0 016 12v-1.5a.75.75 0 01.75-.75H18a.75.75 0 000-1.5H6.75z"})])],-1)),(0,o.Lk)("div",c,[l[8]||(l[8]=(0,o.Lk)("p",{class:"text-sm font-medium text-gray-900 truncate"},"Video",-1)),(0,o.Lk)("p",{class:"text-xs text-gray-500 truncate",title:F.localItem.url||"No URL"},(0,a.v_)(F.localItem.url||"No URL provided"),9,n),(0,o.Lk)("p",d," Autoplay: "+(0,a.v_)(F.localItem.autoplay?"Yes":"No")+" | Controls: "+(0,a.v_)(F.localItem.controls?"Yes":"No"),1)])]),F.localItem.url?((0,o.uX)(),(0,o.CE)("div",p,[(0,o.Lk)("video",{src:F.localItem.url,autoplay:F.localItem.autoplay,controls:F.localItem.controls,style:{"max-width":"100%",height:"auto","border-radius":"0.5rem"}}," Your browser does not support the video tag. ",8,u)])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0),"edit"===t.mode?((0,o.uX)(),(0,o.CE)("div",m,[l[13]||(l[13]=(0,o.Fv)('<div class="bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10" data-v-1d797c4c><div class="flex items-center space-x-3" data-v-1d797c4c><div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center" data-v-1d797c4c><i class="fas fa-video text-blue-600 h-4 w-4" data-v-1d797c4c></i></div><div data-v-1d797c4c><h3 class="text-lg font-semibold text-gray-900" data-v-1d797c4c>Video Configuration</h3><p class="text-sm text-gray-500" data-v-1d797c4c>ตั้งค่าการแสดงผลของวิดีโอ</p></div></div></div>',1)),(0,o.Lk)("div",h,[(0,o.Lk)("div",b,[l[10]||(l[10]=(0,o.Lk)("label",{class:"popup-label block font-semibold mb-1"},"Video URL or Path:",-1)),(0,o.Lk)("div",v,[(0,o.bo)((0,o.Lk)("input",{type:"text",id:"videoUrl","onUpdate:modelValue":l[0]||(l[0]=e=>F.localItem.url=e),onInput:l[1]||(l[1]=(...e)=>L.updateLocalItem&&L.updateLocalItem(...e)),class:"popup-input flex-grow rounded-md border border-gray-300 p-2 focus:border-blue-500 focus:ring-2 focus:ring-blue-500",placeholder:"Enter video URL or select a file"},null,544),[[s.Jo,F.localItem.url]]),(0,o.Lk)("button",{onClick:l[2]||(l[2]=(...e)=>L.openVideoFileBrowser&&L.openVideoFileBrowser(...e)),class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600"}," Select File ")]),F.localItem.url?((0,o.uX)(),(0,o.CE)("div",g,[(0,o.Lk)("video",{src:F.localItem.url,autoplay:F.localItem.autoplay,controls:F.localItem.controls,style:{"max-width":"100%",height:"auto","border-radius":"0.5rem"}}," Your browser does not support the video tag. ",8,k)])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",w,[(0,o.Lk)("label",f,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>F.localItem.autoplay=e),type:"checkbox",onChange:l[4]||(l[4]=(...e)=>L.updateLocalItem&&L.updateLocalItem(...e)),class:"form-checkbox rounded"},null,544),[[s.lH,F.localItem.autoplay]]),l[11]||(l[11]=(0,o.Lk)("span",{class:"ml-2 popup-label"},"Autoplay",-1))]),(0,o.Lk)("label",y,[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":l[5]||(l[5]=e=>F.localItem.controls=e),type:"checkbox",onChange:l[6]||(l[6]=(...e)=>L.updateLocalItem&&L.updateLocalItem(...e)),class:"form-checkbox rounded"},null,544),[[s.lH,F.localItem.controls]]),l[12]||(l[12]=(0,o.Lk)("span",{class:"ml-2 popup-label"},"Show Controls",-1))])])])])):(0,o.Q3)("",!0),F.fileBrowserOpen?((0,o.uX)(),(0,o.Wv)(I,{key:2,isWindowsOpen:F.fileBrowserOpen,allowFileType:["mp4","webm","mov","avi","wmv","flv","ogg"],callbackFunction:"videoFileSelected",onFileBrowserTrigger:l[7]||(l[7]=e=>F.fileBrowserOpen=!1),onFileBrowserCallback:L.handleVideoFileSelected,class:"z-[9999]"},null,8,["isWindowsOpen","onFileBrowserCallback"])):(0,o.Q3)("",!0)])}var F=t(40687),L={name:"VideoElement",components:{FileBrowser:F.A},props:{item:{type:Object,required:!0},mode:{type:String,required:!0}},emits:["update-item"],data(){return{localItem:{},fileBrowserOpen:!1}},watch:{item:{handler(e){const l={url:"",autoplay:!1,controls:!0},t={...l,...e};JSON.stringify(t)!==JSON.stringify(this.localItem)&&(this.localItem=JSON.parse(JSON.stringify(t)))},deep:!0,immediate:!0}},methods:{updateLocalItem(){this.$emit("update-item",JSON.parse(JSON.stringify(this.localItem)))},openVideoFileBrowser(){this.fileBrowserOpen=!0},handleVideoFileSelected(e){e&&e.file&&(this.localItem.url=e.file,this.updateLocalItem()),this.fileBrowserOpen=!1}}},I=t(64621);const O=(0,I.A)(L,[["render",x],["__scopeId","data-v-1d797c4c"]]);var C=O}}]);
//# sourceMappingURL=element-video-vue.96aa5ab8.js.map